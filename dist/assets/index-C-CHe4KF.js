var uI=t=>{throw TypeError(t)};var e_=(t,e,r)=>e.has(t)||uI("Cannot "+r);var W=(t,e,r)=>(e_(t,e,"read from private field"),r?r.call(t):e.get(t)),Fe=(t,e,r)=>e.has(t)?uI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ee=(t,e,r,n)=>(e_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),at=(t,e,r)=>(e_(t,e,"access private method"),r);var Kg=(t,e,r,n)=>({set _(i){Ee(t,e,i,r)},get _(){return W(t,e,n)}});function CH(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _4={exports:{}},O0={},S4={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm=Symbol.for("react.element"),PH=Symbol.for("react.portal"),IH=Symbol.for("react.fragment"),OH=Symbol.for("react.strict_mode"),kH=Symbol.for("react.profiler"),RH=Symbol.for("react.provider"),MH=Symbol.for("react.context"),DH=Symbol.for("react.forward_ref"),$H=Symbol.for("react.suspense"),LH=Symbol.for("react.memo"),FH=Symbol.for("react.lazy"),dI=Symbol.iterator;function VH(t){return t===null||typeof t!="object"?null:(t=dI&&t[dI]||t["@@iterator"],typeof t=="function"?t:null)}var E4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T4=Object.assign,j4={};function gf(t,e,r){this.props=t,this.context=e,this.refs=j4,this.updater=r||E4}gf.prototype.isReactComponent={};gf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A4(){}A4.prototype=gf.prototype;function lj(t,e,r){this.props=t,this.context=e,this.refs=j4,this.updater=r||E4}var cj=lj.prototype=new A4;cj.constructor=lj;T4(cj,gf.prototype);cj.isPureReactComponent=!0;var fI=Array.isArray,N4=Object.prototype.hasOwnProperty,uj={current:null},C4={key:!0,ref:!0,__self:!0,__source:!0};function P4(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)N4.call(e,n)&&!C4.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Xm,type:t,key:a,ref:s,props:i,_owner:uj.current}}function BH(t,e){return{$$typeof:Xm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dj(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xm}function UH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var hI=/\/+/g;function t_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UH(""+t.key):e.toString(36)}function Uv(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xm:case PH:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+t_(s,0):n,fI(i)?(r="",t!=null&&(r=t.replace(hI,"$&/")+"/"),Uv(i,e,r,"",function(u){return u})):i!=null&&(dj(i)&&(i=BH(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(hI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",fI(t))for(var o=0;o<t.length;o++){a=t[o];var c=n+t_(a,o);s+=Uv(a,e,r,c,i)}else if(c=VH(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=n+t_(a,o++),s+=Uv(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Yg(t,e,r){if(t==null)return t;var n=[],i=0;return Uv(t,n,"","",function(a){return e.call(r,a,i++)}),n}function zH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},zv={transition:null},qH={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:zv,ReactCurrentOwner:uj};function I4(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:Yg,forEach:function(t,e,r){Yg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yg(t,function(){e++}),e},toArray:function(t){return Yg(t,function(e){return e})||[]},only:function(t){if(!dj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=gf;dt.Fragment=IH;dt.Profiler=kH;dt.PureComponent=lj;dt.StrictMode=OH;dt.Suspense=$H;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qH;dt.act=I4;dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=T4({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=uj.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)N4.call(e,c)&&!C4.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Xm,type:t.type,key:i,ref:a,props:n,_owner:s}};dt.createContext=function(t){return t={$$typeof:MH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RH,_context:t},t.Consumer=t};dt.createElement=P4;dt.createFactory=function(t){var e=P4.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:DH,render:t}};dt.isValidElement=dj;dt.lazy=function(t){return{$$typeof:FH,_payload:{_status:-1,_result:t},_init:zH}};dt.memo=function(t,e){return{$$typeof:LH,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=zv.transition;zv.transition={};try{t()}finally{zv.transition=e}};dt.unstable_act=I4;dt.useCallback=function(t,e){return Fn.current.useCallback(t,e)};dt.useContext=function(t){return Fn.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Fn.current.useEffect(t,e)};dt.useId=function(){return Fn.current.useId()};dt.useImperativeHandle=function(t,e,r){return Fn.current.useImperativeHandle(t,e,r)};dt.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Fn.current.useMemo(t,e)};dt.useReducer=function(t,e,r){return Fn.current.useReducer(t,e,r)};dt.useRef=function(t){return Fn.current.useRef(t)};dt.useState=function(t){return Fn.current.useState(t)};dt.useSyncExternalStore=function(t,e,r){return Fn.current.useSyncExternalStore(t,e,r)};dt.useTransition=function(){return Fn.current.useTransition()};dt.version="18.3.1";S4.exports=dt;var _=S4.exports;const z=Pt(_),O4=CH({__proto__:null,default:z},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WH=_,HH=Symbol.for("react.element"),GH=Symbol.for("react.fragment"),KH=Object.prototype.hasOwnProperty,QH=WH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YH={key:!0,ref:!0,__self:!0,__source:!0};function k4(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)KH.call(e,n)&&!YH.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:HH,type:t,key:a,ref:s,props:i,_owner:QH.current}}O0.Fragment=GH;O0.jsx=k4;O0.jsxs=k4;_4.exports=O0;var l=_4.exports,R4={exports:{}},vi={},M4={exports:{}},D4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var U=F.length;F.push(B);e:for(;0<U;){var J=U-1>>>1,Y=F[J];if(0<i(Y,B))F[J]=B,F[U]=Y,U=J;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var B=F[0],U=F.pop();if(U!==B){F[0]=U;e:for(var J=0,Y=F.length,oe=Y>>>1;J<oe;){var H=2*(J+1)-1,Z=F[H],ye=H+1,ue=F[ye];if(0>i(Z,U))ye<Y&&0>i(ue,Z)?(F[J]=ue,F[ye]=U,J=ye):(F[J]=Z,F[H]=U,J=H);else if(ye<Y&&0>i(ue,U))F[J]=ue,F[ye]=U,J=ye;else break e}}return B}function i(F,B){var U=F.sortIndex-B.sortIndex;return U!==0?U:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=F)n(u),B.sortIndex=B.expirationTime,e(c,B);else break;B=r(u)}}function N(F){if(g=!1,b(F),!v)if(r(c)!==null)v=!0,V(T);else{var B=r(u);B!==null&&L(N,B.startTime-F)}}function T(F,B){v=!1,g&&(g=!1,w(j),j=-1),m=!0;var U=h;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||F&&!k());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var Y=J(f.expirationTime<=B);B=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var H=r(u);H!==null&&L(N,H.startTime-B),oe=!1}return oe}finally{f=null,h=U,m=!1}}var E=!1,S=null,j=-1,C=5,I=-1;function k(){return!(t.unstable_now()-I<C)}function R(){if(S!==null){var F=t.unstable_now();I=F;var B=!0;try{B=S(!0,F)}finally{B?O():(E=!1,S=null)}}else E=!1}var O;if(typeof x=="function")O=function(){x(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=R,O=function(){D.postMessage(null)}}else O=function(){y(R,0)};function V(F){S=F,E||(E=!0,O())}function L(F,B){j=y(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,V(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var U=h;h=B;try{return F()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=h;h=F;try{return B()}finally{h=U}},t.unstable_scheduleCallback=function(F,B,U){var J=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,F={id:d++,callback:B,priorityLevel:F,startTime:U,expirationTime:Y,sortIndex:-1},U>J?(F.sortIndex=U,e(u,F),r(c)===null&&F===r(u)&&(g?(w(j),j=-1):g=!0,L(N,U-J))):(F.sortIndex=Y,e(c,F),v||m||(v=!0,V(T))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var B=h;return function(){var U=h;h=B;try{return F.apply(this,arguments)}finally{h=U}}}})(D4);M4.exports=D4;var XH=M4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZH=_,gi=XH;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $4=new Set,xp={};function Wc(t,e){Td(t,e),Td(t+"Capture",e)}function Td(t,e){for(xp[t]=e,t=0;t<e.length;t++)$4.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P1=Object.prototype.hasOwnProperty,JH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pI={},mI={};function eG(t){return P1.call(mI,t)?!0:P1.call(pI,t)?!1:JH.test(t)?mI[t]=!0:(pI[t]=!0,!1)}function tG(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rG(t,e,r,n){if(e===null||typeof e>"u"||tG(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vn(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fj=/[\-:]([a-z])/g;function hj(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fj,hj);nn[e]=new Vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fj,hj);nn[e]=new Vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fj,hj);nn[e]=new Vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function pj(t,e,r,n){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rG(e,r,i,n)&&(r=null),n||i===null?eG(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vs=ZH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xg=Symbol.for("react.element"),Tu=Symbol.for("react.portal"),ju=Symbol.for("react.fragment"),mj=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),L4=Symbol.for("react.provider"),F4=Symbol.for("react.context"),gj=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),k1=Symbol.for("react.suspense_list"),vj=Symbol.for("react.memo"),ao=Symbol.for("react.lazy"),V4=Symbol.for("react.offscreen"),gI=Symbol.iterator;function lh(t){return t===null||typeof t!="object"?null:(t=gI&&t[gI]||t["@@iterator"],typeof t=="function"?t:null)}var sr=Object.assign,r_;function Ph(t){if(r_===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);r_=e&&e[1]||""}return`
`+r_+t}var n_=!1;function i_(t,e){if(!t||n_)return"";n_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=o);break}}}finally{n_=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ph(t):""}function nG(t){switch(t.tag){case 5:return Ph(t.type);case 16:return Ph("Lazy");case 13:return Ph("Suspense");case 19:return Ph("SuspenseList");case 0:case 2:case 15:return t=i_(t.type,!1),t;case 11:return t=i_(t.type.render,!1),t;case 1:return t=i_(t.type,!0),t;default:return""}}function R1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ju:return"Fragment";case Tu:return"Portal";case I1:return"Profiler";case mj:return"StrictMode";case O1:return"Suspense";case k1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case F4:return(t.displayName||"Context")+".Consumer";case L4:return(t._context.displayName||"Context")+".Provider";case gj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vj:return e=t.displayName||null,e!==null?e:R1(t.type)||"Memo";case ao:e=t._payload,t=t._init;try{return R1(t(e))}catch{}}return null}function iG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R1(e);case 8:return e===mj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aG(t){var e=B4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zg(t){t._valueTracker||(t._valueTracker=aG(t))}function U4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=B4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function M1(t,e){var r=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function vI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Yo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z4(t,e){e=e.checked,e!=null&&pj(t,"checked",e,!1)}function D1(t,e){z4(t,e);var r=Yo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$1(t,e.type,r):e.hasOwnProperty("defaultValue")&&$1(t,e.type,Yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $1(t,e,r){(e!=="number"||Sy(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ih=Array.isArray;function qu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Yo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function L1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(fe(92));if(Ih(r)){if(1<r.length)throw Error(fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Yo(r)}}function q4(t,e){var r=Yo(e.value),n=Yo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function bI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jg,H4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jg=Jg||document.createElement("div"),Jg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sG=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(t){sG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hh[e]=Hh[t]})});function G4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hh.hasOwnProperty(t)&&Hh[t]?(""+e).trim():e+"px"}function K4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=G4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var oG=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V1(t,e){if(e){if(oG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function B1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U1=null;function yj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var z1=null,Wu=null,Hu=null;function wI(t){if(t=eg(t)){if(typeof z1!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=$0(e),z1(t.stateNode,t.type,e))}}function Q4(t){Wu?Hu?Hu.push(t):Hu=[t]:Wu=t}function Y4(){if(Wu){var t=Wu,e=Hu;if(Hu=Wu=null,wI(t),e)for(t=0;t<e.length;t++)wI(e[t])}}function X4(t,e){return t(e)}function Z4(){}var a_=!1;function J4(t,e,r){if(a_)return t(e,r);a_=!0;try{return X4(t,e,r)}finally{a_=!1,(Wu!==null||Hu!==null)&&(Z4(),Y4())}}function wp(t,e){var r=t.stateNode;if(r===null)return null;var n=$0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(fe(231,e,typeof r));return r}var q1=!1;if(Ss)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){q1=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{q1=!1}function lG(t,e,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Gh=!1,Ey=null,Ty=!1,W1=null,cG={onError:function(t){Gh=!0,Ey=t}};function uG(t,e,r,n,i,a,s,o,c){Gh=!1,Ey=null,lG.apply(cG,arguments)}function dG(t,e,r,n,i,a,s,o,c){if(uG.apply(this,arguments),Gh){if(Gh){var u=Ey;Gh=!1,Ey=null}else throw Error(fe(198));Ty||(Ty=!0,W1=u)}}function Hc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function eL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _I(t){if(Hc(t)!==t)throw Error(fe(188))}function fG(t){var e=t.alternate;if(!e){if(e=Hc(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return _I(i),t;if(a===n)return _I(i),e;a=a.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?t:e}function tL(t){return t=fG(t),t!==null?rL(t):null}function rL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rL(t);if(e!==null)return e;t=t.sibling}return null}var nL=gi.unstable_scheduleCallback,SI=gi.unstable_cancelCallback,hG=gi.unstable_shouldYield,pG=gi.unstable_requestPaint,pr=gi.unstable_now,mG=gi.unstable_getCurrentPriorityLevel,xj=gi.unstable_ImmediatePriority,iL=gi.unstable_UserBlockingPriority,jy=gi.unstable_NormalPriority,gG=gi.unstable_LowPriority,aL=gi.unstable_IdlePriority,k0=null,Na=null;function vG(t){if(Na&&typeof Na.onCommitFiberRoot=="function")try{Na.onCommitFiberRoot(k0,t,void 0,(t.current.flags&128)===128)}catch{}}var na=Math.clz32?Math.clz32:bG,yG=Math.log,xG=Math.LN2;function bG(t){return t>>>=0,t===0?32:31-(yG(t)/xG|0)|0}var ev=64,tv=4194304;function Oh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ay(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Oh(o):(a&=s,a!==0&&(n=Oh(a)))}else s=r&~i,s!==0?n=Oh(s):a!==0&&(n=Oh(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-na(e),i=1<<r,n|=t[r],e&=~i;return n}function wG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _G(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-na(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=wG(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function H1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sL(){var t=ev;return ev<<=1,!(ev&4194240)&&(ev=64),t}function s_(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-na(e),t[e]=r}function SG(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-na(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function bj(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-na(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ot=0;function oL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lL,wj,cL,uL,dL,G1=!1,rv=[],Oo=null,ko=null,Ro=null,_p=new Map,Sp=new Map,co=[],EG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EI(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":_p.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sp.delete(e.pointerId)}}function uh(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=eg(e),e!==null&&wj(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TG(t,e,r,n,i){switch(e){case"focusin":return Oo=uh(Oo,t,e,r,n,i),!0;case"dragenter":return ko=uh(ko,t,e,r,n,i),!0;case"mouseover":return Ro=uh(Ro,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return _p.set(a,uh(_p.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Sp.set(a,uh(Sp.get(a)||null,t,e,r,n,i)),!0}return!1}function fL(t){var e=Wl(t.target);if(e!==null){var r=Hc(e);if(r!==null){if(e=r.tag,e===13){if(e=eL(r),e!==null){t.blockedOn=e,dL(t.priority,function(){cL(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=K1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);U1=n,r.target.dispatchEvent(n),U1=null}else return e=eg(r),e!==null&&wj(e),t.blockedOn=r,!1;e.shift()}return!0}function TI(t,e,r){qv(t)&&r.delete(e)}function jG(){G1=!1,Oo!==null&&qv(Oo)&&(Oo=null),ko!==null&&qv(ko)&&(ko=null),Ro!==null&&qv(Ro)&&(Ro=null),_p.forEach(TI),Sp.forEach(TI)}function dh(t,e){t.blockedOn===e&&(t.blockedOn=null,G1||(G1=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,jG)))}function Ep(t){function e(i){return dh(i,t)}if(0<rv.length){dh(rv[0],t);for(var r=1;r<rv.length;r++){var n=rv[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Oo!==null&&dh(Oo,t),ko!==null&&dh(ko,t),Ro!==null&&dh(Ro,t),_p.forEach(e),Sp.forEach(e),r=0;r<co.length;r++)n=co[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<co.length&&(r=co[0],r.blockedOn===null);)fL(r),r.blockedOn===null&&co.shift()}var Gu=Vs.ReactCurrentBatchConfig,Ny=!0;function AG(t,e,r,n){var i=Ot,a=Gu.transition;Gu.transition=null;try{Ot=1,_j(t,e,r,n)}finally{Ot=i,Gu.transition=a}}function NG(t,e,r,n){var i=Ot,a=Gu.transition;Gu.transition=null;try{Ot=4,_j(t,e,r,n)}finally{Ot=i,Gu.transition=a}}function _j(t,e,r,n){if(Ny){var i=K1(t,e,r,n);if(i===null)g_(t,e,n,Cy,r),EI(t,n);else if(TG(i,t,e,r,n))n.stopPropagation();else if(EI(t,n),e&4&&-1<EG.indexOf(t)){for(;i!==null;){var a=eg(i);if(a!==null&&lL(a),a=K1(t,e,r,n),a===null&&g_(t,e,n,Cy,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else g_(t,e,n,null,r)}}var Cy=null;function K1(t,e,r,n){if(Cy=null,t=yj(n),t=Wl(t),t!==null)if(e=Hc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=eL(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cy=t,null}function hL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mG()){case xj:return 1;case iL:return 4;case jy:case gG:return 16;case aL:return 536870912;default:return 16}default:return 16}}var jo=null,Sj=null,Wv=null;function pL(){if(Wv)return Wv;var t,e=Sj,r=e.length,n,i="value"in jo?jo.value:jo.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Wv=i.slice(t,1<n?1-n:void 0)}function Hv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nv(){return!0}function jI(){return!1}function yi(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nv:jI,this.isPropagationStopped=jI,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nv)},persist:function(){},isPersistent:nv}),e}var vf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ej=yi(vf),Jm=sr({},vf,{view:0,detail:0}),CG=yi(Jm),o_,l_,fh,R0=sr({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fh&&(fh&&t.type==="mousemove"?(o_=t.screenX-fh.screenX,l_=t.screenY-fh.screenY):l_=o_=0,fh=t),o_)},movementY:function(t){return"movementY"in t?t.movementY:l_}}),AI=yi(R0),PG=sr({},R0,{dataTransfer:0}),IG=yi(PG),OG=sr({},Jm,{relatedTarget:0}),c_=yi(OG),kG=sr({},vf,{animationName:0,elapsedTime:0,pseudoElement:0}),RG=yi(kG),MG=sr({},vf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DG=yi(MG),$G=sr({},vf,{data:0}),NI=yi($G),LG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VG[t])?!!e[t]:!1}function Tj(){return BG}var UG=sr({},Jm,{key:function(t){if(t.key){var e=LG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tj,charCode:function(t){return t.type==="keypress"?Hv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zG=yi(UG),qG=sr({},R0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CI=yi(qG),WG=sr({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tj}),HG=yi(WG),GG=sr({},vf,{propertyName:0,elapsedTime:0,pseudoElement:0}),KG=yi(GG),QG=sr({},R0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YG=yi(QG),XG=[9,13,27,32],jj=Ss&&"CompositionEvent"in window,Kh=null;Ss&&"documentMode"in document&&(Kh=document.documentMode);var ZG=Ss&&"TextEvent"in window&&!Kh,mL=Ss&&(!jj||Kh&&8<Kh&&11>=Kh),PI=" ",II=!1;function gL(t,e){switch(t){case"keyup":return XG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Au=!1;function JG(t,e){switch(t){case"compositionend":return vL(e);case"keypress":return e.which!==32?null:(II=!0,PI);case"textInput":return t=e.data,t===PI&&II?null:t;default:return null}}function eK(t,e){if(Au)return t==="compositionend"||!jj&&gL(t,e)?(t=pL(),Wv=Sj=jo=null,Au=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mL&&e.locale!=="ko"?null:e.data;default:return null}}var tK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tK[t.type]:e==="textarea"}function yL(t,e,r,n){Q4(n),e=Py(e,"onChange"),0<e.length&&(r=new Ej("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Qh=null,Tp=null;function rK(t){CL(t,0)}function M0(t){var e=Pu(t);if(U4(e))return t}function nK(t,e){if(t==="change")return e}var xL=!1;if(Ss){var u_;if(Ss){var d_="oninput"in document;if(!d_){var kI=document.createElement("div");kI.setAttribute("oninput","return;"),d_=typeof kI.oninput=="function"}u_=d_}else u_=!1;xL=u_&&(!document.documentMode||9<document.documentMode)}function RI(){Qh&&(Qh.detachEvent("onpropertychange",bL),Tp=Qh=null)}function bL(t){if(t.propertyName==="value"&&M0(Tp)){var e=[];yL(e,Tp,t,yj(t)),J4(rK,e)}}function iK(t,e,r){t==="focusin"?(RI(),Qh=e,Tp=r,Qh.attachEvent("onpropertychange",bL)):t==="focusout"&&RI()}function aK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return M0(Tp)}function sK(t,e){if(t==="click")return M0(e)}function oK(t,e){if(t==="input"||t==="change")return M0(e)}function lK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ca=typeof Object.is=="function"?Object.is:lK;function jp(t,e){if(ca(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!P1.call(e,i)||!ca(t[i],e[i]))return!1}return!0}function MI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DI(t,e){var r=MI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=MI(r)}}function wL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _L(){for(var t=window,e=Sy();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sy(t.document)}return e}function Aj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cK(t){var e=_L(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&wL(r.ownerDocument.documentElement,r)){if(n!==null&&Aj(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=DI(r,a);var s=DI(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uK=Ss&&"documentMode"in document&&11>=document.documentMode,Nu=null,Q1=null,Yh=null,Y1=!1;function $I(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Y1||Nu==null||Nu!==Sy(n)||(n=Nu,"selectionStart"in n&&Aj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yh&&jp(Yh,n)||(Yh=n,n=Py(Q1,"onSelect"),0<n.length&&(e=new Ej("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Nu)))}function iv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Cu={animationend:iv("Animation","AnimationEnd"),animationiteration:iv("Animation","AnimationIteration"),animationstart:iv("Animation","AnimationStart"),transitionend:iv("Transition","TransitionEnd")},f_={},SL={};Ss&&(SL=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function D0(t){if(f_[t])return f_[t];if(!Cu[t])return t;var e=Cu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in SL)return f_[t]=e[r];return t}var EL=D0("animationend"),TL=D0("animationiteration"),jL=D0("animationstart"),AL=D0("transitionend"),NL=new Map,LI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pl(t,e){NL.set(t,e),Wc(e,[t])}for(var h_=0;h_<LI.length;h_++){var p_=LI[h_],dK=p_.toLowerCase(),fK=p_[0].toUpperCase()+p_.slice(1);pl(dK,"on"+fK)}pl(EL,"onAnimationEnd");pl(TL,"onAnimationIteration");pl(jL,"onAnimationStart");pl("dblclick","onDoubleClick");pl("focusin","onFocus");pl("focusout","onBlur");pl(AL,"onTransitionEnd");Td("onMouseEnter",["mouseout","mouseover"]);Td("onMouseLeave",["mouseout","mouseover"]);Td("onPointerEnter",["pointerout","pointerover"]);Td("onPointerLeave",["pointerout","pointerover"]);Wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hK=new Set("cancel close invalid load scroll toggle".split(" ").concat(kh));function FI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,dG(n,e,void 0,t),t.currentTarget=null}function CL(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;FI(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;FI(i,o,u),a=c}}}if(Ty)throw t=W1,Ty=!1,W1=null,t}function Gt(t,e){var r=e[tS];r===void 0&&(r=e[tS]=new Set);var n=t+"__bubble";r.has(n)||(PL(e,t,2,!1),r.add(n))}function m_(t,e,r){var n=0;e&&(n|=4),PL(r,t,n,e)}var av="_reactListening"+Math.random().toString(36).slice(2);function Ap(t){if(!t[av]){t[av]=!0,$4.forEach(function(r){r!=="selectionchange"&&(hK.has(r)||m_(r,!1,t),m_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[av]||(e[av]=!0,m_("selectionchange",!1,e))}}function PL(t,e,r,n){switch(hL(e)){case 1:var i=AG;break;case 4:i=NG;break;default:i=_j}r=i.bind(null,e,r,t),i=void 0,!q1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function g_(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Wl(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}J4(function(){var u=a,d=yj(r),f=[];e:{var h=NL.get(t);if(h!==void 0){var m=Ej,v=t;switch(t){case"keypress":if(Hv(r)===0)break e;case"keydown":case"keyup":m=zG;break;case"focusin":v="focus",m=c_;break;case"focusout":v="blur",m=c_;break;case"beforeblur":case"afterblur":m=c_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=AI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=IG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HG;break;case EL:case TL:case jL:m=RG;break;case AL:m=KG;break;case"scroll":m=CG;break;case"wheel":m=YG;break;case"copy":case"cut":case"paste":m=DG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=CI}var g=(e&4)!==0,y=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,b;x!==null;){b=x;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,w!==null&&(N=wp(x,w),N!=null&&g.push(Np(x,N,b)))),y)break;x=x.return}0<g.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==U1&&(v=r.relatedTarget||r.fromElement)&&(Wl(v)||v[Es]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Wl(v):null,v!==null&&(y=Hc(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=AI,N="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=CI,N="onPointerLeave",w="onPointerEnter",x="pointer"),y=m==null?h:Pu(m),b=v==null?h:Pu(v),h=new g(N,x+"leave",m,r,d),h.target=y,h.relatedTarget=b,N=null,Wl(d)===u&&(g=new g(w,x+"enter",v,r,d),g.target=b,g.relatedTarget=y,N=g),y=N,m&&v)t:{for(g=m,w=v,x=0,b=g;b;b=fu(b))x++;for(b=0,N=w;N;N=fu(N))b++;for(;0<x-b;)g=fu(g),x--;for(;0<b-x;)w=fu(w),b--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=fu(g),w=fu(w)}g=null}else g=null;m!==null&&VI(f,h,m,g,!1),v!==null&&y!==null&&VI(f,y,v,g,!0)}}e:{if(h=u?Pu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=nK;else if(OI(h))if(xL)T=oK;else{T=aK;var E=iK}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=sK);if(T&&(T=T(t,u))){yL(f,T,r,d);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&$1(h,"number",h.value)}switch(E=u?Pu(u):window,t){case"focusin":(OI(E)||E.contentEditable==="true")&&(Nu=E,Q1=u,Yh=null);break;case"focusout":Yh=Q1=Nu=null;break;case"mousedown":Y1=!0;break;case"contextmenu":case"mouseup":case"dragend":Y1=!1,$I(f,r,d);break;case"selectionchange":if(uK)break;case"keydown":case"keyup":$I(f,r,d)}var S;if(jj)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Au?gL(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(mL&&r.locale!=="ko"&&(Au||j!=="onCompositionStart"?j==="onCompositionEnd"&&Au&&(S=pL()):(jo=d,Sj="value"in jo?jo.value:jo.textContent,Au=!0)),E=Py(u,j),0<E.length&&(j=new NI(j,t,null,r,d),f.push({event:j,listeners:E}),S?j.data=S:(S=vL(r),S!==null&&(j.data=S)))),(S=ZG?JG(t,r):eK(t,r))&&(u=Py(u,"onBeforeInput"),0<u.length&&(d=new NI("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}CL(f,e)})}function Np(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Py(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=wp(t,r),a!=null&&n.unshift(Np(t,a,i)),a=wp(t,e),a!=null&&n.push(Np(t,a,i))),t=t.return}return n}function fu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VI(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=wp(r,a),c!=null&&s.unshift(Np(r,c,o))):i||(c=wp(r,a),c!=null&&s.push(Np(r,c,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var pK=/\r\n?/g,mK=/\u0000|\uFFFD/g;function BI(t){return(typeof t=="string"?t:""+t).replace(pK,`
`).replace(mK,"")}function sv(t,e,r){if(e=BI(e),BI(t)!==e&&r)throw Error(fe(425))}function Iy(){}var X1=null,Z1=null;function J1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eS=typeof setTimeout=="function"?setTimeout:void 0,gK=typeof clearTimeout=="function"?clearTimeout:void 0,UI=typeof Promise=="function"?Promise:void 0,vK=typeof queueMicrotask=="function"?queueMicrotask:typeof UI<"u"?function(t){return UI.resolve(null).then(t).catch(yK)}:eS;function yK(t){setTimeout(function(){throw t})}function v_(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ep(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ep(e)}function Mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yf=Math.random().toString(36).slice(2),Ea="__reactFiber$"+yf,Cp="__reactProps$"+yf,Es="__reactContainer$"+yf,tS="__reactEvents$"+yf,xK="__reactListeners$"+yf,bK="__reactHandles$"+yf;function Wl(t){var e=t[Ea];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Es]||r[Ea]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zI(t);t!==null;){if(r=t[Ea])return r;t=zI(t)}return e}t=r,r=t.parentNode}return null}function eg(t){return t=t[Ea]||t[Es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function $0(t){return t[Cp]||null}var rS=[],Iu=-1;function ml(t){return{current:t}}function Xt(t){0>Iu||(t.current=rS[Iu],rS[Iu]=null,Iu--)}function Ut(t,e){Iu++,rS[Iu]=t.current,t.current=e}var Xo={},En=ml(Xo),Yn=ml(!1),yc=Xo;function jd(t,e){var r=t.type.contextTypes;if(!r)return Xo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xn(t){return t=t.childContextTypes,t!=null}function Oy(){Xt(Yn),Xt(En)}function qI(t,e,r){if(En.current!==Xo)throw Error(fe(168));Ut(En,e),Ut(Yn,r)}function IL(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(fe(108,iG(t)||"Unknown",i));return sr({},r,n)}function ky(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xo,yc=En.current,Ut(En,t),Ut(Yn,Yn.current),!0}function WI(t,e,r){var n=t.stateNode;if(!n)throw Error(fe(169));r?(t=IL(t,e,yc),n.__reactInternalMemoizedMergedChildContext=t,Xt(Yn),Xt(En),Ut(En,t)):Xt(Yn),Ut(Yn,r)}var ss=null,L0=!1,y_=!1;function OL(t){ss===null?ss=[t]:ss.push(t)}function wK(t){L0=!0,OL(t)}function gl(){if(!y_&&ss!==null){y_=!0;var t=0,e=Ot;try{var r=ss;for(Ot=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ss=null,L0=!1}catch(i){throw ss!==null&&(ss=ss.slice(t+1)),nL(xj,gl),i}finally{Ot=e,y_=!1}}return null}var Ou=[],ku=0,Ry=null,My=0,Ti=[],ji=0,xc=null,us=1,ds="";function Dl(t,e){Ou[ku++]=My,Ou[ku++]=Ry,Ry=t,My=e}function kL(t,e,r){Ti[ji++]=us,Ti[ji++]=ds,Ti[ji++]=xc,xc=t;var n=us;t=ds;var i=32-na(n)-1;n&=~(1<<i),r+=1;var a=32-na(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,us=1<<32-na(e)+i|r<<i|n,ds=a+t}else us=1<<a|r<<i|n,ds=t}function Nj(t){t.return!==null&&(Dl(t,1),kL(t,1,0))}function Cj(t){for(;t===Ry;)Ry=Ou[--ku],Ou[ku]=null,My=Ou[--ku],Ou[ku]=null;for(;t===xc;)xc=Ti[--ji],Ti[ji]=null,ds=Ti[--ji],Ti[ji]=null,us=Ti[--ji],Ti[ji]=null}var di=null,ci=null,Jt=!1,Yi=null;function RL(t,e){var r=Pi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function HI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,di=t,ci=Mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,di=t,ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=xc!==null?{id:us,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,di=t,ci=null,!0):!1;default:return!1}}function nS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iS(t){if(Jt){var e=ci;if(e){var r=e;if(!HI(t,e)){if(nS(t))throw Error(fe(418));e=Mo(r.nextSibling);var n=di;e&&HI(t,e)?RL(n,r):(t.flags=t.flags&-4097|2,Jt=!1,di=t)}}else{if(nS(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Jt=!1,di=t}}}function GI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;di=t}function ov(t){if(t!==di)return!1;if(!Jt)return GI(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!J1(t.type,t.memoizedProps)),e&&(e=ci)){if(nS(t))throw ML(),Error(fe(418));for(;e;)RL(t,e),e=Mo(e.nextSibling)}if(GI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ci=Mo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ci=null}}else ci=di?Mo(t.stateNode.nextSibling):null;return!0}function ML(){for(var t=ci;t;)t=Mo(t.nextSibling)}function Ad(){ci=di=null,Jt=!1}function Pj(t){Yi===null?Yi=[t]:Yi.push(t)}var _K=Vs.ReactCurrentBatchConfig;function hh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,t))}return t}function lv(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KI(t){var e=t._init;return e(t._payload)}function DL(t){function e(w,x){if(t){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function r(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Fo(w,x),w.index=0,w.sibling=null,w}function a(w,x,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,x,b,N){return x===null||x.tag!==6?(x=T_(b,w.mode,N),x.return=w,x):(x=i(x,b),x.return=w,x)}function c(w,x,b,N){var T=b.type;return T===ju?d(w,x,b.props.children,N,b.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ao&&KI(T)===x.type)?(N=i(x,b.props),N.ref=hh(w,x,b),N.return=w,N):(N=Jv(b.type,b.key,b.props,null,w.mode,N),N.ref=hh(w,x,b),N.return=w,N)}function u(w,x,b,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=j_(b,w.mode,N),x.return=w,x):(x=i(x,b.children||[]),x.return=w,x)}function d(w,x,b,N,T){return x===null||x.tag!==7?(x=uc(b,w.mode,N,T),x.return=w,x):(x=i(x,b),x.return=w,x)}function f(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=T_(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xg:return b=Jv(x.type,x.key,x.props,null,w.mode,b),b.ref=hh(w,null,x),b.return=w,b;case Tu:return x=j_(x,w.mode,b),x.return=w,x;case ao:var N=x._init;return f(w,N(x._payload),b)}if(Ih(x)||lh(x))return x=uc(x,w.mode,b,null),x.return=w,x;lv(w,x)}return null}function h(w,x,b,N){var T=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:o(w,x,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xg:return b.key===T?c(w,x,b,N):null;case Tu:return b.key===T?u(w,x,b,N):null;case ao:return T=b._init,h(w,x,T(b._payload),N)}if(Ih(b)||lh(b))return T!==null?null:d(w,x,b,N,null);lv(w,b)}return null}function m(w,x,b,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(b)||null,o(x,w,""+N,T);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xg:return w=w.get(N.key===null?b:N.key)||null,c(x,w,N,T);case Tu:return w=w.get(N.key===null?b:N.key)||null,u(x,w,N,T);case ao:var E=N._init;return m(w,x,b,E(N._payload),T)}if(Ih(N)||lh(N))return w=w.get(b)||null,d(x,w,N,T,null);lv(x,N)}return null}function v(w,x,b,N){for(var T=null,E=null,S=x,j=x=0,C=null;S!==null&&j<b.length;j++){S.index>j?(C=S,S=null):C=S.sibling;var I=h(w,S,b[j],N);if(I===null){S===null&&(S=C);break}t&&S&&I.alternate===null&&e(w,S),x=a(I,x,j),E===null?T=I:E.sibling=I,E=I,S=C}if(j===b.length)return r(w,S),Jt&&Dl(w,j),T;if(S===null){for(;j<b.length;j++)S=f(w,b[j],N),S!==null&&(x=a(S,x,j),E===null?T=S:E.sibling=S,E=S);return Jt&&Dl(w,j),T}for(S=n(w,S);j<b.length;j++)C=m(S,w,j,b[j],N),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?j:C.key),x=a(C,x,j),E===null?T=C:E.sibling=C,E=C);return t&&S.forEach(function(k){return e(w,k)}),Jt&&Dl(w,j),T}function g(w,x,b,N){var T=lh(b);if(typeof T!="function")throw Error(fe(150));if(b=T.call(b),b==null)throw Error(fe(151));for(var E=T=null,S=x,j=x=0,C=null,I=b.next();S!==null&&!I.done;j++,I=b.next()){S.index>j?(C=S,S=null):C=S.sibling;var k=h(w,S,I.value,N);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(w,S),x=a(k,x,j),E===null?T=k:E.sibling=k,E=k,S=C}if(I.done)return r(w,S),Jt&&Dl(w,j),T;if(S===null){for(;!I.done;j++,I=b.next())I=f(w,I.value,N),I!==null&&(x=a(I,x,j),E===null?T=I:E.sibling=I,E=I);return Jt&&Dl(w,j),T}for(S=n(w,S);!I.done;j++,I=b.next())I=m(S,w,j,I.value,N),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?j:I.key),x=a(I,x,j),E===null?T=I:E.sibling=I,E=I);return t&&S.forEach(function(R){return e(w,R)}),Jt&&Dl(w,j),T}function y(w,x,b,N){if(typeof b=="object"&&b!==null&&b.type===ju&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xg:e:{for(var T=b.key,E=x;E!==null;){if(E.key===T){if(T=b.type,T===ju){if(E.tag===7){r(w,E.sibling),x=i(E,b.props.children),x.return=w,w=x;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ao&&KI(T)===E.type){r(w,E.sibling),x=i(E,b.props),x.ref=hh(w,E,b),x.return=w,w=x;break e}r(w,E);break}else e(w,E);E=E.sibling}b.type===ju?(x=uc(b.props.children,w.mode,N,b.key),x.return=w,w=x):(N=Jv(b.type,b.key,b.props,null,w.mode,N),N.ref=hh(w,x,b),N.return=w,w=N)}return s(w);case Tu:e:{for(E=b.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(w,x.sibling),x=i(x,b.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else e(w,x);x=x.sibling}x=j_(b,w.mode,N),x.return=w,w=x}return s(w);case ao:return E=b._init,y(w,x,E(b._payload),N)}if(Ih(b))return v(w,x,b,N);if(lh(b))return g(w,x,b,N);lv(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,b),x.return=w,w=x):(r(w,x),x=T_(b,w.mode,N),x.return=w,w=x),s(w)):r(w,x)}return y}var Nd=DL(!0),$L=DL(!1),Dy=ml(null),$y=null,Ru=null,Ij=null;function Oj(){Ij=Ru=$y=null}function kj(t){var e=Dy.current;Xt(Dy),t._currentValue=e}function aS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ku(t,e){$y=t,Ij=Ru=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function Mi(t){var e=t._currentValue;if(Ij!==t)if(t={context:t,memoizedValue:e,next:null},Ru===null){if($y===null)throw Error(fe(308));Ru=t,$y.dependencies={lanes:0,firstContext:t}}else Ru=Ru.next=t;return e}var Hl=null;function Rj(t){Hl===null?Hl=[t]:Hl.push(t)}function LL(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Rj(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ts(t,n)}function Ts(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var so=!1;function Mj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ts(t,r)}return i=n.interleaved,i===null?(e.next=e,Rj(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ts(t,r)}function Gv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bj(t,r)}}function QI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ly(t,e,r,n){var i=t.updateQueue;so=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,g=o;switch(h=e,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=sr({},f,h);break e;case 2:so=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);wc|=s,t.lanes=s,t.memoizedState=f}}function YI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var tg={},Ca=ml(tg),Pp=ml(tg),Ip=ml(tg);function Gl(t){if(t===tg)throw Error(fe(174));return t}function Dj(t,e){switch(Ut(Ip,e),Ut(Pp,t),Ut(Ca,tg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:F1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=F1(e,t)}Xt(Ca),Ut(Ca,e)}function Cd(){Xt(Ca),Xt(Pp),Xt(Ip)}function VL(t){Gl(Ip.current);var e=Gl(Ca.current),r=F1(e,t.type);e!==r&&(Ut(Pp,t),Ut(Ca,r))}function $j(t){Pp.current===t&&(Xt(Ca),Xt(Pp))}var ir=ml(0);function Fy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var x_=[];function Lj(){for(var t=0;t<x_.length;t++)x_[t]._workInProgressVersionPrimary=null;x_.length=0}var Kv=Vs.ReactCurrentDispatcher,b_=Vs.ReactCurrentBatchConfig,bc=0,ar=null,Pr=null,qr=null,Vy=!1,Xh=!1,Op=0,SK=0;function hn(){throw Error(fe(321))}function Fj(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ca(t[r],e[r]))return!1;return!0}function Vj(t,e,r,n,i,a){if(bc=a,ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kv.current=t===null||t.memoizedState===null?AK:NK,t=r(n,i),Xh){a=0;do{if(Xh=!1,Op=0,25<=a)throw Error(fe(301));a+=1,qr=Pr=null,e.updateQueue=null,Kv.current=CK,t=r(n,i)}while(Xh)}if(Kv.current=By,e=Pr!==null&&Pr.next!==null,bc=0,qr=Pr=ar=null,Vy=!1,e)throw Error(fe(300));return t}function Bj(){var t=Op!==0;return Op=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?ar.memoizedState=qr=t:qr=qr.next=t,qr}function Di(){if(Pr===null){var t=ar.alternate;t=t!==null?t.memoizedState:null}else t=Pr.next;var e=qr===null?ar.memoizedState:qr.next;if(e!==null)qr=e,Pr=t;else{if(t===null)throw Error(fe(310));Pr=t,t={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},qr===null?ar.memoizedState=qr=t:qr=qr.next=t}return qr}function kp(t,e){return typeof e=="function"?e(t):e}function w_(t){var e=Di(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=Pr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((bc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,ar.lanes|=d,wc|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,ca(n,e.memoizedState)||(Kn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ar.lanes|=a,wc|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function __(t){var e=Di(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ca(a,e.memoizedState)||(Kn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function BL(){}function UL(t,e){var r=ar,n=Di(),i=e(),a=!ca(n.memoizedState,i);if(a&&(n.memoizedState=i,Kn=!0),n=n.queue,Uj(WL.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||qr!==null&&qr.memoizedState.tag&1){if(r.flags|=2048,Rp(9,qL.bind(null,r,n,i,e),void 0,null),Hr===null)throw Error(fe(349));bc&30||zL(r,e,i)}return i}function zL(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function qL(t,e,r,n){e.value=r,e.getSnapshot=n,HL(e)&&GL(t)}function WL(t,e,r){return r(function(){HL(e)&&GL(t)})}function HL(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ca(t,r)}catch{return!0}}function GL(t){var e=Ts(t,1);e!==null&&ia(e,t,1,-1)}function XI(t){var e=va();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:t},e.queue=t,t=t.dispatch=jK.bind(null,ar,t),[e.memoizedState,t]}function Rp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function KL(){return Di().memoizedState}function Qv(t,e,r,n){var i=va();ar.flags|=t,i.memoizedState=Rp(1|e,r,void 0,n===void 0?null:n)}function F0(t,e,r,n){var i=Di();n=n===void 0?null:n;var a=void 0;if(Pr!==null){var s=Pr.memoizedState;if(a=s.destroy,n!==null&&Fj(n,s.deps)){i.memoizedState=Rp(e,r,a,n);return}}ar.flags|=t,i.memoizedState=Rp(1|e,r,a,n)}function ZI(t,e){return Qv(8390656,8,t,e)}function Uj(t,e){return F0(2048,8,t,e)}function QL(t,e){return F0(4,2,t,e)}function YL(t,e){return F0(4,4,t,e)}function XL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZL(t,e,r){return r=r!=null?r.concat([t]):null,F0(4,4,XL.bind(null,e,t),r)}function zj(){}function JL(t,e){var r=Di();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fj(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function eF(t,e){var r=Di();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fj(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function tF(t,e,r){return bc&21?(ca(r,e)||(r=sL(),ar.lanes|=r,wc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=r)}function EK(t,e){var r=Ot;Ot=r!==0&&4>r?r:4,t(!0);var n=b_.transition;b_.transition={};try{t(!1),e()}finally{Ot=r,b_.transition=n}}function rF(){return Di().memoizedState}function TK(t,e,r){var n=Lo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nF(t))iF(e,r);else if(r=LL(t,e,r,n),r!==null){var i=$n();ia(r,t,n,i),aF(r,e,n)}}function jK(t,e,r){var n=Lo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nF(t))iF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ca(o,s)){var c=e.interleaved;c===null?(i.next=i,Rj(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=LL(t,e,i,n),r!==null&&(i=$n(),ia(r,t,n,i),aF(r,e,n))}}function nF(t){var e=t.alternate;return t===ar||e!==null&&e===ar}function iF(t,e){Xh=Vy=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function aF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bj(t,r)}}var By={readContext:Mi,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},AK={readContext:Mi,useCallback:function(t,e){return va().memoizedState=[t,e===void 0?null:e],t},useContext:Mi,useEffect:ZI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qv(4194308,4,XL.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qv(4,2,t,e)},useMemo:function(t,e){var r=va();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=va();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=TK.bind(null,ar,t),[n.memoizedState,t]},useRef:function(t){var e=va();return t={current:t},e.memoizedState=t},useState:XI,useDebugValue:zj,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=XI(!1),e=t[0];return t=EK.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ar,i=va();if(Jt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=e(),Hr===null)throw Error(fe(349));bc&30||zL(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,ZI(WL.bind(null,n,a,t),[t]),n.flags|=2048,Rp(9,qL.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=va(),e=Hr.identifierPrefix;if(Jt){var r=ds,n=us;r=(n&~(1<<32-na(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Op++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=SK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NK={readContext:Mi,useCallback:JL,useContext:Mi,useEffect:Uj,useImperativeHandle:ZL,useInsertionEffect:QL,useLayoutEffect:YL,useMemo:eF,useReducer:w_,useRef:KL,useState:function(){return w_(kp)},useDebugValue:zj,useDeferredValue:function(t){var e=Di();return tF(e,Pr.memoizedState,t)},useTransition:function(){var t=w_(kp)[0],e=Di().memoizedState;return[t,e]},useMutableSource:BL,useSyncExternalStore:UL,useId:rF,unstable_isNewReconciler:!1},CK={readContext:Mi,useCallback:JL,useContext:Mi,useEffect:Uj,useImperativeHandle:ZL,useInsertionEffect:QL,useLayoutEffect:YL,useMemo:eF,useReducer:__,useRef:KL,useState:function(){return __(kp)},useDebugValue:zj,useDeferredValue:function(t){var e=Di();return Pr===null?e.memoizedState=t:tF(e,Pr.memoizedState,t)},useTransition:function(){var t=__(kp)[0],e=Di().memoizedState;return[t,e]},useMutableSource:BL,useSyncExternalStore:UL,useId:rF,unstable_isNewReconciler:!1};function Wi(t,e){if(t&&t.defaultProps){e=sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var V0={isMounted:function(t){return(t=t._reactInternals)?Hc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$n(),i=Lo(t),a=vs(n,i);a.payload=e,r!=null&&(a.callback=r),e=Do(t,a,i),e!==null&&(ia(e,t,i,n),Gv(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$n(),i=Lo(t),a=vs(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Do(t,a,i),e!==null&&(ia(e,t,i,n),Gv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$n(),n=Lo(t),i=vs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Do(t,i,n),e!==null&&(ia(e,t,n,r),Gv(e,t,n))}};function JI(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!jp(r,n)||!jp(i,a):!0}function sF(t,e,r){var n=!1,i=Xo,a=e.contextType;return typeof a=="object"&&a!==null?a=Mi(a):(i=Xn(e)?yc:En.current,n=e.contextTypes,a=(n=n!=null)?jd(t,i):Xo),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=V0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function eO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&V0.enqueueReplaceState(e,e.state,null)}function oS(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Mj(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Mi(a):(a=Xn(e)?yc:En.current,i.context=jd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(sS(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&V0.enqueueReplaceState(i,i.state,null),Ly(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pd(t,e){try{var r="",n=e;do r+=nG(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function S_(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function lS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var PK=typeof WeakMap=="function"?WeakMap:Map;function oF(t,e,r){r=vs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zy||(zy=!0,yS=n),lS(t,e)},r}function lF(t,e,r){r=vs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){lS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){lS(t,e),typeof n!="function"&&($o===null?$o=new Set([this]):$o.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function tO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new PK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=qK.bind(null,t,e,r),e.then(t,t))}function rO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nO(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vs(-1,1),e.tag=2,Do(r,e,1))),r.lanes|=1),t)}var IK=Vs.ReactCurrentOwner,Kn=!1;function On(t,e,r,n){e.child=t===null?$L(e,null,r,n):Nd(e,t.child,r,n)}function iO(t,e,r,n,i){r=r.render;var a=e.ref;return Ku(e,i),n=Vj(t,e,r,n,a,i),r=Bj(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(Jt&&r&&Nj(e),e.flags|=1,On(t,e,n,i),e.child)}function aO(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Xj(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,cF(t,e,a,n,i)):(t=Jv(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:jp,r(s,n)&&t.ref===e.ref)return js(t,e,i)}return e.flags|=1,t=Fo(a,n),t.ref=e.ref,t.return=e,e.child=t}function cF(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(jp(a,n)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,js(t,e,i)}return cS(t,e,r,n,i)}function uF(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Du,ai),ai|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(Du,ai),ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ut(Du,ai),ai|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ut(Du,ai),ai|=n;return On(t,e,i,r),e.child}function dF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function cS(t,e,r,n,i){var a=Xn(r)?yc:En.current;return a=jd(e,a),Ku(e,i),r=Vj(t,e,r,n,a,i),n=Bj(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(Jt&&n&&Nj(e),e.flags|=1,On(t,e,r,i),e.child)}function sO(t,e,r,n,i){if(Xn(r)){var a=!0;ky(e)}else a=!1;if(Ku(e,i),e.stateNode===null)Yv(t,e),sF(e,r,n),oS(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Mi(u):(u=Xn(r)?yc:En.current,u=jd(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&eO(e,s,n,u),so=!1;var h=e.memoizedState;s.state=h,Ly(e,n,s,i),c=e.memoizedState,o!==n||h!==c||Yn.current||so?(typeof d=="function"&&(sS(e,r,d,n),c=e.memoizedState),(o=so||JI(e,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,FL(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Wi(e.type,o),s.props=u,f=e.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Mi(c):(c=Xn(r)?yc:En.current,c=jd(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&eO(e,s,n,c),so=!1,h=e.memoizedState,s.state=h,Ly(e,n,s,i);var v=e.memoizedState;o!==f||h!==v||Yn.current||so?(typeof m=="function"&&(sS(e,r,m,n),v=e.memoizedState),(u=so||JI(e,r,u,n,h,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return uS(t,e,r,n,a,i)}function uS(t,e,r,n,i,a){dF(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&WI(e,r,!1),js(t,e,a);n=e.stateNode,IK.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Nd(e,t.child,null,a),e.child=Nd(e,null,o,a)):On(t,e,o,a),e.memoizedState=n.state,i&&WI(e,r,!0),e.child}function fF(t){var e=t.stateNode;e.pendingContext?qI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qI(t,e.context,!1),Dj(t,e.containerInfo)}function oO(t,e,r,n,i){return Ad(),Pj(i),e.flags|=256,On(t,e,r,n),e.child}var dS={dehydrated:null,treeContext:null,retryLane:0};function fS(t){return{baseLanes:t,cachePool:null,transitions:null}}function hF(t,e,r){var n=e.pendingProps,i=ir.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ut(ir,i&1),t===null)return iS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=z0(s,n,0,null),t=uc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=fS(r),e.memoizedState=dS,t):qj(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return OK(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Fo(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Fo(o,a):(a=uc(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?fS(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=dS,n}return a=t.child,t=a.sibling,n=Fo(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function qj(t,e){return e=z0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cv(t,e,r,n){return n!==null&&Pj(n),Nd(e,t.child,null,r),t=qj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OK(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=S_(Error(fe(422))),cv(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=z0({mode:"visible",children:n.children},i,0,null),a=uc(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Nd(e,t.child,null,s),e.child.memoizedState=fS(s),e.memoizedState=dS,a);if(!(e.mode&1))return cv(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(fe(419)),n=S_(a,n,void 0),cv(t,e,s,n)}if(o=(s&t.childLanes)!==0,Kn||o){if(n=Hr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ts(t,i),ia(n,t,i,-1))}return Yj(),n=S_(Error(fe(421))),cv(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WK.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ci=Mo(i.nextSibling),di=e,Jt=!0,Yi=null,t!==null&&(Ti[ji++]=us,Ti[ji++]=ds,Ti[ji++]=xc,us=t.id,ds=t.overflow,xc=e),e=qj(e,n.children),e.flags|=4096,e)}function lO(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),aS(t.return,e,r)}function E_(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function pF(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(On(t,e,n.children,r),n=ir.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lO(t,r,e);else if(t.tag===19)lO(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ut(ir,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Fy(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),E_(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fy(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}E_(e,!0,r,null,a);break;case"together":E_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function js(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),wc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,r=Fo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function kK(t,e,r){switch(e.tag){case 3:fF(e),Ad();break;case 5:VL(e);break;case 1:Xn(e.type)&&ky(e);break;case 4:Dj(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ut(Dy,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ut(ir,ir.current&1),e.flags|=128,null):r&e.child.childLanes?hF(t,e,r):(Ut(ir,ir.current&1),t=js(t,e,r),t!==null?t.sibling:null);Ut(ir,ir.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return pF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(ir,ir.current),n)break;return null;case 22:case 23:return e.lanes=0,uF(t,e,r)}return js(t,e,r)}var mF,hS,gF,vF;mF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hS=function(){};gF=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Gl(Ca.current);var a=null;switch(r){case"input":i=M1(t,i),n=M1(t,n),a=[];break;case"select":i=sr({},i,{value:void 0}),n=sr({},n,{value:void 0}),a=[];break;case"textarea":i=L1(t,i),n=L1(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Iy)}V1(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gt("scroll",t),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};vF=function(t,e,r,n){r!==n&&(e.flags|=4)};function ph(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function RK(t,e,r){var n=e.pendingProps;switch(Cj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Xn(e.type)&&Oy(),pn(e),null;case 3:return n=e.stateNode,Cd(),Xt(Yn),Xt(En),Lj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ov(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yi!==null&&(wS(Yi),Yi=null))),hS(t,e),pn(e),null;case 5:$j(e);var i=Gl(Ip.current);if(r=e.type,t!==null&&e.stateNode!=null)gF(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(fe(166));return pn(e),null}if(t=Gl(Ca.current),ov(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ea]=e,n[Cp]=a,t=(e.mode&1)!==0,r){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(i=0;i<kh.length;i++)Gt(kh[i],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":vI(n,a),Gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Gt("invalid",n);break;case"textarea":xI(n,a),Gt("invalid",n)}V1(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&sv(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&sv(n.textContent,o,t),i=["children",""+o]):xp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Gt("scroll",n)}switch(r){case"input":Zg(n),yI(n,a,!0);break;case"textarea":Zg(n),bI(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Iy)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Ea]=e,t[Cp]=n,mF(t,e,!1,!1),e.stateNode=t;e:{switch(s=B1(r,n),r){case"dialog":Gt("cancel",t),Gt("close",t),i=n;break;case"iframe":case"object":case"embed":Gt("load",t),i=n;break;case"video":case"audio":for(i=0;i<kh.length;i++)Gt(kh[i],t);i=n;break;case"source":Gt("error",t),i=n;break;case"img":case"image":case"link":Gt("error",t),Gt("load",t),i=n;break;case"details":Gt("toggle",t),i=n;break;case"input":vI(t,n),i=M1(t,n),Gt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=sr({},n,{value:void 0}),Gt("invalid",t);break;case"textarea":xI(t,n),i=L1(t,n),Gt("invalid",t);break;default:i=n}V1(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?K4(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&H4(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bp(t,c):typeof c=="number"&&bp(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Gt("scroll",t):c!=null&&pj(t,a,c,s))}switch(r){case"input":Zg(t),yI(t,n,!1);break;case"textarea":Zg(t),bI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Yo(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?qu(t,!!n.multiple,a,!1):n.defaultValue!=null&&qu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Iy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)vF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(fe(166));if(r=Gl(Ip.current),Gl(Ca.current),ov(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ea]=e,(a=n.nodeValue!==r)&&(t=di,t!==null))switch(t.tag){case 3:sv(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sv(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ea]=e,e.stateNode=n}return pn(e),null;case 13:if(Xt(ir),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&ci!==null&&e.mode&1&&!(e.flags&128))ML(),Ad(),e.flags|=98560,a=!1;else if(a=ov(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(fe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[Ea]=e}else Ad(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),a=!1}else Yi!==null&&(wS(Yi),Yi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ir.current&1?Rr===0&&(Rr=3):Yj())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return Cd(),hS(t,e),t===null&&Ap(e.stateNode.containerInfo),pn(e),null;case 10:return kj(e.type._context),pn(e),null;case 17:return Xn(e.type)&&Oy(),pn(e),null;case 19:if(Xt(ir),a=e.memoizedState,a===null)return pn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)ph(a,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Fy(t),s!==null){for(e.flags|=128,ph(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ut(ir,ir.current&1|2),e.child}t=t.sibling}a.tail!==null&&pr()>Id&&(e.flags|=128,n=!0,ph(a,!1),e.lanes=4194304)}else{if(!n)if(t=Fy(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ph(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Jt)return pn(e),null}else 2*pr()-a.renderingStartTime>Id&&r!==1073741824&&(e.flags|=128,n=!0,ph(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pr(),e.sibling=null,r=ir.current,Ut(ir,n?r&1|2:r&1),e):(pn(e),null);case 22:case 23:return Qj(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ai&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function MK(t,e){switch(Cj(e),e.tag){case 1:return Xn(e.type)&&Oy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cd(),Xt(Yn),Xt(En),Lj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $j(e),null;case 13:if(Xt(ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Ad()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(ir),null;case 4:return Cd(),null;case 10:return kj(e.type._context),null;case 22:case 23:return Qj(),null;case 24:return null;default:return null}}var uv=!1,bn=!1,DK=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Mu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(t,e,n)}else r.current=null}function pS(t,e,r){try{r()}catch(n){ur(t,e,n)}}var cO=!1;function $K(t,e){if(X1=Ny,t=_L(),Aj(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Z1={focusedElem:t,selectionRange:r},Ny=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Wi(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(N){ur(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return v=cO,cO=!1,v}function Zh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&pS(e,r,a)}i=i.next}while(i!==n)}}function B0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function mS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function yF(t){var e=t.alternate;e!==null&&(t.alternate=null,yF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ea],delete e[Cp],delete e[tS],delete e[xK],delete e[bK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xF(t){return t.tag===5||t.tag===3||t.tag===4}function uO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Iy));else if(n!==4&&(t=t.child,t!==null))for(gS(t,e,r),t=t.sibling;t!==null;)gS(t,e,r),t=t.sibling}function vS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(vS(t,e,r),t=t.sibling;t!==null;)vS(t,e,r),t=t.sibling}var Jr=null,Gi=!1;function Ys(t,e,r){for(r=r.child;r!==null;)bF(t,e,r),r=r.sibling}function bF(t,e,r){if(Na&&typeof Na.onCommitFiberUnmount=="function")try{Na.onCommitFiberUnmount(k0,r)}catch{}switch(r.tag){case 5:bn||Mu(r,e);case 6:var n=Jr,i=Gi;Jr=null,Ys(t,e,r),Jr=n,Gi=i,Jr!==null&&(Gi?(t=Jr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(Gi?(t=Jr,r=r.stateNode,t.nodeType===8?v_(t.parentNode,r):t.nodeType===1&&v_(t,r),Ep(t)):v_(Jr,r.stateNode));break;case 4:n=Jr,i=Gi,Jr=r.stateNode.containerInfo,Gi=!0,Ys(t,e,r),Jr=n,Gi=i;break;case 0:case 11:case 14:case 15:if(!bn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&pS(r,e,s),i=i.next}while(i!==n)}Ys(t,e,r);break;case 1:if(!bn&&(Mu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ur(r,e,o)}Ys(t,e,r);break;case 21:Ys(t,e,r);break;case 22:r.mode&1?(bn=(n=bn)||r.memoizedState!==null,Ys(t,e,r),bn=n):Ys(t,e,r);break;default:Ys(t,e,r)}}function dO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new DK),e.forEach(function(n){var i=HK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ui(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Jr=o.stateNode,Gi=!1;break e;case 3:Jr=o.stateNode.containerInfo,Gi=!0;break e;case 4:Jr=o.stateNode.containerInfo,Gi=!0;break e}o=o.return}if(Jr===null)throw Error(fe(160));bF(a,s,i),Jr=null,Gi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ur(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wF(e,t),e=e.sibling}function wF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ui(e,t),ga(t),n&4){try{Zh(3,t,t.return),B0(3,t)}catch(g){ur(t,t.return,g)}try{Zh(5,t,t.return)}catch(g){ur(t,t.return,g)}}break;case 1:Ui(e,t),ga(t),n&512&&r!==null&&Mu(r,r.return);break;case 5:if(Ui(e,t),ga(t),n&512&&r!==null&&Mu(r,r.return),t.flags&32){var i=t.stateNode;try{bp(i,"")}catch(g){ur(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&z4(i,a),B1(o,s);var u=B1(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?K4(i,f):d==="dangerouslySetInnerHTML"?H4(i,f):d==="children"?bp(i,f):pj(i,d,f,u)}switch(o){case"input":D1(i,a);break;case"textarea":q4(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?qu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?qu(i,!!a.multiple,a.defaultValue,!0):qu(i,!!a.multiple,a.multiple?[]:"",!1))}i[Cp]=a}catch(g){ur(t,t.return,g)}}break;case 6:if(Ui(e,t),ga(t),n&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){ur(t,t.return,g)}}break;case 3:if(Ui(e,t),ga(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ep(e.containerInfo)}catch(g){ur(t,t.return,g)}break;case 4:Ui(e,t),ga(t);break;case 13:Ui(e,t),ga(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Gj=pr())),n&4&&dO(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(bn=(u=bn)||d,Ui(e,t),bn=u):Ui(e,t),ga(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ne=t,d=t.child;d!==null;){for(f=Ne=d;Ne!==null;){switch(h=Ne,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zh(4,h,h.return);break;case 1:Mu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){ur(n,r,g)}}break;case 5:Mu(h,h.return);break;case 22:if(h.memoizedState!==null){hO(f);continue}}m!==null?(m.return=h,Ne=m):hO(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=G4("display",s))}catch(g){ur(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ur(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ui(e,t),ga(t),n&4&&dO(t);break;case 21:break;default:Ui(e,t),ga(t)}}function ga(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(xF(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(bp(i,""),n.flags&=-33);var a=uO(t);vS(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=uO(t);gS(t,o,s);break;default:throw Error(fe(161))}}catch(c){ur(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LK(t,e,r){Ne=t,_F(t)}function _F(t,e,r){for(var n=(t.mode&1)!==0;Ne!==null;){var i=Ne,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||uv;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||bn;o=uv;var u=bn;if(uv=s,(bn=c)&&!u)for(Ne=i;Ne!==null;)s=Ne,c=s.child,s.tag===22&&s.memoizedState!==null?pO(i):c!==null?(c.return=s,Ne=c):pO(i);for(;a!==null;)Ne=a,_F(a),a=a.sibling;Ne=i,uv=o,bn=u}fO(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ne=a):fO(t)}}function fO(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||B0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!bn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Wi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&YI(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}YI(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ep(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}bn||e.flags&512&&mS(e)}catch(h){ur(e,e.return,h)}}if(e===t){Ne=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ne=r;break}Ne=e.return}}function hO(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ne=r;break}Ne=e.return}}function pO(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{B0(4,e)}catch(c){ur(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){ur(e,i,c)}}var a=e.return;try{mS(e)}catch(c){ur(e,a,c)}break;case 5:var s=e.return;try{mS(e)}catch(c){ur(e,s,c)}}}catch(c){ur(e,e.return,c)}if(e===t){Ne=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ne=o;break}Ne=e.return}}var FK=Math.ceil,Uy=Vs.ReactCurrentDispatcher,Wj=Vs.ReactCurrentOwner,Oi=Vs.ReactCurrentBatchConfig,wt=0,Hr=null,wr=null,rn=0,ai=0,Du=ml(0),Rr=0,Mp=null,wc=0,U0=0,Hj=0,Jh=null,Hn=null,Gj=0,Id=1/0,is=null,zy=!1,yS=null,$o=null,dv=!1,Ao=null,qy=0,ep=0,xS=null,Xv=-1,Zv=0;function $n(){return wt&6?pr():Xv!==-1?Xv:Xv=pr()}function Lo(t){return t.mode&1?wt&2&&rn!==0?rn&-rn:_K.transition!==null?(Zv===0&&(Zv=sL()),Zv):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:hL(t.type)),t):1}function ia(t,e,r,n){if(50<ep)throw ep=0,xS=null,Error(fe(185));Zm(t,r,n),(!(wt&2)||t!==Hr)&&(t===Hr&&(!(wt&2)&&(U0|=r),Rr===4&&uo(t,rn)),Zn(t,n),r===1&&wt===0&&!(e.mode&1)&&(Id=pr()+500,L0&&gl()))}function Zn(t,e){var r=t.callbackNode;_G(t,e);var n=Ay(t,t===Hr?rn:0);if(n===0)r!==null&&SI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&SI(r),e===1)t.tag===0?wK(mO.bind(null,t)):OL(mO.bind(null,t)),vK(function(){!(wt&6)&&gl()}),r=null;else{switch(oL(n)){case 1:r=xj;break;case 4:r=iL;break;case 16:r=jy;break;case 536870912:r=aL;break;default:r=jy}r=PF(r,SF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function SF(t,e){if(Xv=-1,Zv=0,wt&6)throw Error(fe(327));var r=t.callbackNode;if(Qu()&&t.callbackNode!==r)return null;var n=Ay(t,t===Hr?rn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Wy(t,n);else{e=n;var i=wt;wt|=2;var a=TF();(Hr!==t||rn!==e)&&(is=null,Id=pr()+500,cc(t,e));do try{UK();break}catch(o){EF(t,o)}while(!0);Oj(),Uy.current=a,wt=i,wr!==null?e=0:(Hr=null,rn=0,e=Rr)}if(e!==0){if(e===2&&(i=H1(t),i!==0&&(n=i,e=bS(t,i))),e===1)throw r=Mp,cc(t,0),uo(t,n),Zn(t,pr()),r;if(e===6)uo(t,n);else{if(i=t.current.alternate,!(n&30)&&!VK(i)&&(e=Wy(t,n),e===2&&(a=H1(t),a!==0&&(n=a,e=bS(t,a))),e===1))throw r=Mp,cc(t,0),uo(t,n),Zn(t,pr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(fe(345));case 2:$l(t,Hn,is);break;case 3:if(uo(t,n),(n&130023424)===n&&(e=Gj+500-pr(),10<e)){if(Ay(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){$n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eS($l.bind(null,t,Hn,is),e);break}$l(t,Hn,is);break;case 4:if(uo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-na(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FK(n/1960))-n,10<n){t.timeoutHandle=eS($l.bind(null,t,Hn,is),n);break}$l(t,Hn,is);break;case 5:$l(t,Hn,is);break;default:throw Error(fe(329))}}}return Zn(t,pr()),t.callbackNode===r?SF.bind(null,t):null}function bS(t,e){var r=Jh;return t.current.memoizedState.isDehydrated&&(cc(t,e).flags|=256),t=Wy(t,e),t!==2&&(e=Hn,Hn=r,e!==null&&wS(e)),t}function wS(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function VK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ca(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uo(t,e){for(e&=~Hj,e&=~U0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-na(e),n=1<<r;t[r]=-1,e&=~n}}function mO(t){if(wt&6)throw Error(fe(327));Qu();var e=Ay(t,0);if(!(e&1))return Zn(t,pr()),null;var r=Wy(t,e);if(t.tag!==0&&r===2){var n=H1(t);n!==0&&(e=n,r=bS(t,n))}if(r===1)throw r=Mp,cc(t,0),uo(t,e),Zn(t,pr()),r;if(r===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,Hn,is),Zn(t,pr()),null}function Kj(t,e){var r=wt;wt|=1;try{return t(e)}finally{wt=r,wt===0&&(Id=pr()+500,L0&&gl())}}function _c(t){Ao!==null&&Ao.tag===0&&!(wt&6)&&Qu();var e=wt;wt|=1;var r=Oi.transition,n=Ot;try{if(Oi.transition=null,Ot=1,t)return t()}finally{Ot=n,Oi.transition=r,wt=e,!(wt&6)&&gl()}}function Qj(){ai=Du.current,Xt(Du)}function cc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,gK(r)),wr!==null)for(r=wr.return;r!==null;){var n=r;switch(Cj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oy();break;case 3:Cd(),Xt(Yn),Xt(En),Lj();break;case 5:$j(n);break;case 4:Cd();break;case 13:Xt(ir);break;case 19:Xt(ir);break;case 10:kj(n.type._context);break;case 22:case 23:Qj()}r=r.return}if(Hr=t,wr=t=Fo(t.current,null),rn=ai=e,Rr=0,Mp=null,Hj=U0=wc=0,Hn=Jh=null,Hl!==null){for(e=0;e<Hl.length;e++)if(r=Hl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Hl=null}return t}function EF(t,e){do{var r=wr;try{if(Oj(),Kv.current=By,Vy){for(var n=ar.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vy=!1}if(bc=0,qr=Pr=ar=null,Xh=!1,Op=0,Wj.current=null,r===null||r.return===null){Rr=1,Mp=e,wr=null;break}e:{var a=t,s=r.return,o=r,c=e;if(e=rn,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=rO(s);if(m!==null){m.flags&=-257,nO(m,s,o,a,e),m.mode&1&&tO(a,u,e),e=m,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){tO(a,u,e),Yj();break e}c=Error(fe(426))}}else if(Jt&&o.mode&1){var y=rO(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),nO(y,s,o,a,e),Pj(Pd(c,o));break e}}a=c=Pd(c,o),Rr!==4&&(Rr=2),Jh===null?Jh=[a]:Jh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=oF(a,c,e);QI(a,w);break e;case 1:o=c;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($o===null||!$o.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=lF(a,o,e);QI(a,N);break e}}a=a.return}while(a!==null)}AF(r)}catch(T){e=T,wr===r&&r!==null&&(wr=r=r.return);continue}break}while(!0)}function TF(){var t=Uy.current;return Uy.current=By,t===null?By:t}function Yj(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Hr===null||!(wc&268435455)&&!(U0&268435455)||uo(Hr,rn)}function Wy(t,e){var r=wt;wt|=2;var n=TF();(Hr!==t||rn!==e)&&(is=null,cc(t,e));do try{BK();break}catch(i){EF(t,i)}while(!0);if(Oj(),wt=r,Uy.current=n,wr!==null)throw Error(fe(261));return Hr=null,rn=0,Rr}function BK(){for(;wr!==null;)jF(wr)}function UK(){for(;wr!==null&&!hG();)jF(wr)}function jF(t){var e=CF(t.alternate,t,ai);t.memoizedProps=t.pendingProps,e===null?AF(t):wr=e,Wj.current=null}function AF(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=MK(r,e),r!==null){r.flags&=32767,wr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,wr=null;return}}else if(r=RK(r,e,ai),r!==null){wr=r;return}if(e=e.sibling,e!==null){wr=e;return}wr=e=t}while(e!==null);Rr===0&&(Rr=5)}function $l(t,e,r){var n=Ot,i=Oi.transition;try{Oi.transition=null,Ot=1,zK(t,e,r,n)}finally{Oi.transition=i,Ot=n}return null}function zK(t,e,r,n){do Qu();while(Ao!==null);if(wt&6)throw Error(fe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(SG(t,a),t===Hr&&(wr=Hr=null,rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dv||(dv=!0,PF(jy,function(){return Qu(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Oi.transition,Oi.transition=null;var s=Ot;Ot=1;var o=wt;wt|=4,Wj.current=null,$K(t,r),wF(r,t),cK(Z1),Ny=!!X1,Z1=X1=null,t.current=r,LK(r),pG(),wt=o,Ot=s,Oi.transition=a}else t.current=r;if(dv&&(dv=!1,Ao=t,qy=i),a=t.pendingLanes,a===0&&($o=null),vG(r.stateNode),Zn(t,pr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(zy)throw zy=!1,t=yS,yS=null,t;return qy&1&&t.tag!==0&&Qu(),a=t.pendingLanes,a&1?t===xS?ep++:(ep=0,xS=t):ep=0,gl(),null}function Qu(){if(Ao!==null){var t=oL(qy),e=Oi.transition,r=Ot;try{if(Oi.transition=null,Ot=16>t?16:t,Ao===null)var n=!1;else{if(t=Ao,Ao=null,qy=0,wt&6)throw Error(fe(331));var i=wt;for(wt|=4,Ne=t.current;Ne!==null;){var a=Ne,s=a.child;if(Ne.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ne=u;Ne!==null;){var d=Ne;switch(d.tag){case 0:case 11:case 15:Zh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ne=f;else for(;Ne!==null;){d=Ne;var h=d.sibling,m=d.return;if(yF(d),d===u){Ne=null;break}if(h!==null){h.return=m,Ne=h;break}Ne=m}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ne=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ne=s;else e:for(;Ne!==null;){if(a=Ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zh(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Ne=w;break e}Ne=a.return}}var x=t.current;for(Ne=x;Ne!==null;){s=Ne;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ne=b;else e:for(s=x;Ne!==null;){if(o=Ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:B0(9,o)}}catch(T){ur(o,o.return,T)}if(o===s){Ne=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Ne=N;break e}Ne=o.return}}if(wt=i,gl(),Na&&typeof Na.onPostCommitFiberRoot=="function")try{Na.onPostCommitFiberRoot(k0,t)}catch{}n=!0}return n}finally{Ot=r,Oi.transition=e}}return!1}function gO(t,e,r){e=Pd(r,e),e=oF(t,e,1),t=Do(t,e,1),e=$n(),t!==null&&(Zm(t,1,e),Zn(t,e))}function ur(t,e,r){if(t.tag===3)gO(t,t,r);else for(;e!==null;){if(e.tag===3){gO(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($o===null||!$o.has(n))){t=Pd(r,t),t=lF(e,t,1),e=Do(e,t,1),t=$n(),e!==null&&(Zm(e,1,t),Zn(e,t));break}}e=e.return}}function qK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&r,Hr===t&&(rn&r)===r&&(Rr===4||Rr===3&&(rn&130023424)===rn&&500>pr()-Gj?cc(t,0):Hj|=r),Zn(t,e)}function NF(t,e){e===0&&(t.mode&1?(e=tv,tv<<=1,!(tv&130023424)&&(tv=4194304)):e=1);var r=$n();t=Ts(t,e),t!==null&&(Zm(t,e,r),Zn(t,r))}function WK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),NF(t,r)}function HK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(e),NF(t,r)}var CF;CF=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Kn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Kn=!1,kK(t,e,r);Kn=!!(t.flags&131072)}else Kn=!1,Jt&&e.flags&1048576&&kL(e,My,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Yv(t,e),t=e.pendingProps;var i=jd(e,En.current);Ku(e,r),i=Vj(null,e,n,t,i,r);var a=Bj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(n)?(a=!0,ky(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mj(e),i.updater=V0,e.stateNode=i,i._reactInternals=e,oS(e,n,t,r),e=uS(null,e,n,!0,a,r)):(e.tag=0,Jt&&a&&Nj(e),On(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Yv(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=KK(n),t=Wi(n,t),i){case 0:e=cS(null,e,n,t,r);break e;case 1:e=sO(null,e,n,t,r);break e;case 11:e=iO(null,e,n,t,r);break e;case 14:e=aO(null,e,n,Wi(n.type,t),r);break e}throw Error(fe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wi(n,i),cS(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wi(n,i),sO(t,e,n,i,r);case 3:e:{if(fF(e),t===null)throw Error(fe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,FL(t,e),Ly(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Pd(Error(fe(423)),e),e=oO(t,e,n,r,i);break e}else if(n!==i){i=Pd(Error(fe(424)),e),e=oO(t,e,n,r,i);break e}else for(ci=Mo(e.stateNode.containerInfo.firstChild),di=e,Jt=!0,Yi=null,r=$L(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ad(),n===i){e=js(t,e,r);break e}On(t,e,n,r)}e=e.child}return e;case 5:return VL(e),t===null&&iS(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,J1(n,i)?s=null:a!==null&&J1(n,a)&&(e.flags|=32),dF(t,e),On(t,e,s,r),e.child;case 6:return t===null&&iS(e),null;case 13:return hF(t,e,r);case 4:return Dj(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Nd(e,null,n,r):On(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wi(n,i),iO(t,e,n,i,r);case 7:return On(t,e,e.pendingProps,r),e.child;case 8:return On(t,e,e.pendingProps.children,r),e.child;case 12:return On(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ut(Dy,n._currentValue),n._currentValue=s,a!==null)if(ca(a.value,s)){if(a.children===i.children&&!Yn.current){e=js(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=vs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),aS(a.return,r,e),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(fe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),aS(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}On(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ku(e,r),i=Mi(i),n=n(i),e.flags|=1,On(t,e,n,r),e.child;case 14:return n=e.type,i=Wi(n,e.pendingProps),i=Wi(n.type,i),aO(t,e,n,i,r);case 15:return cF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wi(n,i),Yv(t,e),e.tag=1,Xn(n)?(t=!0,ky(e)):t=!1,Ku(e,r),sF(e,n,i),oS(e,n,i,r),uS(null,e,n,!0,t,r);case 19:return pF(t,e,r);case 22:return uF(t,e,r)}throw Error(fe(156,e.tag))};function PF(t,e){return nL(t,e)}function GK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(t,e,r,n){return new GK(t,e,r,n)}function Xj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KK(t){if(typeof t=="function")return Xj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gj)return 11;if(t===vj)return 14}return 2}function Fo(t,e){var r=t.alternate;return r===null?(r=Pi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Jv(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Xj(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ju:return uc(r.children,i,a,e);case mj:s=8,i|=8;break;case I1:return t=Pi(12,r,e,i|2),t.elementType=I1,t.lanes=a,t;case O1:return t=Pi(13,r,e,i),t.elementType=O1,t.lanes=a,t;case k1:return t=Pi(19,r,e,i),t.elementType=k1,t.lanes=a,t;case V4:return z0(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L4:s=10;break e;case F4:s=9;break e;case gj:s=11;break e;case vj:s=14;break e;case ao:s=16,n=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Pi(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function uc(t,e,r,n){return t=Pi(7,t,n,e),t.lanes=r,t}function z0(t,e,r,n){return t=Pi(22,t,n,e),t.elementType=V4,t.lanes=r,t.stateNode={isHidden:!1},t}function T_(t,e,r){return t=Pi(6,t,null,e),t.lanes=r,t}function j_(t,e,r){return e=Pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QK(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=s_(0),this.expirationTimes=s_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=s_(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zj(t,e,r,n,i,a,s,o,c){return t=new QK(t,e,r,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Pi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mj(a),t}function YK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function IF(t){if(!t)return Xo;t=t._reactInternals;e:{if(Hc(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var r=t.type;if(Xn(r))return IL(t,r,e)}return e}function OF(t,e,r,n,i,a,s,o,c){return t=Zj(r,n,!0,t,i,a,s,o,c),t.context=IF(null),r=t.current,n=$n(),i=Lo(r),a=vs(n,i),a.callback=e??null,Do(r,a,i),t.current.lanes=i,Zm(t,i,n),Zn(t,n),t}function q0(t,e,r,n){var i=e.current,a=$n(),s=Lo(i);return r=IF(r),e.context===null?e.context=r:e.pendingContext=r,e=vs(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Do(i,e,s),t!==null&&(ia(t,i,s,a),Gv(t,i,s)),s}function Hy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Jj(t,e){vO(t,e),(t=t.alternate)&&vO(t,e)}function XK(){return null}var kF=typeof reportError=="function"?reportError:function(t){console.error(t)};function eA(t){this._internalRoot=t}W0.prototype.render=eA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));q0(t,e,null,null)};W0.prototype.unmount=eA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_c(function(){q0(null,t,null,null)}),e[Es]=null}};function W0(t){this._internalRoot=t}W0.prototype.unstable_scheduleHydration=function(t){if(t){var e=uL();t={blockedOn:null,target:t,priority:e};for(var r=0;r<co.length&&e!==0&&e<co[r].priority;r++);co.splice(r,0,t),r===0&&fL(t)}};function tA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function H0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yO(){}function ZK(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Hy(s);a.call(u)}}var s=OF(e,n,t,0,null,!1,!1,"",yO);return t._reactRootContainer=s,t[Es]=s.current,Ap(t.nodeType===8?t.parentNode:t),_c(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Hy(c);o.call(u)}}var c=Zj(t,0,!1,null,null,!1,!1,"",yO);return t._reactRootContainer=c,t[Es]=c.current,Ap(t.nodeType===8?t.parentNode:t),_c(function(){q0(e,c,r,n)}),c}function G0(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=Hy(s);o.call(c)}}q0(e,s,t,i)}else s=ZK(r,e,t,i,n);return Hy(s)}lL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Oh(e.pendingLanes);r!==0&&(bj(e,r|1),Zn(e,pr()),!(wt&6)&&(Id=pr()+500,gl()))}break;case 13:_c(function(){var n=Ts(t,1);if(n!==null){var i=$n();ia(n,t,1,i)}}),Jj(t,1)}};wj=function(t){if(t.tag===13){var e=Ts(t,134217728);if(e!==null){var r=$n();ia(e,t,134217728,r)}Jj(t,134217728)}};cL=function(t){if(t.tag===13){var e=Lo(t),r=Ts(t,e);if(r!==null){var n=$n();ia(r,t,e,n)}Jj(t,e)}};uL=function(){return Ot};dL=function(t,e){var r=Ot;try{return Ot=t,e()}finally{Ot=r}};z1=function(t,e,r){switch(e){case"input":if(D1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$0(n);if(!i)throw Error(fe(90));U4(n),D1(n,i)}}}break;case"textarea":q4(t,r);break;case"select":e=r.value,e!=null&&qu(t,!!r.multiple,e,!1)}};X4=Kj;Z4=_c;var JK={usingClientEntryPoint:!1,Events:[eg,Pu,$0,Q4,Y4,Kj]},mh={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eQ={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tL(t),t===null?null:t.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||XK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fv.isDisabled&&fv.supportsFiber)try{k0=fv.inject(eQ),Na=fv}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JK;vi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tA(e))throw Error(fe(200));return YK(t,e,null,r)};vi.createRoot=function(t,e){if(!tA(t))throw Error(fe(299));var r=!1,n="",i=kF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zj(t,1,!1,null,null,r,!1,n,i),t[Es]=e.current,Ap(t.nodeType===8?t.parentNode:t),new eA(e)};vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=tL(e),t=t===null?null:t.stateNode,t};vi.flushSync=function(t){return _c(t)};vi.hydrate=function(t,e,r){if(!H0(e))throw Error(fe(200));return G0(null,t,e,!0,r)};vi.hydrateRoot=function(t,e,r){if(!tA(t))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=kF;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=OF(e,null,t,1,r??null,i,!1,a,s),t[Es]=e.current,Ap(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new W0(e)};vi.render=function(t,e,r){if(!H0(e))throw Error(fe(200));return G0(null,t,e,!1,r)};vi.unmountComponentAtNode=function(t){if(!H0(t))throw Error(fe(40));return t._reactRootContainer?(_c(function(){G0(null,null,t,!1,function(){t._reactRootContainer=null,t[Es]=null})}),!0):!1};vi.unstable_batchedUpdates=Kj;vi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!H0(r))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return G0(t,e,r,!1,n)};vi.version="18.3.1-next-f1338f8080-20240426";function RF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RF)}catch(t){console.error(t)}}RF(),R4.exports=vi;var Gc=R4.exports;const tQ=Pt(Gc);var MF,xO=Gc;MF=xO.createRoot,xO.hydrateRoot;function rQ(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,s=[],o="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(s.push(r),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),s.push(i.substring(1,~n?n:~a?a:i.length)),o+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~n?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:s,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var DF={exports:{}},$F={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=_;function nQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iQ=typeof Object.is=="function"?Object.is:nQ,aQ=Od.useState,sQ=Od.useEffect,oQ=Od.useLayoutEffect,lQ=Od.useDebugValue;function cQ(t,e){var r=e(),n=aQ({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return oQ(function(){i.value=r,i.getSnapshot=e,A_(i)&&a({inst:i})},[t,r,e]),sQ(function(){return A_(i)&&a({inst:i}),t(function(){A_(i)&&a({inst:i})})},[t]),lQ(r),r}function A_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!iQ(t,r)}catch{return!0}}function uQ(t,e){return e()}var dQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uQ:cQ;$F.useSyncExternalStore=Od.useSyncExternalStore!==void 0?Od.useSyncExternalStore:dQ;DF.exports=$F;var fQ=DF.exports;const hQ=O4.useInsertionEffect,pQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mQ=pQ?_.useLayoutEffect:_.useEffect,gQ=hQ||mQ,LF=t=>{const e=_.useRef([t,(...r)=>e[0](...r)]).current;return gQ(()=>{e[0]=t}),e[1]},vQ="popstate",rA="pushState",nA="replaceState",yQ="hashchange",bO=[vQ,rA,nA,yQ],xQ=t=>{for(const e of bO)addEventListener(e,t);return()=>{for(const e of bO)removeEventListener(e,t)}},FF=(t,e)=>fQ.useSyncExternalStore(xQ,t,e),bQ=()=>location.search,wQ=({ssrSearch:t=""}={})=>FF(bQ,()=>t),wO=()=>location.pathname,_Q=({ssrPath:t}={})=>FF(wO,t?()=>t:wO),SQ=(t,{replace:e=!1,state:r=null}={})=>history[e?nA:rA](r,"",t),EQ=(t={})=>[_Q(t),SQ],_O=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_O]>"u"){for(const t of[rA,nA]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,_O,{value:!0})}const TQ=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",VF=(t="")=>t==="/"?"":t,jQ=(t,e)=>t[0]==="~"?t.slice(1):VF(e)+t,AQ=(t="",e)=>TQ(SO(VF(t)),SO(e)),SO=t=>{try{return decodeURI(t)}catch{return t}},BF={hook:EQ,searchHook:wQ,parser:rQ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},UF=_.createContext(BF),rg=()=>_.useContext(UF),zF={},qF=_.createContext(zF),NQ=()=>_.useContext(qF),K0=t=>{const[e,r]=t.hook(t);return[AQ(t.base,e),LF((n,i)=>r(jQ(n,t.base),i))]},WF=()=>K0(rg()),HF=(t,e,r,n)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),s=i.exec(r)||[],[o,...c]=s;return o!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):s.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[o]:[]]:[!1,null]},CQ=({children:t,...e})=>{var d,f;const r=rg(),n=e.hook?BF:r;let i=n;const[a,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=a),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=_.useRef({}),c=o.current,u=c;for(let h in n){const m=h==="base"?n[h]+(e[h]||""):e[h]||n[h];c===u&&m!==u[h]&&(o.current=u={...u}),u[h]=m,m!==n[h]&&(i=u)}return _.createElement(UF.Provider,{value:i,children:t})},EO=({children:t,component:e},r)=>e?_.createElement(e,{params:r}):typeof t=="function"?t(r):t,PQ=t=>{let e=_.useRef(zF),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Xs=({path:t,nest:e,match:r,...n})=>{const i=rg(),[a]=K0(i),[s,o,c]=r??HF(i.parser,t,a,e),u=PQ({...NQ(),...o});if(!s)return null;const d=c?_.createElement(CQ,{base:c},EO(n,u)):EO(n,u);return _.createElement(qF.Provider,{value:u,children:d})},GF=_.forwardRef((t,e)=>{const r=rg(),[n,i]=K0(r),{to:a="",href:s=a,onClick:o,asChild:c,children:u,className:d,replace:f,state:h,...m}=t,v=LF(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o==null||o(y),y.defaultPrevented||(y.preventDefault(),i(s,t)))}),g=r.hrefs(s[0]==="~"?s.slice(1):r.base+s,r);return c&&_.isValidElement(u)?_.cloneElement(u,{onClick:v,href:g}):_.createElement("a",{...m,onClick:v,href:g,className:d!=null&&d.call?d(n===s):d,children:u,ref:e})}),KF=t=>Array.isArray(t)?t.flatMap(e=>KF(e&&e.type===_.Fragment?e.props.children:e)):[t],IQ=({children:t,location:e})=>{const r=rg(),[n]=K0(r);for(const i of KF(t)){let a=0;if(_.isValidElement(i)&&(a=HF(r.parser,i.props.path,e||n,i.props.nest))[0])return _.cloneElement(i,{match:a})}return null};var xf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sc=typeof window>"u"||"Deno"in globalThis;function Ei(){}function OQ(t,e){return typeof t=="function"?t(e):t}function _S(t){return typeof t=="number"&&t>=0&&t!==1/0}function QF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yu(t,e){return typeof t=="function"?t(e):t}function Xi(t,e){return typeof t=="function"?t(e):t}function TO(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==iA(s,e.options))return!1}else if(!Dp(e.queryKey,s))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function jO(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ec(e.options.mutationKey)!==Ec(a))return!1}else if(!Dp(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function iA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ec)(t)}function Ec(t){return JSON.stringify(t,(e,r)=>SS(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Dp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Dp(t[r],e[r])):!1}function YF(t,e){if(t===e)return t;const r=AO(t)&&AO(e);if(r||SS(t)&&SS(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{};let c=0;for(let u=0;u<s;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,c++):(o[d]=YF(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:o}return e}function Gy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function AO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function SS(t){if(!NO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!NO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function NO(t){return Object.prototype.toString.call(t)==="[object Object]"}function kQ(t){return new Promise(e=>{setTimeout(e,t)})}function ES(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?YF(t,e):e}function RQ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function MQ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var aA=Symbol();function XF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===aA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var rc,vo,fd,f4,DQ=(f4=class extends xf{constructor(){super();Fe(this,rc);Fe(this,vo);Fe(this,fd);Ee(this,fd,e=>{if(!Sc&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,vo)||this.setEventListener(W(this,fd))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,vo))==null||e.call(this),Ee(this,vo,void 0))}setEventListener(e){var r;Ee(this,fd,e),(r=W(this,vo))==null||r.call(this),Ee(this,vo,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){W(this,rc)!==e&&(Ee(this,rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof W(this,rc)=="boolean"?W(this,rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rc=new WeakMap,vo=new WeakMap,fd=new WeakMap,f4),sA=new DQ,hd,yo,pd,h4,$Q=(h4=class extends xf{constructor(){super();Fe(this,hd,!0);Fe(this,yo);Fe(this,pd);Ee(this,pd,e=>{if(!Sc&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,yo)||this.setEventListener(W(this,pd))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,yo))==null||e.call(this),Ee(this,yo,void 0))}setEventListener(e){var r;Ee(this,pd,e),(r=W(this,yo))==null||r.call(this),Ee(this,yo,e(this.setOnline.bind(this)))}setOnline(e){W(this,hd)!==e&&(Ee(this,hd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return W(this,hd)}},hd=new WeakMap,yo=new WeakMap,pd=new WeakMap,h4),Ky=new $Q;function TS(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function LQ(t){return Math.min(1e3*2**t,3e4)}function ZF(t){return(t??"online")==="online"?Ky.isOnline():!0}var JF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function N_(t){return t instanceof JF}function eV(t){let e=!1,r=0,n=!1,i;const a=TS(),s=g=>{var y;n||(h(new JF(g)),(y=t.abort)==null||y.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>sA.isFocused()&&(t.networkMode==="always"||Ky.isOnline())&&t.canRun(),d=()=>ZF(t.networkMode)&&t.canRun(),f=g=>{var y;n||(n=!0,(y=t.onSuccess)==null||y.call(t,g),i==null||i(),a.resolve(g))},h=g=>{var y;n||(n=!0,(y=t.onError)==null||y.call(t,g),i==null||i(),a.reject(g))},m=()=>new Promise(g=>{var y;i=w=>{(n||u())&&g(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;i=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const y=r===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var E;if(n)return;const x=t.retry??(Sc?0:3),b=t.retryDelay??LQ,N=typeof b=="function"?b(r,w):b,T=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(e||!T){h(w);return}r++,(E=t.onFail)==null||E.call(t,r,w),kQ(N).then(()=>u()?void 0:m()).then(()=>{e?h(w):v()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),a)}}function FQ(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Or=FQ(),nc,p4,tV=(p4=class{constructor(){Fe(this,nc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_S(this.gcTime)&&Ee(this,nc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Sc?1/0:5*60*1e3))}clearGcTimeout(){W(this,nc)&&(clearTimeout(W(this,nc)),Ee(this,nc,void 0))}},nc=new WeakMap,p4),md,gd,Si,vn,Gm,ic,Hi,rs,m4,VQ=(m4=class extends tV{constructor(r){super();Fe(this,Hi);Fe(this,md);Fe(this,gd);Fe(this,Si);Fe(this,vn);Fe(this,Gm);Fe(this,ic);Ee(this,ic,!1),Ee(this,Gm,r.defaultOptions),this.setOptions(r.options),this.observers=[],Ee(this,Si,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Ee(this,md,BQ(this.options)),this.state=r.state??W(this,md),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=W(this,vn))==null?void 0:r.promise}setOptions(r){this.options={...W(this,Gm),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Si).remove(this)}setData(r,n){const i=ES(this.state.data,r,this.options);return at(this,Hi,rs).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){at(this,Hi,rs).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=W(this,vn))==null?void 0:i.promise;return(a=W(this,vn))==null||a.cancel(r),n?n.then(Ei).catch(Ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,md))}isActive(){return this.observers.some(r=>Xi(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!QF(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=W(this,vn))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=W(this,vn))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),W(this,Si).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(W(this,vn)&&(W(this,ic)?W(this,vn).cancel({revert:!0}):W(this,vn).cancelRetry()),this.scheduleGc()),W(this,Si).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,Hi,rs).call(this,{type:"invalidate"})}fetch(r,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,vn))return W(this,vn).continueRetry(),W(this,vn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ee(this,ic,!0),i.signal)})},s=()=>{const h=XF(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return a(m),Ee(this,ic,!1),this.options.persister?this.options.persister(h,m,this):h(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(o),(u=this.options.behavior)==null||u.onFetch(o,this),Ee(this,gd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&at(this,Hi,rs).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,v,g,y;N_(h)&&h.silent||at(this,Hi,rs).call(this,{type:"error",error:h}),N_(h)||((v=(m=W(this,Si).config).onError)==null||v.call(m,h,this),(y=(g=W(this,Si).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Ee(this,vn,eV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,v,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(v=(m=W(this,Si).config).onSuccess)==null||v.call(m,h,this),(y=(g=W(this,Si).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{at(this,Hi,rs).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{at(this,Hi,rs).call(this,{type:"pause"})},onContinue:()=>{at(this,Hi,rs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),W(this,vn).start()}},md=new WeakMap,gd=new WeakMap,Si=new WeakMap,vn=new WeakMap,Gm=new WeakMap,ic=new WeakMap,Hi=new WeakSet,rs=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...rV(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return N_(a)&&a.revert&&W(this,gd)?{...W(this,gd),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Or.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),W(this,Si).notify({query:this,type:"updated",action:r})})},m4);function rV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BQ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ba,g4,UQ=(g4=class extends xf{constructor(e={}){super();Fe(this,ba);this.config=e,Ee(this,ba,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??iA(i,r);let s=this.get(a);return s||(s=new VQ({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){W(this,ba).has(e.queryHash)||(W(this,ba).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=W(this,ba).get(e.queryHash);r&&(e.destroy(),r===e&&W(this,ba).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,ba).get(e)}getAll(){return[...W(this,ba).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>TO(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>TO(e,n)):r}notify(e){Or.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Or.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Or.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ba=new WeakMap,g4),wa,Cn,ac,_a,no,v4,zQ=(v4=class extends tV{constructor(r){super();Fe(this,_a);Fe(this,wa);Fe(this,Cn);Fe(this,ac);this.mutationId=r.mutationId,Ee(this,Cn,r.mutationCache),Ee(this,wa,[]),this.state=r.state||nV(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){W(this,wa).includes(r)||(W(this,wa).push(r),this.clearGcTimeout(),W(this,Cn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Ee(this,wa,W(this,wa).filter(n=>n!==r)),this.scheduleGc(),W(this,Cn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){W(this,wa).length||(this.state.status==="pending"?this.scheduleGc():W(this,Cn).remove(this))}continue(){var r;return((r=W(this,ac))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,s,o,c,u,d,f,h,m,v,g,y,w,x,b,N,T,E,S,j;Ee(this,ac,eV({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{at(this,_a,no).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{at(this,_a,no).call(this,{type:"pause"})},onContinue:()=>{at(this,_a,no).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Cn).canRun(this)}));const n=this.state.status==="pending",i=!W(this,ac).canStart();try{if(!n){at(this,_a,no).call(this,{type:"pending",variables:r,isPaused:i}),await((s=(a=W(this,Cn).config).onMutate)==null?void 0:s.call(a,r,this));const I=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,r));I!==this.state.context&&at(this,_a,no).call(this,{type:"pending",context:I,variables:r,isPaused:i})}const C=await W(this,ac).start();return await((d=(u=W(this,Cn).config).onSuccess)==null?void 0:d.call(u,C,r,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,r,this.state.context)),await((v=(m=W(this,Cn).config).onSettled)==null?void 0:v.call(m,C,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,C,null,r,this.state.context)),at(this,_a,no).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(w=W(this,Cn).config).onError)==null?void 0:x.call(w,C,r,this.state.context,this)),await((N=(b=this.options).onError)==null?void 0:N.call(b,C,r,this.state.context)),await((E=(T=W(this,Cn).config).onSettled)==null?void 0:E.call(T,void 0,C,this.state.variables,this.state.context,this)),await((j=(S=this.options).onSettled)==null?void 0:j.call(S,void 0,C,r,this.state.context)),C}finally{at(this,_a,no).call(this,{type:"error",error:C})}}finally{W(this,Cn).runNext(this)}}},wa=new WeakMap,Cn=new WeakMap,ac=new WeakMap,_a=new WeakSet,no=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Or.batch(()=>{W(this,wa).forEach(i=>{i.onMutationUpdate(r)}),W(this,Cn).notify({mutation:this,type:"updated",action:r})})},v4);function nV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ii,Km,y4,qQ=(y4=class extends xf{constructor(e={}){super();Fe(this,ii);Fe(this,Km);this.config=e,Ee(this,ii,new Map),Ee(this,Km,Date.now())}build(e,r,n){const i=new zQ({mutationCache:this,mutationId:++Kg(this,Km)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=hv(e),n=W(this,ii).get(r)??[];n.push(e),W(this,ii).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=hv(e);if(W(this,ii).has(r)){const i=(n=W(this,ii).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?W(this,ii).delete(r):W(this,ii).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=W(this,ii).get(hv(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=W(this,ii).get(hv(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...W(this,ii).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>jO(r,n))}findAll(e={}){return this.getAll().filter(r=>jO(e,r))}notify(e){Or.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Or.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ei))))}},ii=new WeakMap,Km=new WeakMap,y4);function hv(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function CO(t){return{onFetch:(e,r)=>{var d,f,h,m,v;const n=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=e.state.data)==null?void 0:m.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=XF(e.options,e.fetchOptions),x=async(b,N,T)=>{if(g)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:e.queryKey,pageParam:N,direction:T?"backward":"forward",meta:e.options.meta};y(E);const S=await w(E),{maxPages:j}=e.options,C=T?MQ:RQ;return{pages:C(b.pages,S,j),pageParams:C(b.pageParams,N,j)}};if(i&&a.length){const b=i==="backward",N=b?WQ:PO,T={pages:a,pageParams:s},E=N(n,T);o=await x(T,E,b)}else{const b=t??a.length;do{const N=c===0?s[0]??n.initialPageParam:PO(n,o);if(c>0&&N==null)break;o=await x(o,N),c++}while(c<b)}return o};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function PO(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function WQ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var cr,xo,bo,vd,yd,wo,xd,bd,x4,HQ=(x4=class{constructor(t={}){Fe(this,cr);Fe(this,xo);Fe(this,bo);Fe(this,vd);Fe(this,yd);Fe(this,wo);Fe(this,xd);Fe(this,bd);Ee(this,cr,t.queryCache||new UQ),Ee(this,xo,t.mutationCache||new qQ),Ee(this,bo,t.defaultOptions||{}),Ee(this,vd,new Map),Ee(this,yd,new Map),Ee(this,wo,0)}mount(){Kg(this,wo)._++,W(this,wo)===1&&(Ee(this,xd,sA.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,cr).onFocus())})),Ee(this,bd,Ky.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,cr).onOnline())})))}unmount(){var t,e;Kg(this,wo)._--,W(this,wo)===0&&((t=W(this,xd))==null||t.call(this),Ee(this,xd,void 0),(e=W(this,bd))==null||e.call(this),Ee(this,bd,void 0))}isFetching(t){return W(this,cr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,xo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,cr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=W(this,cr).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Yu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return W(this,cr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=W(this,cr).get(n.queryHash),a=i==null?void 0:i.state.data,s=OQ(e,a);if(s!==void 0)return W(this,cr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Or.batch(()=>W(this,cr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,cr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=W(this,cr);Or.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=W(this,cr),n={type:"active",...t};return Or.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Or.batch(()=>W(this,cr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ei).catch(Ei)}invalidateQueries(t={},e={}){return Or.batch(()=>{if(W(this,cr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Or.batch(()=>W(this,cr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ei)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ei)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=W(this,cr).build(this,e);return r.isStaleByTime(Yu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ei).catch(Ei)}fetchInfiniteQuery(t){return t.behavior=CO(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ei).catch(Ei)}ensureInfiniteQueryData(t){return t.behavior=CO(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ky.isOnline()?W(this,xo).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,cr)}getMutationCache(){return W(this,xo)}getDefaultOptions(){return W(this,bo)}setDefaultOptions(t){Ee(this,bo,t)}setQueryDefaults(t,e){W(this,vd).set(Ec(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,vd).values()];let r={};return e.forEach(n=>{Dp(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){W(this,yd).set(Ec(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,yd).values()];let r={};return e.forEach(n=>{Dp(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,bo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===aA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,bo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,cr).clear(),W(this,xo).clear()}},cr=new WeakMap,xo=new WeakMap,bo=new WeakMap,vd=new WeakMap,yd=new WeakMap,wo=new WeakMap,xd=new WeakMap,bd=new WeakMap,x4),zn,mt,Qm,Pn,sc,wd,_o,Sa,Ym,_d,Sd,oc,lc,So,Ed,Nt,Rh,jS,AS,NS,CS,PS,IS,OS,iV,b4,GQ=(b4=class extends xf{constructor(e,r){super();Fe(this,Nt);Fe(this,zn);Fe(this,mt);Fe(this,Qm);Fe(this,Pn);Fe(this,sc);Fe(this,wd);Fe(this,_o);Fe(this,Sa);Fe(this,Ym);Fe(this,_d);Fe(this,Sd);Fe(this,oc);Fe(this,lc);Fe(this,So);Fe(this,Ed,new Set);this.options=r,Ee(this,zn,e),Ee(this,Sa,null),Ee(this,_o,TS()),this.options.experimental_prefetchInRender||W(this,_o).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,mt).addObserver(this),IO(W(this,mt),this.options)?at(this,Nt,Rh).call(this):this.updateResult(),at(this,Nt,CS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kS(W(this,mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kS(W(this,mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,at(this,Nt,PS).call(this),at(this,Nt,IS).call(this),W(this,mt).removeObserver(this)}setOptions(e,r){const n=this.options,i=W(this,mt);if(this.options=W(this,zn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xi(this.options.enabled,W(this,mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");at(this,Nt,OS).call(this),W(this,mt).setOptions(this.options),n._defaulted&&!Gy(this.options,n)&&W(this,zn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,mt),observer:this});const a=this.hasListeners();a&&OO(W(this,mt),i,this.options,n)&&at(this,Nt,Rh).call(this),this.updateResult(r),a&&(W(this,mt)!==i||Xi(this.options.enabled,W(this,mt))!==Xi(n.enabled,W(this,mt))||Yu(this.options.staleTime,W(this,mt))!==Yu(n.staleTime,W(this,mt)))&&at(this,Nt,jS).call(this);const s=at(this,Nt,AS).call(this);a&&(W(this,mt)!==i||Xi(this.options.enabled,W(this,mt))!==Xi(n.enabled,W(this,mt))||s!==W(this,So))&&at(this,Nt,NS).call(this,s)}getOptimisticResult(e){const r=W(this,zn).getQueryCache().build(W(this,zn),e),n=this.createResult(r,e);return QQ(this,n)&&(Ee(this,Pn,n),Ee(this,wd,this.options),Ee(this,sc,W(this,mt).state)),n}getCurrentResult(){return W(this,Pn)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){W(this,Ed).add(e)}getCurrentQuery(){return W(this,mt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=W(this,zn).defaultQueryOptions(e),n=W(this,zn).getQueryCache().build(W(this,zn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return at(this,Nt,Rh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Pn)))}createResult(e,r){var j;const n=W(this,mt),i=this.options,a=W(this,Pn),s=W(this,sc),o=W(this,wd),u=e!==n?e.state:W(this,Qm),{state:d}=e;let f={...d},h=!1,m;if(r._optimisticResults){const C=this.hasListeners(),I=!C&&IO(e,r),k=C&&OO(e,n,r,i);(I||k)&&(f={...f,...rV(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(s==null?void 0:s.data)&&r.select===W(this,Ym))m=W(this,_d);else try{Ee(this,Ym,r.select),m=r.select(f.data),m=ES(a==null?void 0:a.data,m,r),Ee(this,_d,m),Ee(this,Sa,null)}catch(C){Ee(this,Sa,C)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&y==="pending"){let C;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))C=a.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((j=W(this,Sd))==null?void 0:j.state.data,W(this,Sd)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),Ee(this,Sa,null)}catch(I){Ee(this,Sa,I)}C!==void 0&&(y="success",m=ES(a==null?void 0:a.data,C,r),h=!0)}W(this,Sa)&&(v=W(this,Sa),m=W(this,_d),g=Date.now(),y="error");const w=f.fetchStatus==="fetching",x=y==="pending",b=y==="error",N=x&&w,T=m!==void 0,S={status:y,fetchStatus:f.fetchStatus,isPending:x,isSuccess:y==="success",isError:b,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!x,isLoadingError:b&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&T,isStale:oA(e,r),refetch:this.refetch,promise:W(this,_o)};if(this.options.experimental_prefetchInRender){const C=R=>{S.status==="error"?R.reject(S.error):S.data!==void 0&&R.resolve(S.data)},I=()=>{const R=Ee(this,_o,S.promise=TS());C(R)},k=W(this,_o);switch(k.status){case"pending":e.queryHash===n.queryHash&&C(k);break;case"fulfilled":(S.status==="error"||S.data!==k.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==k.reason)&&I();break}}return S}updateResult(e){const r=W(this,Pn),n=this.createResult(W(this,mt),this.options);if(Ee(this,sc,W(this,mt).state),Ee(this,wd,this.options),W(this,sc).data!==void 0&&Ee(this,Sd,W(this,mt)),Gy(n,r))return;Ee(this,Pn,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!W(this,Ed).size)return!0;const c=new Set(o??W(this,Ed));return this.options.throwOnError&&c.add("error"),Object.keys(W(this,Pn)).some(u=>{const d=u;return W(this,Pn)[d]!==r[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),at(this,Nt,iV).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&at(this,Nt,CS).call(this)}},zn=new WeakMap,mt=new WeakMap,Qm=new WeakMap,Pn=new WeakMap,sc=new WeakMap,wd=new WeakMap,_o=new WeakMap,Sa=new WeakMap,Ym=new WeakMap,_d=new WeakMap,Sd=new WeakMap,oc=new WeakMap,lc=new WeakMap,So=new WeakMap,Ed=new WeakMap,Nt=new WeakSet,Rh=function(e){at(this,Nt,OS).call(this);let r=W(this,mt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ei)),r},jS=function(){at(this,Nt,PS).call(this);const e=Yu(this.options.staleTime,W(this,mt));if(Sc||W(this,Pn).isStale||!_S(e))return;const n=QF(W(this,Pn).dataUpdatedAt,e)+1;Ee(this,oc,setTimeout(()=>{W(this,Pn).isStale||this.updateResult()},n))},AS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,mt)):this.options.refetchInterval)??!1},NS=function(e){at(this,Nt,IS).call(this),Ee(this,So,e),!(Sc||Xi(this.options.enabled,W(this,mt))===!1||!_S(W(this,So))||W(this,So)===0)&&Ee(this,lc,setInterval(()=>{(this.options.refetchIntervalInBackground||sA.isFocused())&&at(this,Nt,Rh).call(this)},W(this,So)))},CS=function(){at(this,Nt,jS).call(this),at(this,Nt,NS).call(this,at(this,Nt,AS).call(this))},PS=function(){W(this,oc)&&(clearTimeout(W(this,oc)),Ee(this,oc,void 0))},IS=function(){W(this,lc)&&(clearInterval(W(this,lc)),Ee(this,lc,void 0))},OS=function(){const e=W(this,zn).getQueryCache().build(W(this,zn),this.options);if(e===W(this,mt))return;const r=W(this,mt);Ee(this,mt,e),Ee(this,Qm,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},iV=function(e){Or.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(W(this,Pn))}),W(this,zn).getQueryCache().notify({query:W(this,mt),type:"observerResultsUpdated"})})},b4);function KQ(t,e){return Xi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function IO(t,e){return KQ(t,e)||t.state.data!==void 0&&kS(t,e,e.refetchOnMount)}function kS(t,e,r){if(Xi(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&oA(t,e)}return!1}function OO(t,e,r,n){return(t!==e||Xi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&oA(t,r)}function oA(t,e){return Xi(e.enabled,t)!==!1&&t.isStaleByTime(Yu(e.staleTime,t))}function QQ(t,e){return!Gy(t.getCurrentResult(),e)}var Eo,To,qn,ls,_s,ey,RS,w4,YQ=(w4=class extends xf{constructor(r,n){super();Fe(this,_s);Fe(this,Eo);Fe(this,To);Fe(this,qn);Fe(this,ls);Ee(this,Eo,r),this.setOptions(n),this.bindMethods(),at(this,_s,ey).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=W(this,Eo).defaultMutationOptions(r),Gy(this.options,n)||W(this,Eo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,qn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ec(n.mutationKey)!==Ec(this.options.mutationKey)?this.reset():((i=W(this,qn))==null?void 0:i.state.status)==="pending"&&W(this,qn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,qn))==null||r.removeObserver(this)}onMutationUpdate(r){at(this,_s,ey).call(this),at(this,_s,RS).call(this,r)}getCurrentResult(){return W(this,To)}reset(){var r;(r=W(this,qn))==null||r.removeObserver(this),Ee(this,qn,void 0),at(this,_s,ey).call(this),at(this,_s,RS).call(this)}mutate(r,n){var i;return Ee(this,ls,n),(i=W(this,qn))==null||i.removeObserver(this),Ee(this,qn,W(this,Eo).getMutationCache().build(W(this,Eo),this.options)),W(this,qn).addObserver(this),W(this,qn).execute(r)}},Eo=new WeakMap,To=new WeakMap,qn=new WeakMap,ls=new WeakMap,_s=new WeakSet,ey=function(){var n;const r=((n=W(this,qn))==null?void 0:n.state)??nV();Ee(this,To,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},RS=function(r){Or.batch(()=>{var n,i,a,s,o,c,u,d;if(W(this,ls)&&this.hasListeners()){const f=W(this,To).variables,h=W(this,To).context;(r==null?void 0:r.type)==="success"?((i=(n=W(this,ls)).onSuccess)==null||i.call(n,r.data,f,h),(s=(a=W(this,ls)).onSettled)==null||s.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(o=W(this,ls)).onError)==null||c.call(o,r.error,f,h),(d=(u=W(this,ls)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(W(this,To))})})},w4),aV=_.createContext(void 0),Lr=t=>{const e=_.useContext(aV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XQ=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(aV.Provider,{value:t,children:e})),sV=_.createContext(!1),ZQ=()=>_.useContext(sV);sV.Provider;function JQ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var eY=_.createContext(JQ()),tY=()=>_.useContext(eY);function oV(t,e){return typeof t=="function"?t(...e):!!t}function MS(){}var rY=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},nY=t=>{_.useEffect(()=>{t.clearReset()},[t])},iY=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&oV(r,[t.error,n]),aY=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},sY=(t,e)=>t.isLoading&&t.isFetching&&!e,oY=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,kO=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function lY(t,e,r){var d,f,h,m,v;const n=Lr(),i=ZQ(),a=tY(),s=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,s),s._optimisticResults=i?"isRestoring":"optimistic",aY(s),rY(s,a),nY(a);const o=!n.getQueryCache().get(s.queryHash),[c]=_.useState(()=>new e(n,s)),u=c.getOptimisticResult(s);if(_.useSyncExternalStore(_.useCallback(g=>{const y=i?MS:c.subscribe(Or.batchCalls(g));return c.updateResult(),y},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(s,{listeners:!1})},[s,c]),oY(s,u))throw kO(s,c,a);if(iY({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,s,u),s.experimental_prefetchInRender&&!Sc&&sY(u,i)){const g=o?kO(s,c,a):(v=n.getQueryCache().get(s.queryHash))==null?void 0:v.promise;g==null||g.catch(MS).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function $t(t,e){return lY(t,GQ)}function mr(t,e){const r=Lr(),[n]=_.useState(()=>new YQ(r,t));_.useEffect(()=>{n.setOptions(t)},[n,t]);const i=_.useSyncExternalStore(_.useCallback(s=>n.subscribe(Or.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=_.useCallback((s,o)=>{n.mutate(s,o).catch(MS)},[n]);if(i.error&&oV(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const cY=()=>{};var RO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},uY=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},cV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,m=u&63;c||(m=64,s||(h=64)),n.push(r[d],r[f],r[h],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new dY;const h=a<<2|o>>4;if(n.push(h),u!==64){const m=o<<4&240|u>>2;if(n.push(m),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fY=function(t){const e=lV(t);return cV.encodeByteArray(e,!0)},Qy=function(t){return fY(t).replace(/\./g,"")},uV=function(t){try{return cV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=()=>hY().__FIREBASE_DEFAULTS__,mY=()=>{if(typeof process>"u"||typeof RO>"u")return;const t=RO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uV(t[1]);return e&&JSON.parse(e)},Q0=()=>{try{return cY()||pY()||mY()||gY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dV=t=>{var e,r;return(r=(e=Q0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},vY=t=>{const e=dV(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},fV=()=>{var t;return(t=Q0())===null||t===void 0?void 0:t.config},hV=t=>{var e;return(e=Q0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pV(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qy(JSON.stringify(r)),Qy(JSON.stringify(s)),""].join(".")}const tp={};function bY(){const t={prod:[],emulator:[]};for(const e of Object.keys(tp))tp[e]?t.emulator.push(e):t.prod.push(e);return t}function wY(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let MO=!1;function mV(t,e){if(typeof window>"u"||typeof document>"u"||!bf(window.location.host)||tp[t]===e||tp[t]||MO)return;tp[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=bY().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{MO=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=wY(n),m=r("text"),v=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),y=document.getElementById(g)||document.createElement("a"),w=r("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),d(y,g);const N=u();c(x,w),b.append(x,v,y,N),document.body.appendChild(b)}a?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function SY(){var t;const e=(t=Q0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TY(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AY(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NY(){return!SY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CY(){try{return typeof indexedDB=="object"}catch{return!1}}function PY(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY="FirebaseError";class Bs extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=IY,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ng.prototype.create)}}class ng{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?OY(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Bs(i,o,n)}}function OY(t,e){return t.replace(kY,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const kY=/\{\$([^}]+)}/g;function RY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(DO(a)&&DO(s)){if(!Tc(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function DO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function MY(t,e){const r=new DY(t,e);return r.subscribe.bind(r)}class DY{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");$Y(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=C_),i.error===void 0&&(i.error=C_),i.complete===void 0&&(i.complete=C_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $Y(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function C_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class jc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LY=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new yY;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VY(e))try{this.getOrInitializeService({instanceIdentifier:Ll})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ll){return this.instances.has(e)}getOptions(e=Ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:FY(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ll){return this.component?this.component.multipleInstances?e:Ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FY(t){return t===Ll?void 0:t}function VY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new LY(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const UY={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},zY=ft.INFO,qY={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},WY=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=qY[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lA{constructor(e){this.name=e,this._logLevel=zY,this._logHandler=WY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const HY=(t,e)=>e.some(r=>t instanceof r);let $O,LO;function GY(){return $O||($O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KY(){return LO||(LO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gV=new WeakMap,DS=new WeakMap,vV=new WeakMap,P_=new WeakMap,cA=new WeakMap;function QY(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Vo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&gV.set(r,t)}).catch(()=>{}),cA.set(e,t),e}function YY(t){if(DS.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});DS.set(t,e)}let $S={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return DS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vV.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Vo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XY(t){$S=t($S)}function ZY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(I_(this),e,...r);return vV.set(n,e.sort?e.sort():[e]),Vo(n)}:KY().includes(t)?function(...e){return t.apply(I_(this),e),Vo(gV.get(this))}:function(...e){return Vo(t.apply(I_(this),e))}}function JY(t){return typeof t=="function"?ZY(t):(t instanceof IDBTransaction&&YY(t),HY(t,GY())?new Proxy(t,$S):t)}function Vo(t){if(t instanceof IDBRequest)return QY(t);if(P_.has(t))return P_.get(t);const e=JY(t);return e!==t&&(P_.set(t,e),cA.set(e,t)),e}const I_=t=>cA.get(t);function eX(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Vo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Vo(s.result),c.oldVersion,c.newVersion,Vo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const tX=["get","getKey","getAll","getAllKeys","count"],rX=["put","add","delete","clear"],O_=new Map;function FO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(O_.get(e))return O_.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=rX.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||tX.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return O_.set(e,a),a}XY(t=>({...t,get:(e,r,n)=>FO(e,r)||t.get(e,r,n),has:(e,r)=>!!FO(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(iX(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function iX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const LS="@firebase/app",VO="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new lA("@firebase/app"),aX="@firebase/app-compat",sX="@firebase/analytics-compat",oX="@firebase/analytics",lX="@firebase/app-check-compat",cX="@firebase/app-check",uX="@firebase/auth",dX="@firebase/auth-compat",fX="@firebase/database",hX="@firebase/data-connect",pX="@firebase/database-compat",mX="@firebase/functions",gX="@firebase/functions-compat",vX="@firebase/installations",yX="@firebase/installations-compat",xX="@firebase/messaging",bX="@firebase/messaging-compat",wX="@firebase/performance",_X="@firebase/performance-compat",SX="@firebase/remote-config",EX="@firebase/remote-config-compat",TX="@firebase/storage",jX="@firebase/storage-compat",AX="@firebase/firestore",NX="@firebase/ai",CX="@firebase/firestore-compat",PX="firebase",IX="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="[DEFAULT]",OX={[LS]:"fire-core",[aX]:"fire-core-compat",[oX]:"fire-analytics",[sX]:"fire-analytics-compat",[cX]:"fire-app-check",[lX]:"fire-app-check-compat",[uX]:"fire-auth",[dX]:"fire-auth-compat",[fX]:"fire-rtdb",[hX]:"fire-data-connect",[pX]:"fire-rtdb-compat",[mX]:"fire-fn",[gX]:"fire-fn-compat",[vX]:"fire-iid",[yX]:"fire-iid-compat",[xX]:"fire-fcm",[bX]:"fire-fcm-compat",[wX]:"fire-perf",[_X]:"fire-perf-compat",[SX]:"fire-rc",[EX]:"fire-rc-compat",[TX]:"fire-gcs",[jX]:"fire-gcs-compat",[AX]:"fire-fst",[CX]:"fire-fst-compat",[NX]:"fire-vertex","fire-js":"fire-js",[PX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map,kX=new Map,VS=new Map;function BO(t,e){try{t.container.addComponent(e)}catch(r){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function kd(t){const e=t.name;if(VS.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;VS.set(e,t);for(const r of Yy.values())BO(r,t);for(const r of kX.values())BO(r,t);return!0}function uA(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ai(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bo=new ng("app","Firebase",RX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new jc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=IX;function yV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:FS,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Bo.create("bad-app-name",{appName:String(i)});if(r||(r=fV()),!r)throw Bo.create("no-options");const a=Yy.get(i);if(a){if(Tc(r,a.options)&&Tc(n,a.config))return a;throw Bo.create("duplicate-app",{appName:i})}const s=new BY(i);for(const c of VS.values())s.addComponent(c);const o=new MX(r,n,s);return Yy.set(i,o),o}function xV(t=FS){const e=Yy.get(t);if(!e&&t===FS&&fV())return yV();if(!e)throw Bo.create("no-app",{appName:t});return e}function Uo(t,e,r){var n;let i=(n=OX[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(o.join(" "));return}kd(new jc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX="firebase-heartbeat-database",$X=1,$p="firebase-heartbeat-store";let k_=null;function bV(){return k_||(k_=eX(DX,$X,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($p)}catch(r){console.warn(r)}}}}).catch(t=>{throw Bo.create("idb-open",{originalErrorMessage:t.message})})),k_}async function LX(t){try{const r=(await bV()).transaction($p),n=await r.objectStore($p).get(wV(t));return await r.done,n}catch(e){if(e instanceof Bs)As.warn(e.message);else{const r=Bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});As.warn(r.message)}}}async function UO(t,e){try{const n=(await bV()).transaction($p,"readwrite");await n.objectStore($p).put(e,wV(t)),await n.done}catch(r){if(r instanceof Bs)As.warn(r.message);else{const n=Bo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});As.warn(n.message)}}}function wV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=1024,VX=30;class BX{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new zX(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=zO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VX){const s=qX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){As.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=zO(),{heartbeatsToSend:n,unsentEntries:i}=UX(this._heartbeatsCache.heartbeats),a=Qy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return As.warn(r),""}}}function zO(){return new Date().toISOString().substring(0,10)}function UX(t,e=FX){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),qO(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),qO(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class zX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CY()?PY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await LX(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return UO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return UO(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qO(t){return Qy(JSON.stringify({version:2,heartbeats:t})).length}function qX(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t){kd(new jc("platform-logger",e=>new nX(e),"PRIVATE")),kd(new jc("heartbeat",e=>new BX(e),"PRIVATE")),Uo(LS,VO,t),Uo(LS,VO,"esm2017"),Uo("fire-js","")}WX("");var WO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,_V;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,j){function C(){}C.prototype=j.prototype,S.D=j.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(I,k,R){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return j.prototype[k].apply(I,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,j,C){C||(C=0);var I=Array(16);if(typeof j=="string")for(var k=0;16>k;++k)I[k]=j.charCodeAt(C++)|j.charCodeAt(C++)<<8|j.charCodeAt(C++)<<16|j.charCodeAt(C++)<<24;else for(k=0;16>k;++k)I[k]=j[C++]|j[C++]<<8|j[C++]<<16|j[C++]<<24;j=S.g[0],C=S.g[1],k=S.g[2];var R=S.g[3],O=j+(R^C&(k^R))+I[0]+3614090360&4294967295;j=C+(O<<7&4294967295|O>>>25),O=R+(k^j&(C^k))+I[1]+3905402710&4294967295,R=j+(O<<12&4294967295|O>>>20),O=k+(C^R&(j^C))+I[2]+606105819&4294967295,k=R+(O<<17&4294967295|O>>>15),O=C+(j^k&(R^j))+I[3]+3250441966&4294967295,C=k+(O<<22&4294967295|O>>>10),O=j+(R^C&(k^R))+I[4]+4118548399&4294967295,j=C+(O<<7&4294967295|O>>>25),O=R+(k^j&(C^k))+I[5]+1200080426&4294967295,R=j+(O<<12&4294967295|O>>>20),O=k+(C^R&(j^C))+I[6]+2821735955&4294967295,k=R+(O<<17&4294967295|O>>>15),O=C+(j^k&(R^j))+I[7]+4249261313&4294967295,C=k+(O<<22&4294967295|O>>>10),O=j+(R^C&(k^R))+I[8]+1770035416&4294967295,j=C+(O<<7&4294967295|O>>>25),O=R+(k^j&(C^k))+I[9]+2336552879&4294967295,R=j+(O<<12&4294967295|O>>>20),O=k+(C^R&(j^C))+I[10]+4294925233&4294967295,k=R+(O<<17&4294967295|O>>>15),O=C+(j^k&(R^j))+I[11]+2304563134&4294967295,C=k+(O<<22&4294967295|O>>>10),O=j+(R^C&(k^R))+I[12]+1804603682&4294967295,j=C+(O<<7&4294967295|O>>>25),O=R+(k^j&(C^k))+I[13]+4254626195&4294967295,R=j+(O<<12&4294967295|O>>>20),O=k+(C^R&(j^C))+I[14]+2792965006&4294967295,k=R+(O<<17&4294967295|O>>>15),O=C+(j^k&(R^j))+I[15]+1236535329&4294967295,C=k+(O<<22&4294967295|O>>>10),O=j+(k^R&(C^k))+I[1]+4129170786&4294967295,j=C+(O<<5&4294967295|O>>>27),O=R+(C^k&(j^C))+I[6]+3225465664&4294967295,R=j+(O<<9&4294967295|O>>>23),O=k+(j^C&(R^j))+I[11]+643717713&4294967295,k=R+(O<<14&4294967295|O>>>18),O=C+(R^j&(k^R))+I[0]+3921069994&4294967295,C=k+(O<<20&4294967295|O>>>12),O=j+(k^R&(C^k))+I[5]+3593408605&4294967295,j=C+(O<<5&4294967295|O>>>27),O=R+(C^k&(j^C))+I[10]+38016083&4294967295,R=j+(O<<9&4294967295|O>>>23),O=k+(j^C&(R^j))+I[15]+3634488961&4294967295,k=R+(O<<14&4294967295|O>>>18),O=C+(R^j&(k^R))+I[4]+3889429448&4294967295,C=k+(O<<20&4294967295|O>>>12),O=j+(k^R&(C^k))+I[9]+568446438&4294967295,j=C+(O<<5&4294967295|O>>>27),O=R+(C^k&(j^C))+I[14]+3275163606&4294967295,R=j+(O<<9&4294967295|O>>>23),O=k+(j^C&(R^j))+I[3]+4107603335&4294967295,k=R+(O<<14&4294967295|O>>>18),O=C+(R^j&(k^R))+I[8]+1163531501&4294967295,C=k+(O<<20&4294967295|O>>>12),O=j+(k^R&(C^k))+I[13]+2850285829&4294967295,j=C+(O<<5&4294967295|O>>>27),O=R+(C^k&(j^C))+I[2]+4243563512&4294967295,R=j+(O<<9&4294967295|O>>>23),O=k+(j^C&(R^j))+I[7]+1735328473&4294967295,k=R+(O<<14&4294967295|O>>>18),O=C+(R^j&(k^R))+I[12]+2368359562&4294967295,C=k+(O<<20&4294967295|O>>>12),O=j+(C^k^R)+I[5]+4294588738&4294967295,j=C+(O<<4&4294967295|O>>>28),O=R+(j^C^k)+I[8]+2272392833&4294967295,R=j+(O<<11&4294967295|O>>>21),O=k+(R^j^C)+I[11]+1839030562&4294967295,k=R+(O<<16&4294967295|O>>>16),O=C+(k^R^j)+I[14]+4259657740&4294967295,C=k+(O<<23&4294967295|O>>>9),O=j+(C^k^R)+I[1]+2763975236&4294967295,j=C+(O<<4&4294967295|O>>>28),O=R+(j^C^k)+I[4]+1272893353&4294967295,R=j+(O<<11&4294967295|O>>>21),O=k+(R^j^C)+I[7]+4139469664&4294967295,k=R+(O<<16&4294967295|O>>>16),O=C+(k^R^j)+I[10]+3200236656&4294967295,C=k+(O<<23&4294967295|O>>>9),O=j+(C^k^R)+I[13]+681279174&4294967295,j=C+(O<<4&4294967295|O>>>28),O=R+(j^C^k)+I[0]+3936430074&4294967295,R=j+(O<<11&4294967295|O>>>21),O=k+(R^j^C)+I[3]+3572445317&4294967295,k=R+(O<<16&4294967295|O>>>16),O=C+(k^R^j)+I[6]+76029189&4294967295,C=k+(O<<23&4294967295|O>>>9),O=j+(C^k^R)+I[9]+3654602809&4294967295,j=C+(O<<4&4294967295|O>>>28),O=R+(j^C^k)+I[12]+3873151461&4294967295,R=j+(O<<11&4294967295|O>>>21),O=k+(R^j^C)+I[15]+530742520&4294967295,k=R+(O<<16&4294967295|O>>>16),O=C+(k^R^j)+I[2]+3299628645&4294967295,C=k+(O<<23&4294967295|O>>>9),O=j+(k^(C|~R))+I[0]+4096336452&4294967295,j=C+(O<<6&4294967295|O>>>26),O=R+(C^(j|~k))+I[7]+1126891415&4294967295,R=j+(O<<10&4294967295|O>>>22),O=k+(j^(R|~C))+I[14]+2878612391&4294967295,k=R+(O<<15&4294967295|O>>>17),O=C+(R^(k|~j))+I[5]+4237533241&4294967295,C=k+(O<<21&4294967295|O>>>11),O=j+(k^(C|~R))+I[12]+1700485571&4294967295,j=C+(O<<6&4294967295|O>>>26),O=R+(C^(j|~k))+I[3]+2399980690&4294967295,R=j+(O<<10&4294967295|O>>>22),O=k+(j^(R|~C))+I[10]+4293915773&4294967295,k=R+(O<<15&4294967295|O>>>17),O=C+(R^(k|~j))+I[1]+2240044497&4294967295,C=k+(O<<21&4294967295|O>>>11),O=j+(k^(C|~R))+I[8]+1873313359&4294967295,j=C+(O<<6&4294967295|O>>>26),O=R+(C^(j|~k))+I[15]+4264355552&4294967295,R=j+(O<<10&4294967295|O>>>22),O=k+(j^(R|~C))+I[6]+2734768916&4294967295,k=R+(O<<15&4294967295|O>>>17),O=C+(R^(k|~j))+I[13]+1309151649&4294967295,C=k+(O<<21&4294967295|O>>>11),O=j+(k^(C|~R))+I[4]+4149444226&4294967295,j=C+(O<<6&4294967295|O>>>26),O=R+(C^(j|~k))+I[11]+3174756917&4294967295,R=j+(O<<10&4294967295|O>>>22),O=k+(j^(R|~C))+I[2]+718787259&4294967295,k=R+(O<<15&4294967295|O>>>17),O=C+(R^(k|~j))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+j&4294967295,S.g[1]=S.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+R&4294967295}n.prototype.u=function(S,j){j===void 0&&(j=S.length);for(var C=j-this.blockSize,I=this.B,k=this.h,R=0;R<j;){if(k==0)for(;R<=C;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<j;)if(I[k++]=S.charCodeAt(R++),k==this.blockSize){i(this,I),k=0;break}}else for(;R<j;)if(I[k++]=S[R++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=j},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var j=1;j<S.length-8;++j)S[j]=0;var C=8*this.o;for(j=S.length-8;j<S.length;++j)S[j]=C&255,C/=256;for(this.u(S),S=Array(16),j=C=0;4>j;++j)for(var I=0;32>I;I+=8)S[C++]=this.g[j]>>>I&255;return S};function a(S,j){var C=o;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=j(S)}function s(S,j){this.h=j;for(var C=[],I=!0,k=S.length-1;0<=k;k--){var R=S[k]|0;I&&R==j||(C[k]=R,I=!1)}this.g=C}var o={};function c(S){return-128<=S&&128>S?a(S,function(j){return new s([j|0],0>j?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return y(u(-S));for(var j=[],C=1,I=0;S>=C;I++)j[I]=S/C|0,C*=4294967296;return new s(j,0)}function d(S,j){if(S.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(S.charAt(0)=="-")return y(d(S.substring(1),j));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(j,8)),I=f,k=0;k<S.length;k+=8){var R=Math.min(8,S.length-k),O=parseInt(S.substring(k,k+R),j);8>R?(R=u(Math.pow(j,R)),I=I.j(R).add(u(O))):(I=I.j(C),I=I.add(u(O)))}return I}var f=c(0),h=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(g(this))return-y(this).m();for(var S=0,j=1,C=0;C<this.g.length;C++){var I=this.i(C);S+=(0<=I?I:4294967296+I)*j,j*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(g(this))return"-"+y(this).toString(S);for(var j=u(Math.pow(S,6)),C=this,I="";;){var k=N(C,j).g;C=w(C,k.j(j));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=k,v(C))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var j=0;j<S.g.length;j++)if(S.g[j]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=w(this,S),g(S)?-1:v(S)?0:1};function y(S){for(var j=S.g.length,C=[],I=0;I<j;I++)C[I]=~S.g[I];return new s(C,~S.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(S){for(var j=Math.max(this.g.length,S.g.length),C=[],I=0,k=0;k<=j;k++){var R=I+(this.i(k)&65535)+(S.i(k)&65535),O=(R>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);I=O>>>16,R&=65535,O&=65535,C[k]=O<<16|R}return new s(C,C[C.length-1]&-2147483648?-1:0)};function w(S,j){return S.add(y(j))}t.j=function(S){if(v(this)||v(S))return f;if(g(this))return g(S)?y(this).j(y(S)):y(y(this).j(S));if(g(S))return y(this.j(y(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var j=this.g.length+S.g.length,C=[],I=0;I<2*j;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<S.g.length;k++){var R=this.i(I)>>>16,O=this.i(I)&65535,$=S.i(k)>>>16,D=S.i(k)&65535;C[2*I+2*k]+=O*D,x(C,2*I+2*k),C[2*I+2*k+1]+=R*D,x(C,2*I+2*k+1),C[2*I+2*k+1]+=O*$,x(C,2*I+2*k+1),C[2*I+2*k+2]+=R*$,x(C,2*I+2*k+2)}for(I=0;I<j;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=j;I<2*j;I++)C[I]=0;return new s(C,0)};function x(S,j){for(;(S[j]&65535)!=S[j];)S[j+1]+=S[j]>>>16,S[j]&=65535,j++}function b(S,j){this.g=S,this.h=j}function N(S,j){if(v(j))throw Error("division by zero");if(v(S))return new b(f,f);if(g(S))return j=N(y(S),j),new b(y(j.g),y(j.h));if(g(j))return j=N(S,y(j)),new b(y(j.g),j.h);if(30<S.g.length){if(g(S)||g(j))throw Error("slowDivide_ only works with positive integers.");for(var C=h,I=j;0>=I.l(S);)C=T(C),I=T(I);var k=E(C,1),R=E(I,1);for(I=E(I,2),C=E(C,2);!v(I);){var O=R.add(I);0>=O.l(S)&&(k=k.add(C),R=O),I=E(I,1),C=E(C,1)}return j=w(S,k.j(j)),new b(k,j)}for(k=f;0<=S.l(j);){for(C=Math.max(1,Math.floor(S.m()/j.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=u(C),O=R.j(j);g(O)||0<O.l(S);)C-=I,R=u(C),O=R.j(j);v(R)&&(R=h),k=k.add(R),S=w(S,O)}return new b(k,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var j=Math.max(this.g.length,S.g.length),C=[],I=0;I<j;I++)C[I]=this.i(I)&S.i(I);return new s(C,this.h&S.h)},t.or=function(S){for(var j=Math.max(this.g.length,S.g.length),C=[],I=0;I<j;I++)C[I]=this.i(I)|S.i(I);return new s(C,this.h|S.h)},t.xor=function(S){for(var j=Math.max(this.g.length,S.g.length),C=[],I=0;I<j;I++)C[I]=this.i(I)^S.i(I);return new s(C,this.h^S.h)};function T(S){for(var j=S.g.length+1,C=[],I=0;I<j;I++)C[I]=S.i(I)<<1|S.i(I-1)>>>31;return new s(C,S.h)}function E(S,j){var C=j>>5;j%=32;for(var I=S.g.length-C,k=[],R=0;R<I;R++)k[R]=0<j?S.i(R+C)>>>j|S.i(R+C+1)<<32-j:S.i(R+C);return new s(k,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,_V=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,zo=s}).apply(typeof WO<"u"?WO:typeof self<"u"?self:typeof window<"u"?window:{});var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SV,Mh,EV,ty,BS,TV,jV,AV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,A,P){return p==Array.prototype||p==Object.prototype||(p[A]=P.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof pv=="object"&&pv];for(var A=0;A<p.length;++A){var P=p[A];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(p,A){if(A)e:{var P=n;p=p.split(".");for(var M=0;M<p.length-1;M++){var G=p[M];if(!(G in P))break e;P=P[G]}p=p[p.length-1],M=P[p],A=A(M),A!=M&&A!=null&&e(P,p,{configurable:!0,writable:!0,value:A})}}function a(p,A){p instanceof String&&(p+="");var P=0,M=!1,G={next:function(){if(!M&&P<p.length){var Q=P++;return{value:A(Q,p[Q]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(p){return p||function(){return a(this,function(A,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function c(p){var A=typeof p;return A=A!="object"?A:p?Array.isArray(p)?"array":A:"null",A=="array"||A=="object"&&typeof p.length=="number"}function u(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function d(p,A,P){return p.call.apply(p.bind,arguments)}function f(p,A,P){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),p.apply(A,G)}}return function(){return p.apply(A,arguments)}}function h(p,A,P){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(p,A){var P=Array.prototype.slice.call(arguments,1);return function(){var M=P.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function v(p,A){function P(){}P.prototype=A.prototype,p.aa=A.prototype,p.prototype=new P,p.prototype.constructor=p,p.Qb=function(M,G,Q){for(var me=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)me[Dt-2]=arguments[Dt];return A.prototype[G].apply(M,me)}}function g(p){const A=p.length;if(0<A){const P=Array(A);for(let M=0;M<A;M++)P[M]=p[M];return P}return[]}function y(p,A){for(let P=1;P<arguments.length;P++){const M=arguments[P];if(c(M)){const G=p.length||0,Q=M.length||0;p.length=G+Q;for(let me=0;me<Q;me++)p[G+me]=M[me]}else p.push(M)}}class w{constructor(A,P){this.i=A,this.j=P,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function x(p){return/^[\s\xa0]*$/.test(p)}function b(){var p=o.navigator;return p&&(p=p.userAgent)?p:""}function N(p){return N[" "](p),p}N[" "]=function(){};var T=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function E(p,A,P){for(const M in p)A.call(P,p[M],M,p)}function S(p,A){for(const P in p)A.call(void 0,p[P],P,p)}function j(p){const A={};for(const P in p)A[P]=p[P];return A}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,A){let P,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(P in M)p[P]=M[P];for(let Q=0;Q<C.length;Q++)P=C[Q],Object.prototype.hasOwnProperty.call(M,P)&&(p[P]=M[P])}}function k(p){var A=1;p=p.split(":");const P=[];for(;0<A&&p.length;)P.push(p.shift()),A--;return p.length&&P.push(p.join(":")),P}function R(p){o.setTimeout(()=>{throw p},0)}function O(){var p=B;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class ${constructor(){this.h=this.g=null}add(A,P){const M=D.get();M.set(A,P),this.h?this.h.next=M:this.g=M,this.h=M}}var D=new w(()=>new V,p=>p.reset());class V{constructor(){this.next=this.g=this.h=null}set(A,P){this.h=A,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,B=new $,U=()=>{const p=o.Promise.resolve(void 0);L=()=>{p.then(J)}};var J=()=>{for(var p;p=O();){try{p.h.call(p.g)}catch(P){R(P)}var A=D;A.j(p),100>A.h&&(A.h++,p.next=A.g,A.g=p)}F=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const P=()=>{};o.addEventListener("test",P,A),o.removeEventListener("test",P,A)}catch{}return p}();function Z(p,A){if(oe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var P=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget){if(T){e:{try{N(A.nodeName);var G=!0;break e}catch{}G=!1}G||(A=null)}}else P=="mouseover"?A=p.fromElement:P=="mouseout"&&(A=p.toElement);this.relatedTarget=A,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ye[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Z.aa.h.call(this)}}v(Z,oe);var ye={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),$e=0;function ie(p,A,P,M,G){this.listener=p,this.proxy=null,this.src=A,this.type=P,this.capture=!!M,this.ha=G,this.key=++$e,this.da=this.fa=!1}function ve(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function xe(p){this.src=p,this.g={},this.h=0}xe.prototype.add=function(p,A,P,M,G){var Q=p.toString();p=this.g[Q],p||(p=this.g[Q]=[],this.h++);var me=Ze(p,A,M,G);return-1<me?(A=p[me],P||(A.fa=!1)):(A=new ie(A,this.src,Q,!!M,G),A.fa=P,p.push(A)),A};function X(p,A){var P=A.type;if(P in p.g){var M=p.g[P],G=Array.prototype.indexOf.call(M,A,void 0),Q;(Q=0<=G)&&Array.prototype.splice.call(M,G,1),Q&&(ve(A),p.g[P].length==0&&(delete p.g[P],p.h--))}}function Ze(p,A,P,M){for(var G=0;G<p.length;++G){var Q=p[G];if(!Q.da&&Q.listener==A&&Q.capture==!!P&&Q.ha==M)return G}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),Tt={};function jt(p,A,P,M,G){if(Array.isArray(A)){for(var Q=0;Q<A.length;Q++)jt(p,A[Q],P,M,G);return null}return P=we(P),p&&p[ue]?p.K(A,P,u(M)?!!M.capture:!!M,G):qt(p,A,P,!1,M,G)}function qt(p,A,P,M,G,Q){if(!A)throw Error("Invalid event type");var me=u(G)?!!G.capture:!!G,Dt=K(p);if(Dt||(p[Le]=Dt=new xe(p)),P=Dt.add(A,P,M,me,Q),P.proxy)return P;if(M=Un(),P.proxy=M,M.src=p,M.listener=P,p.addEventListener)H||(G=me),G===void 0&&(G=!1),p.addEventListener(A.toString(),M,G);else if(p.attachEvent)p.attachEvent(ti(A.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Un(){function p(P){return A.call(p.src,p.listener,P)}const A=q;return p}function un(p,A,P,M,G){if(Array.isArray(A))for(var Q=0;Q<A.length;Q++)un(p,A[Q],P,M,G);else M=u(M)?!!M.capture:!!M,P=we(P),p&&p[ue]?(p=p.i,A=String(A).toString(),A in p.g&&(Q=p.g[A],P=Ze(Q,P,M,G),-1<P&&(ve(Q[P]),Array.prototype.splice.call(Q,P,1),Q.length==0&&(delete p.g[A],p.h--)))):p&&(p=K(p))&&(A=p.g[A.toString()],p=-1,A&&(p=Ze(A,P,M,G)),(P=-1<p?A[p]:null)&&Ya(P))}function Ya(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[ue])X(A.i,p);else{var P=p.type,M=p.proxy;A.removeEventListener?A.removeEventListener(P,M,p.capture):A.detachEvent?A.detachEvent(ti(P),M):A.addListener&&A.removeListener&&A.removeListener(M),(P=K(A))?(X(P,p),P.h==0&&(P.src=null,A[Le]=null)):ve(p)}}}function ti(p){return p in Tt?Tt[p]:Tt[p]="on"+p}function q(p,A){if(p.da)p=!0;else{A=new Z(A,this);var P=p.listener,M=p.ha||p.src;p.fa&&Ya(p),p=P.call(M,A)}return p}function K(p){return p=p[Le],p instanceof xe?p:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(p){return typeof p=="function"?p:(p[ee]||(p[ee]=function(A){return p.handleEvent(A)}),p[ee])}function de(){Y.call(this),this.i=new xe(this),this.M=this,this.F=null}v(de,Y),de.prototype[ue]=!0,de.prototype.removeEventListener=function(p,A,P,M){un(this,p,A,P,M)};function ae(p,A){var P,M=p.F;if(M)for(P=[];M;M=M.F)P.push(M);if(p=p.M,M=A.type||A,typeof A=="string")A=new oe(A,p);else if(A instanceof oe)A.target=A.target||p;else{var G=A;A=new oe(M,p),I(A,G)}if(G=!0,P)for(var Q=P.length-1;0<=Q;Q--){var me=A.g=P[Q];G=Ae(me,M,!0,A)&&G}if(me=A.g=p,G=Ae(me,M,!0,A)&&G,G=Ae(me,M,!1,A)&&G,P)for(Q=0;Q<P.length;Q++)me=A.g=P[Q],G=Ae(me,M,!1,A)&&G}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var p=this.i,A;for(A in p.g){for(var P=p.g[A],M=0;M<P.length;M++)ve(P[M]);delete p.g[A],p.h--}}this.F=null},de.prototype.K=function(p,A,P,M){return this.i.add(String(p),A,!1,P,M)},de.prototype.L=function(p,A,P,M){return this.i.add(String(p),A,!0,P,M)};function Ae(p,A,P,M){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();for(var G=!0,Q=0;Q<A.length;++Q){var me=A[Q];if(me&&!me.da&&me.capture==P){var Dt=me.listener,Xr=me.ha||me.src;me.fa&&X(p.i,me),G=Dt.call(Xr,M)!==!1&&G}}return G&&!M.defaultPrevented}function pt(p,A,P){if(typeof p=="function")P&&(p=h(p,P));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:o.setTimeout(p,A||0)}function tr(p){p.g=pt(()=>{p.g=null,p.i&&(p.i=!1,tr(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class Br extends Y{constructor(A,P){super(),this.m=A,this.l=P,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:tr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tl(p){Y.call(this),this.h=p,this.g={}}v(Tl,Y);var au=[];function su(p){E(p.g,function(A,P){this.g.hasOwnProperty(P)&&Ya(A)},p),p.g={}}Tl.prototype.N=function(){Tl.aa.N.call(this),su(this)},Tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qf=o.JSON.stringify,Og=o.JSON.parse,Fw=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function ou(){}ou.prototype.h=null;function xP(p){return p.h||(p.h=p.i())}function bP(){}var Yf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vw(){oe.call(this,"d")}v(Vw,oe);function Bw(){oe.call(this,"c")}v(Bw,oe);var jl={},wP=null;function kg(){return wP=wP||new de}jl.La="serverreachability";function _P(p){oe.call(this,jl.La,p)}v(_P,oe);function Xf(p){const A=kg();ae(A,new _P(A))}jl.STAT_EVENT="statevent";function SP(p,A){oe.call(this,jl.STAT_EVENT,p),this.stat=A}v(SP,oe);function An(p){const A=kg();ae(A,new SP(A,p))}jl.Ma="timingevent";function EP(p,A){oe.call(this,jl.Ma,p),this.size=A}v(EP,oe);function Zf(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},A)}function Jf(){this.g=!0}Jf.prototype.xa=function(){this.g=!1};function sH(p,A,P,M,G,Q){p.info(function(){if(p.g)if(Q)for(var me="",Dt=Q.split("&"),Xr=0;Xr<Dt.length;Xr++){var _t=Dt[Xr].split("=");if(1<_t.length){var dn=_t[0];_t=_t[1];var fn=dn.split("_");me=2<=fn.length&&fn[1]=="type"?me+(dn+"="+_t+"&"):me+(dn+"=redacted&")}}else me=null;else me=Q;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+A+`
`+P+`
`+me})}function oH(p,A,P,M,G,Q,me){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+A+`
`+P+`
`+Q+" "+me})}function lu(p,A,P,M){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+cH(p,P)+(M?" "+M:"")})}function lH(p,A){p.info(function(){return"TIMEOUT: "+A})}Jf.prototype.info=function(){};function cH(p,A){if(!p.g)return A;if(!A)return null;try{var P=JSON.parse(A);if(P){for(p=0;p<P.length;p++)if(Array.isArray(P[p])){var M=P[p];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var Q=G[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return Qf(P)}catch{return A}}var Rg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uw;function Mg(){}v(Mg,ou),Mg.prototype.g=function(){return new XMLHttpRequest},Mg.prototype.i=function(){return{}},Uw=new Mg;function Gs(p,A,P,M){this.j=p,this.i=A,this.l=P,this.R=M||1,this.U=new Tl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jP}function jP(){this.i=null,this.g="",this.h=!1}var AP={},zw={};function qw(p,A,P){p.L=1,p.v=Fg(Xa(A)),p.m=P,p.P=!0,NP(p,null)}function NP(p,A){p.F=Date.now(),Dg(p),p.A=Xa(p.v);var P=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),UP(P.i,"t",M),p.C=0,P=p.j.J,p.h=new jP,p.g=sI(p.j,P?A:null,!p.m),0<p.O&&(p.M=new Br(h(p.Y,p,p.g),p.O)),A=p.U,P=p.g,M=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(au[0]=G.toString()),G=au);for(var Q=0;Q<G.length;Q++){var me=jt(P,G[Q],M||A.handleEvent,!1,A.h||A);if(!me)break;A.g[me.key]=me}A=p.H?j(p.H):{},p.m?(p.u||(p.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,A)):(p.u="GET",p.g.ea(p.A,p.u,null,A)),Xf(),sH(p.i,p.u,p.A,p.l,p.R,p.m)}Gs.prototype.ca=function(p){p=p.target;const A=this.M;A&&Za(p)==3?A.j():this.Y(p)},Gs.prototype.Y=function(p){try{if(p==this.g)e:{const fn=Za(this.g);var A=this.g.Ba();const du=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||QP(this.g)))){this.J||fn!=4||A==7||(A==8||0>=du?Xf(3):Xf(2)),Ww(this);var P=this.g.Z();this.X=P;t:if(CP(this)){var M=QP(this.g);p="";var G=M.length,Q=Za(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Al(this),eh(this);var me="";break t}this.h.i=new o.TextDecoder}for(A=0;A<G;A++)this.h.h=!0,p+=this.h.i.decode(M[A],{stream:!(Q&&A==G-1)});M.length=0,this.h.g+=p,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=P==200,oH(this.i,this.u,this.A,this.l,this.R,fn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Dt,Xr=this.g;if((Dt=Xr.g?Xr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Dt)){var _t=Dt;break t}}_t=null}if(P=_t)lu(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hw(this,P);else{this.o=!1,this.s=3,An(12),Al(this),eh(this);break e}}if(this.P){P=!0;let Bi;for(;!this.J&&this.C<me.length;)if(Bi=uH(this,me),Bi==zw){fn==4&&(this.s=4,An(14),P=!1),lu(this.i,this.l,null,"[Incomplete Response]");break}else if(Bi==AP){this.s=4,An(15),lu(this.i,this.l,me,"[Invalid Chunk]"),P=!1;break}else lu(this.i,this.l,Bi,null),Hw(this,Bi);if(CP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||me.length!=0||this.h.h||(this.s=1,An(16),P=!1),this.o=this.o&&P,!P)lu(this.i,this.l,me,"[Invalid Chunked Response]"),Al(this),eh(this);else if(0<me.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Zw(dn),dn.M=!0,An(11))}}else lu(this.i,this.l,me,null),Hw(this,me);fn==4&&Al(this),this.o&&!this.J&&(fn==4?rI(this.j,this):(this.o=!1,Dg(this)))}else AH(this.g),P==400&&0<me.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),Al(this),eh(this)}}}catch{}finally{}};function CP(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function uH(p,A){var P=p.C,M=A.indexOf(`
`,P);return M==-1?zw:(P=Number(A.substring(P,M)),isNaN(P)?AP:(M+=1,M+P>A.length?zw:(A=A.slice(M,M+P),p.C=M+P,A)))}Gs.prototype.cancel=function(){this.J=!0,Al(this)};function Dg(p){p.S=Date.now()+p.I,PP(p,p.I)}function PP(p,A){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Zf(h(p.ba,p),A)}function Ww(p){p.B&&(o.clearTimeout(p.B),p.B=null)}Gs.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(lH(this.i,this.A),this.L!=2&&(Xf(),An(17)),Al(this),this.s=2,eh(this)):PP(this,this.S-p)};function eh(p){p.j.G==0||p.J||rI(p.j,p)}function Al(p){Ww(p);var A=p.M;A&&typeof A.ma=="function"&&A.ma(),p.M=null,su(p.U),p.g&&(A=p.g,p.g=null,A.abort(),A.ma())}function Hw(p,A){try{var P=p.j;if(P.G!=0&&(P.g==p||Gw(P.h,p))){if(!p.K&&Gw(P.h,p)&&P.G==3){try{var M=P.Da.g.parse(A)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<p.F)Wg(P),zg(P);else break e;Xw(P),An(18)}}else P.za=G[1],0<P.za-P.T&&37500>G[2]&&P.F&&P.v==0&&!P.C&&(P.C=Zf(h(P.Za,P),6e3));if(1>=kP(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Cl(P,11)}else if((p.K||P.g==p)&&Wg(P),!x(A))for(G=P.Da.g.parse(A),A=0;A<G.length;A++){let _t=G[A];if(P.T=_t[0],_t=_t[1],P.G==2)if(_t[0]=="c"){P.K=_t[1],P.ia=_t[2];const dn=_t[3];dn!=null&&(P.la=dn,P.j.info("VER="+P.la));const fn=_t[4];fn!=null&&(P.Aa=fn,P.j.info("SVER="+P.Aa));const du=_t[5];du!=null&&typeof du=="number"&&0<du&&(M=1.5*du,P.L=M,P.j.info("backChannelRequestTimeoutMs_="+M)),M=P;const Bi=p.g;if(Bi){const Gg=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gg){var Q=M.h;Q.g||Gg.indexOf("spdy")==-1&&Gg.indexOf("quic")==-1&&Gg.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Kw(Q,Q.h),Q.h=null))}if(M.D){const Jw=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Jw&&(M.ya=Jw,Wt(M.I,M.D,Jw))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-p.F,P.j.info("Handshake RTT: "+P.R+"ms")),M=P;var me=p;if(M.qa=aI(M,M.J?M.ia:null,M.W),me.K){RP(M.h,me);var Dt=me,Xr=M.L;Xr&&(Dt.I=Xr),Dt.B&&(Ww(Dt),Dg(Dt)),M.g=me}else eI(M);0<P.i.length&&qg(P)}else _t[0]!="stop"&&_t[0]!="close"||Cl(P,7);else P.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Cl(P,7):Yw(P):_t[0]!="noop"&&P.l&&P.l.ta(_t),P.v=0)}}Xf(4)}catch{}}var dH=class{constructor(p,A){this.g=p,this.map=A}};function IP(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function OP(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function kP(p){return p.h?1:p.g?p.g.size:0}function Gw(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function Kw(p,A){p.g?p.g.add(A):p.h=A}function RP(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}IP.prototype.cancel=function(){if(this.i=MP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function MP(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const P of p.g.values())A=A.concat(P.D);return A}return g(p.i)}function fH(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var A=[],P=p.length,M=0;M<P;M++)A.push(p[M]);return A}A=[],P=0;for(M in p)A[P++]=p[M];return A}function hH(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var A=[];p=p.length;for(var P=0;P<p;P++)A.push(P);return A}A=[],P=0;for(const M in p)A[P++]=M;return A}}}function DP(p,A){if(p.forEach&&typeof p.forEach=="function")p.forEach(A,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,A,void 0);else for(var P=hH(p),M=fH(p),G=M.length,Q=0;Q<G;Q++)A.call(void 0,M[Q],P&&P[Q],p)}var $P=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pH(p,A){if(p){p=p.split("&");for(var P=0;P<p.length;P++){var M=p[P].indexOf("="),G=null;if(0<=M){var Q=p[P].substring(0,M);G=p[P].substring(M+1)}else Q=p[P];A(Q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Nl(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Nl){this.h=p.h,$g(this,p.j),this.o=p.o,this.g=p.g,Lg(this,p.s),this.l=p.l;var A=p.i,P=new nh;P.i=A.i,A.g&&(P.g=new Map(A.g),P.h=A.h),LP(this,P),this.m=p.m}else p&&(A=String(p).match($P))?(this.h=!1,$g(this,A[1]||"",!0),this.o=th(A[2]||""),this.g=th(A[3]||"",!0),Lg(this,A[4]),this.l=th(A[5]||"",!0),LP(this,A[6]||"",!0),this.m=th(A[7]||"")):(this.h=!1,this.i=new nh(null,this.h))}Nl.prototype.toString=function(){var p=[],A=this.j;A&&p.push(rh(A,FP,!0),":");var P=this.g;return(P||A=="file")&&(p.push("//"),(A=this.o)&&p.push(rh(A,FP,!0),"@"),p.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&p.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&p.push("/"),p.push(rh(P,P.charAt(0)=="/"?vH:gH,!0))),(P=this.i.toString())&&p.push("?",P),(P=this.m)&&p.push("#",rh(P,xH)),p.join("")};function Xa(p){return new Nl(p)}function $g(p,A,P){p.j=P?th(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function Lg(p,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);p.s=A}else p.s=null}function LP(p,A,P){A instanceof nh?(p.i=A,bH(p.i,p.h)):(P||(A=rh(A,yH)),p.i=new nh(A,p.h))}function Wt(p,A,P){p.i.set(A,P)}function Fg(p){return Wt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function th(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function rh(p,A,P){return typeof p=="string"?(p=encodeURI(p).replace(A,mH),P&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function mH(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var FP=/[#\/\?@]/g,gH=/[#\?:]/g,vH=/[#\?]/g,yH=/[#\?@]/g,xH=/#/g;function nh(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function Ks(p){p.g||(p.g=new Map,p.h=0,p.i&&pH(p.i,function(A,P){p.add(decodeURIComponent(A.replace(/\+/g," ")),P)}))}t=nh.prototype,t.add=function(p,A){Ks(this),this.i=null,p=cu(this,p);var P=this.g.get(p);return P||this.g.set(p,P=[]),P.push(A),this.h+=1,this};function VP(p,A){Ks(p),A=cu(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function BP(p,A){return Ks(p),A=cu(p,A),p.g.has(A)}t.forEach=function(p,A){Ks(this),this.g.forEach(function(P,M){P.forEach(function(G){p.call(A,G,M,this)},this)},this)},t.na=function(){Ks(this);const p=Array.from(this.g.values()),A=Array.from(this.g.keys()),P=[];for(let M=0;M<A.length;M++){const G=p[M];for(let Q=0;Q<G.length;Q++)P.push(A[M])}return P},t.V=function(p){Ks(this);let A=[];if(typeof p=="string")BP(this,p)&&(A=A.concat(this.g.get(cu(this,p))));else{p=Array.from(this.g.values());for(let P=0;P<p.length;P++)A=A.concat(p[P])}return A},t.set=function(p,A){return Ks(this),this.i=null,p=cu(this,p),BP(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},t.get=function(p,A){return p?(p=this.V(p),0<p.length?String(p[0]):A):A};function UP(p,A,P){VP(p,A),0<P.length&&(p.i=null,p.g.set(cu(p,A),g(P)),p.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(var P=0;P<A.length;P++){var M=A[P];const Q=encodeURIComponent(String(M)),me=this.V(M);for(M=0;M<me.length;M++){var G=Q;me[M]!==""&&(G+="="+encodeURIComponent(String(me[M]))),p.push(G)}}return this.i=p.join("&")};function cu(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function bH(p,A){A&&!p.j&&(Ks(p),p.i=null,p.g.forEach(function(P,M){var G=M.toLowerCase();M!=G&&(VP(this,M),UP(this,G,P))},p)),p.j=A}function wH(p,A){const P=new Jf;if(o.Image){const M=new Image;M.onload=m(Qs,P,"TestLoadImage: loaded",!0,A,M),M.onerror=m(Qs,P,"TestLoadImage: error",!1,A,M),M.onabort=m(Qs,P,"TestLoadImage: abort",!1,A,M),M.ontimeout=m(Qs,P,"TestLoadImage: timeout",!1,A,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else A(!1)}function _H(p,A){const P=new Jf,M=new AbortController,G=setTimeout(()=>{M.abort(),Qs(P,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:M.signal}).then(Q=>{clearTimeout(G),Q.ok?Qs(P,"TestPingServer: ok",!0,A):Qs(P,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(G),Qs(P,"TestPingServer: error",!1,A)})}function Qs(p,A,P,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(P)}catch{}}function SH(){this.g=new Fw}function EH(p,A,P){const M=P||"";try{DP(p,function(G,Q){let me=G;u(G)&&(me=Qf(G)),A.push(M+Q+"="+encodeURIComponent(me))})}catch(G){throw A.push(M+"type="+encodeURIComponent("_badmap")),G}}function Vg(p){this.l=p.Ub||null,this.j=p.eb||!1}v(Vg,ou),Vg.prototype.g=function(){return new Bg(this.l,this.j)},Vg.prototype.i=function(p){return function(){return p}}({});function Bg(p,A){de.call(this),this.D=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Bg,de),t=Bg.prototype,t.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=A,this.readyState=1,ah(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(A.body=p),(this.D||o).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ih(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ah(this)),this.g&&(this.readyState=3,ah(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zP(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function zP(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?ih(this):ah(this),this.readyState==3&&zP(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,ih(this))},t.Qa=function(p){this.g&&(this.response=p,ih(this))},t.ga=function(){this.g&&ih(this)};function ih(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ah(p)}t.setRequestHeader=function(p,A){this.u.append(p,A)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var P=A.next();!P.done;)P=P.value,p.push(P[0]+": "+P[1]),P=A.next();return p.join(`\r
`)};function ah(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function qP(p){let A="";return E(p,function(P,M){A+=M,A+=":",A+=P,A+=`\r
`}),A}function Qw(p,A,P){e:{for(M in P){var M=!1;break e}M=!0}M||(P=qP(P),typeof p=="string"?P!=null&&encodeURIComponent(String(P)):Wt(p,A,P))}function lr(p){de.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(lr,de);var TH=/^https?$/i,jH=["POST","PUT"];t=lr.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,A,P,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uw.g(),this.v=this.o?xP(this.o):xP(Uw),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(Q){WP(this,Q);return}if(p=P||"",P=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)P.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Q of M.keys())P.set(Q,M.get(Q));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(P.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=o.FormData&&p instanceof o.FormData,!(0<=Array.prototype.indexOf.call(jH,A,void 0))||M||G||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,me]of P)this.g.setRequestHeader(Q,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KP(this),this.u=!0,this.g.send(p),this.u=!1}catch(Q){WP(this,Q)}};function WP(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.m=5,HP(p),Ug(p)}function HP(p){p.A||(p.A=!0,ae(p,"complete"),ae(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,ae(this,"complete"),ae(this,"abort"),Ug(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ug(this,!0)),lr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?GP(this):this.bb())},t.bb=function(){GP(this)};function GP(p){if(p.h&&typeof s<"u"&&(!p.v[1]||Za(p)!=4||p.Z()!=2)){if(p.u&&Za(p)==4)pt(p.Ea,0,p);else if(ae(p,"readystatechange"),Za(p)==4){p.h=!1;try{const me=p.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var P;if(!(P=A)){var M;if(M=me===0){var G=String(p.D).match($P)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),M=!TH.test(G?G.toLowerCase():"")}P=M}if(P)ae(p,"complete"),ae(p,"success");else{p.m=6;try{var Q=2<Za(p)?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.Z()+"]",HP(p)}}finally{Ug(p)}}}}function Ug(p,A){if(p.g){KP(p);const P=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,A||ae(p,"ready");try{P.onreadystatechange=M}catch{}}}function KP(p){p.I&&(o.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Za(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Za(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),Og(A)}};function QP(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function AH(p){const A={};p=(p.g&&2<=Za(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(x(p[M]))continue;var P=k(p[M]);const G=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Q=A[G]||[];A[G]=Q,Q.push(P)}S(A,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sh(p,A,P){return P&&P.internalChannelParams&&P.internalChannelParams[p]||A}function YP(p){this.Aa=0,this.i=[],this.j=new Jf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sh("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sh("baseRetryDelayMs",5e3,p),this.cb=sh("retryDelaySeedMs",1e4,p),this.Wa=sh("forwardChannelMaxRetries",2,p),this.wa=sh("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new IP(p&&p.concurrentRequestLimit),this.Da=new SH,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=YP.prototype,t.la=8,t.G=1,t.connect=function(p,A,P,M){An(0),this.W=p,this.H=A||{},P&&M!==void 0&&(this.H.OSID=P,this.H.OAID=M),this.F=this.X,this.I=aI(this,null,this.W),qg(this)};function Yw(p){if(XP(p),p.G==3){var A=p.U++,P=Xa(p.I);if(Wt(P,"SID",p.K),Wt(P,"RID",A),Wt(P,"TYPE","terminate"),oh(p,P),A=new Gs(p,p.j,A),A.L=2,A.v=Fg(Xa(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(A.v.toString(),"")}catch{}!P&&o.Image&&(new Image().src=A.v,P=!0),P||(A.g=sI(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Dg(A)}iI(p)}function zg(p){p.g&&(Zw(p),p.g.cancel(),p.g=null)}function XP(p){zg(p),p.u&&(o.clearTimeout(p.u),p.u=null),Wg(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&o.clearTimeout(p.s),p.s=null)}function qg(p){if(!OP(p.h)&&!p.s){p.s=!0;var A=p.Ga;L||U(),F||(L(),F=!0),B.add(A,p),p.B=0}}function NH(p,A){return kP(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=A.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Zf(h(p.Ga,p,A),nI(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new Gs(this,this.j,p);let Q=this.o;if(this.S&&(Q?(Q=j(Q),I(Q,this.S)):Q=this.S),this.m!==null||this.O||(G.H=Q,Q=null),this.P)e:{for(var A=0,P=0;P<this.i.length;P++){t:{var M=this.i[P];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(A+=M,4096<A){A=P;break e}if(A===4096||P===this.i.length-1){A=P+1;break e}}A=1e3}else A=1e3;A=JP(this,G,A),P=Xa(this.I),Wt(P,"RID",p),Wt(P,"CVER",22),this.D&&Wt(P,"X-HTTP-Session-Id",this.D),oh(this,P),Q&&(this.O?A="headers="+encodeURIComponent(String(qP(Q)))+"&"+A:this.m&&Qw(P,this.m,Q)),Kw(this.h,G),this.Ua&&Wt(P,"TYPE","init"),this.P?(Wt(P,"$req",A),Wt(P,"SID","null"),G.T=!0,qw(G,P,null)):qw(G,P,A),this.G=2}}else this.G==3&&(p?ZP(this,p):this.i.length==0||OP(this.h)||ZP(this))};function ZP(p,A){var P;A?P=A.l:P=p.U++;const M=Xa(p.I);Wt(M,"SID",p.K),Wt(M,"RID",P),Wt(M,"AID",p.T),oh(p,M),p.m&&p.o&&Qw(M,p.m,p.o),P=new Gs(p,p.j,P,p.B+1),p.m===null&&(P.H=p.o),A&&(p.i=A.D.concat(p.i)),A=JP(p,P,1e3),P.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Kw(p.h,P),qw(P,M,A)}function oh(p,A){p.H&&E(p.H,function(P,M){Wt(A,M,P)}),p.l&&DP({},function(P,M){Wt(A,M,P)})}function JP(p,A,P){P=Math.min(p.i.length,P);var M=p.l?h(p.l.Na,p.l,p):null;e:{var G=p.i;let Q=-1;for(;;){const me=["count="+P];Q==-1?0<P?(Q=G[0].g,me.push("ofs="+Q)):Q=0:me.push("ofs="+Q);let Dt=!0;for(let Xr=0;Xr<P;Xr++){let _t=G[Xr].g;const dn=G[Xr].map;if(_t-=Q,0>_t)Q=Math.max(0,G[Xr].g-100),Dt=!1;else try{EH(dn,me,"req"+_t+"_")}catch{M&&M(dn)}}if(Dt){M=me.join("&");break e}}}return p=p.i.splice(0,P),A.D=p,M}function eI(p){if(!p.g&&!p.u){p.Y=1;var A=p.Fa;L||U(),F||(L(),F=!0),B.add(A,p),p.v=0}}function Xw(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Zf(h(p.Fa,p),nI(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,tI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Zf(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,An(10),zg(this),tI(this))};function Zw(p){p.A!=null&&(o.clearTimeout(p.A),p.A=null)}function tI(p){p.g=new Gs(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var A=Xa(p.qa);Wt(A,"RID","rpc"),Wt(A,"SID",p.K),Wt(A,"AID",p.T),Wt(A,"CI",p.F?"0":"1"),!p.F&&p.ja&&Wt(A,"TO",p.ja),Wt(A,"TYPE","xmlhttp"),oh(p,A),p.m&&p.o&&Qw(A,p.m,p.o),p.L&&(p.g.I=p.L);var P=p.g;p=p.ia,P.L=1,P.v=Fg(Xa(A)),P.m=null,P.P=!0,NP(P,p)}t.Za=function(){this.C!=null&&(this.C=null,zg(this),Xw(this),An(19))};function Wg(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function rI(p,A){var P=null;if(p.g==A){Wg(p),Zw(p),p.g=null;var M=2}else if(Gw(p.h,A))P=A.D,RP(p.h,A),M=1;else return;if(p.G!=0){if(A.o)if(M==1){P=A.m?A.m.length:0,A=Date.now()-A.F;var G=p.B;M=kg(),ae(M,new EP(M,P)),qg(p)}else eI(p);else if(G=A.s,G==3||G==0&&0<A.X||!(M==1&&NH(p,A)||M==2&&Xw(p)))switch(P&&0<P.length&&(A=p.h,A.i=A.i.concat(P)),G){case 1:Cl(p,5);break;case 4:Cl(p,10);break;case 3:Cl(p,6);break;default:Cl(p,2)}}}function nI(p,A){let P=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(P*=2),P*A}function Cl(p,A){if(p.j.info("Error code "+A),A==2){var P=h(p.fb,p),M=p.Xa;const G=!M;M=new Nl(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||$g(M,"https"),Fg(M),G?wH(M.toString(),P):_H(M.toString(),P)}else An(2);p.G=0,p.l&&p.l.sa(A),iI(p),XP(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function iI(p){if(p.G=0,p.ka=[],p.l){const A=MP(p.h);(A.length!=0||p.i.length!=0)&&(y(p.ka,A),y(p.ka,p.i),p.h.i.length=0,g(p.i),p.i.length=0),p.l.ra()}}function aI(p,A,P){var M=P instanceof Nl?Xa(P):new Nl(P);if(M.g!="")A&&(M.g=A+"."+M.g),Lg(M,M.s);else{var G=o.location;M=G.protocol,A=A?A+"."+G.hostname:G.hostname,G=+G.port;var Q=new Nl(null);M&&$g(Q,M),A&&(Q.g=A),G&&Lg(Q,G),P&&(Q.l=P),M=Q}return P=p.D,A=p.ya,P&&A&&Wt(M,P,A),Wt(M,"VER",p.la),oh(p,M),M}function sI(p,A,P){if(A&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Ca&&!p.pa?new lr(new Vg({eb:P})):new lr(p.pa),A.Ha(p.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oI(){}t=oI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hg(){}Hg.prototype.g=function(p,A){return new ri(p,A)};function ri(p,A){de.call(this),this.g=new YP(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(p?p["X-WebChannel-Client-Profile"]=A.va:p={"X-WebChannel-Client-Profile":A.va}),this.g.S=p,(p=A&&A.Sb)&&!x(p)&&(this.g.m=p),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!x(A)&&(this.g.D=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new uu(this)}v(ri,de),ri.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ri.prototype.close=function(){Yw(this.g)},ri.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var P={};P.__data__=p,p=P}else this.u&&(P={},P.__data__=Qf(p),p=P);A.i.push(new dH(A.Ya++,p)),A.G==3&&qg(A)},ri.prototype.N=function(){this.g.l=null,delete this.j,Yw(this.g),delete this.g,ri.aa.N.call(this)};function lI(p){Vw.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){e:{for(const P in A){p=P;break e}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}v(lI,Vw);function cI(){Bw.call(this),this.status=1}v(cI,Bw);function uu(p){this.g=p}v(uu,oI),uu.prototype.ua=function(){ae(this.g,"a")},uu.prototype.ta=function(p){ae(this.g,new lI(p))},uu.prototype.sa=function(p){ae(this.g,new cI)},uu.prototype.ra=function(){ae(this.g,"b")},Hg.prototype.createWebChannel=Hg.prototype.g,ri.prototype.send=ri.prototype.o,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,AV=function(){return new Hg},jV=function(){return kg()},TV=jl,BS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rg.NO_ERROR=0,Rg.TIMEOUT=8,Rg.HTTP_ERROR=6,ty=Rg,TP.COMPLETE="complete",EV=TP,bP.EventType=Yf,Yf.OPEN="a",Yf.CLOSE="b",Yf.ERROR="c",Yf.MESSAGE="d",de.prototype.listen=de.prototype.K,Mh=bP,lr.prototype.listenOnce=lr.prototype.L,lr.prototype.getLastError=lr.prototype.Ka,lr.prototype.getLastErrorCode=lr.prototype.Ba,lr.prototype.getStatus=lr.prototype.Z,lr.prototype.getResponseJson=lr.prototype.Oa,lr.prototype.getResponseText=lr.prototype.oa,lr.prototype.send=lr.prototype.ea,lr.prototype.setWithCredentials=lr.prototype.Ha,SV=lr}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});const HO="@firebase/firestore",GO="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new lA("@firebase/firestore");function bu(){return Ac.logLevel}function je(t,...e){if(Ac.logLevel<=ft.DEBUG){const r=e.map(dA);Ac.debug(`Firestore (${_f}): ${t}`,...r)}}function Ns(t,...e){if(Ac.logLevel<=ft.ERROR){const r=e.map(dA);Ac.error(`Firestore (${_f}): ${t}`,...r)}}function Zo(t,...e){if(Ac.logLevel<=ft.WARN){const r=e.map(dA);Ac.warn(`Firestore (${_f}): ${t}`,...r)}}function dA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,NV(t,n,r)}function NV(t,e,r){let n=`FIRESTORE (${_f}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ns(n),new Error(n)}function Ct(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||NV(e,i,n)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Bs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(xn.UNAUTHENTICATED))}shutdown(){}}class GX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class KX{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ct(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ys,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ys)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ct(typeof n.accessToken=="string",31837,{l:n}),new CV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class QX{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YX{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new QX(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XX{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ct(this.o===void 0,3512);const n=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,je("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ct(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new KO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=ZX(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function lt(t,e){return t<e?-1:t>e?1:0}function US(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return lt(n,i);{const a=PV(),s=JX(a.encode(QO(t,r)),a.encode(QO(e,r)));return s!==0?s:lt(n,i)}}r+=n>65535?2:1}return lt(t.length,e.length)}function QO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function JX(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return lt(t[r],e[r]);return lt(t.length,e.length)}function Rd(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="__name__";class ya{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ue(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Ue(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ya.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=ya.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return lt(e.length,r.length)}static compareSegments(e,r){const n=ya.isNumericId(e),i=ya.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ya.extractNumericId(e).compare(ya.extractNumericId(r)):US(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zo.fromString(e.substring(4,e.length-2))}}class Bt extends ya{construct(e,r,n){return new Bt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Bt(r)}static emptyPath(){return new Bt([])}}const eZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends ya{construct(e,r,n){return new tn(e,r,n)}static isValidIdentifier(e){return eZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YO}static keyField(){return new tn([YO])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(r)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Bt.fromString(e))}static fromName(e){return new De(Bt.fromString(e).popFirst(5))}static empty(){return new De(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Bt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e,r){if(!r)throw new _e(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tZ(t,e,r,n){if(e===!0&&n===!0)throw new _e(re.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function XO(t){if(!De.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZO(t){if(De.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Y0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Y0(t);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){const r={typeString:t};return e&&(r.value=e),r}function ag(t,e){if(!OV(t))throw new _e(re.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new _e(re.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=-62135596800,ek=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*ek);return new Yt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<JO)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ek}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ag(e,Yt._jsonSchema))return new Yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:Sr("string",Yt._jsonSchemaVersion),seconds:Sr("number"),nanoseconds:Sr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Yt(0,0))}static max(){return new Ke(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;function rZ(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(n===1e9?new Yt(r+1,0):new Yt(r,n));return new Jo(i,De.empty(),e)}function nZ(t){return new Jo(t.readTime,t.key,Lp)}class Jo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Jo(Ke.min(),De.empty(),Lp)}static max(){return new Jo(Ke.max(),De.empty(),Lp)}}function iZ(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=De.comparator(t.documentKey,e.documentKey),r!==0?r:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==aZ)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ne((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ne?r:ne.resolve(r)}catch(r){return ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.reject(r)}static resolve(e){return new ne((r,n)=>{r(e)})}static reject(e){return new ne((r,n)=>{n(e)})}static waitFor(e){return new ne((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=ne.resolve(!1);for(const n of e)r=r.next(i=>i?ne.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ne((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{s[u]=d,++o,o===a&&n(s)},d=>i(d))}})}static doWhile(e,r){return new ne((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function oZ(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ef(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this._e(n),this.ae=n=>r.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}X0.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=-1;function Z0(t){return t==null}function Xy(t){return t===0&&1/t==-1/0}function lZ(t){return typeof t=="number"&&Number.isInteger(t)&&!Xy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="";function cZ(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=tk(e)),e=uZ(t.get(r),e);return tk(e)}function uZ(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case kV:r+="";break;default:r+=a}}return r}function tk(t){return t+kV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function vl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function RV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,r){this.comparator=e,this.root=r||en.EMPTY}insert(e,r){return new or(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mv(this.root,e,this.comparator,!1)}getReverseIterator(){return new mv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mv(this.root,e,this.comparator,!0)}}class mv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??en.RED,this.left=i??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new en(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new en(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new nk(this.data.getIterator())}getIteratorFrom(e){return new nk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Dr(this.comparator);return r.data=e,r}}class nk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new ui([])}unionWith(e){let r=new Dr(tn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ui(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Rd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new MV("Invalid base64 string: "+a):a}}(e);return new sn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new sn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const dZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const r=dZ.exec(t);if(Ct(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:hr(t.seconds),nanos:hr(t.nanos)}}function hr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tl(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="server_timestamp",$V="__type__",LV="__previous_value__",FV="__local_write_time__";function pA(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$V])===null||r===void 0?void 0:r.stringValue)===DV}function J0(t){const e=t.mapValue.fields[LV];return pA(e)?J0(e):e}function Fp(t){const e=el(t.mapValue.fields[FV].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e,r,n,i,a,s,o,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Zy="(default)";class Vp{constructor(e,r){this.projectId=e,this.database=r||Zy}static empty(){return new Vp("","")}get isDefaultDatabase(){return this.database===Zy}isEqual(e){return e instanceof Vp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="__type__",BV="__max__",gv={mapValue:{fields:{__type__:{stringValue:BV}}}},UV="__vector__",Jy="value";function rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pA(t)?4:pZ(t)?9007199254740991:hZ(t)?10:11:Ue(28295,{value:t})}function Va(t,e){if(t===e)return!0;const r=rl(t);if(r!==rl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fp(t).isEqual(Fp(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=el(i.timestampValue),o=el(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return tl(i.bytesValue).isEqual(tl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return hr(i.geoPointValue.latitude)===hr(a.geoPointValue.latitude)&&hr(i.geoPointValue.longitude)===hr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return hr(i.integerValue)===hr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=hr(i.doubleValue),o=hr(a.doubleValue);return s===o?Xy(s)===Xy(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Rd(t.arrayValue.values||[],e.arrayValue.values||[],Va);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(rk(s)!==rk(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!Va(s[c],o[c])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Bp(t,e){return(t.values||[]).find(r=>Va(r,e))!==void 0}function Md(t,e){if(t===e)return 0;const r=rl(t),n=rl(e);if(r!==n)return lt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=hr(a.integerValue||a.doubleValue),c=hr(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return ik(t.timestampValue,e.timestampValue);case 4:return ik(Fp(t),Fp(e));case 5:return US(t.stringValue,e.stringValue);case 6:return function(a,s){const o=tl(a),c=tl(s);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=lt(o[u],c[u]);if(d!==0)return d}return lt(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=lt(hr(a.latitude),hr(s.latitude));return o!==0?o:lt(hr(a.longitude),hr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ak(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,c,u,d;const f=a.fields||{},h=s.fields||{},m=(o=f[Jy])===null||o===void 0?void 0:o.arrayValue,v=(c=h[Jy])===null||c===void 0?void 0:c.arrayValue,g=lt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:ak(m,v)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===gv.mapValue&&s===gv.mapValue)return 0;if(a===gv.mapValue)return 1;if(s===gv.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=US(c[f],d[f]);if(h!==0)return h;const m=Md(o[c[f]],u[d[f]]);if(m!==0)return m}return lt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{le:r})}}function ik(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const r=el(t),n=el(e),i=lt(r.seconds,n.seconds);return i!==0?i:lt(r.nanos,n.nanos)}function ak(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Md(r[i],n[i]);if(a)return a}return lt(r.length,n.length)}function Dd(t){return zS(t)}function zS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=el(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return tl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return De.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=zS(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${zS(r.fields[s])}`;return i+"}"}(t.mapValue):Ue(61005,{value:t})}function ry(t){switch(rl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=J0(t);return e?16+ry(e):16;case 5:return 2*t.stringValue.length;case 6:return tl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+ry(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return vl(n.fields,(a,s)=>{i+=a.length+ry(s)}),i}(t.mapValue);default:throw Ue(13486,{value:t})}}function sk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qS(t){return!!t&&"integerValue"in t}function mA(t){return!!t&&"arrayValue"in t}function ok(t){return!!t&&"nullValue"in t}function lk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ny(t){return!!t&&"mapValue"in t}function hZ(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VV])===null||r===void 0?void 0:r.stringValue)===UV}function rp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=rp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rp(t.arrayValue.values[r]);return e}return Object.assign({},t)}function pZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ny(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rp(r)}setAll(e){let r=tn.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=rp(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());ny(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ny(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){vl(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Gn(rp(this.value))}}function zV(t){const e=[];return vl(t.fields,(r,n)=>{const i=new tn([r]);if(ny(n)){const a=zV(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new wn(e,0,Ke.min(),Ke.min(),Ke.min(),Gn.empty(),0)}static newFoundDocument(e,r,n,i){return new wn(e,1,r,Ke.min(),n,i,0)}static newNoDocument(e,r){return new wn(e,2,r,Ke.min(),Ke.min(),Gn.empty(),0)}static newUnknownDocument(e,r){return new wn(e,3,r,Ke.min(),Ke.min(),Gn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,r){this.position=e,this.inclusive=r}}function ck(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=De.comparator(De.fromName(s.referenceValue),r.key):n=Md(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function uk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Va(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,r="asc"){this.field=e,this.dir=r}}function mZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qV=class{};class _r extends qV{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new vZ(e,r,n):r==="array-contains"?new bZ(e,n):r==="in"?new wZ(e,n):r==="not-in"?new _Z(e,n):r==="array-contains-any"?new SZ(e,n):new _r(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new yZ(e,n):new xZ(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Md(r,this.value)):r!==null&&rl(this.value)===rl(r)&&this.matchesComparison(Md(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends qV{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new ua(e,r)}matches(e){return WV(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function WV(t){return t.op==="and"}function HV(t){return gZ(t)&&WV(t)}function gZ(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function WS(t){if(t instanceof _r)return t.field.canonicalString()+t.op.toString()+Dd(t.value);if(HV(t))return t.filters.map(e=>WS(e)).join(",");{const e=t.filters.map(r=>WS(r)).join(",");return`${t.op}(${e})`}}function GV(t,e){return t instanceof _r?function(n,i){return i instanceof _r&&n.op===i.op&&n.field.isEqual(i.field)&&Va(n.value,i.value)}(t,e):t instanceof ua?function(n,i){return i instanceof ua&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&GV(s,i.filters[o]),!0):!1}(t,e):void Ue(19439)}function KV(t){return t instanceof _r?function(r){return`${r.field.canonicalString()} ${r.op} ${Dd(r.value)}`}(t):t instanceof ua?function(r){return r.op.toString()+" {"+r.getFilters().map(KV).join(" ,")+"}"}(t):"Filter"}class vZ extends _r{constructor(e,r,n){super(e,r,n),this.key=De.fromName(n.referenceValue)}matches(e){const r=De.comparator(e.key,this.key);return this.matchesComparison(r)}}class yZ extends _r{constructor(e,r){super(e,"in",r),this.keys=QV("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class xZ extends _r{constructor(e,r){super(e,"not-in",r),this.keys=QV("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function QV(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>De.fromName(n.referenceValue))}class bZ extends _r{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return mA(r)&&Bp(r.arrayValue,this.value)}}class wZ extends _r{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Bp(this.value.arrayValue,r)}}class _Z extends _r{constructor(e,r){super(e,"not-in",r)}matches(e){if(Bp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Bp(this.value.arrayValue,r)}}class SZ extends _r{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!mA(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Bp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Pe=null}}function dk(t,e=null,r=[],n=[],i=null,a=null,s=null){return new EZ(t,e,r,n,i,a,s)}function gA(t){const e=Qe(t);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>WS(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Z0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Dd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Dd(n)).join(",")),e.Pe=r}return e.Pe}function vA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mZ(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!GV(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uk(t.startAt,e.startAt)&&uk(t.endAt,e.endAt)}function HS(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function TZ(t,e,r,n,i,a,s,o){return new Tf(t,e,r,n,i,a,s,o)}function yA(t){return new Tf(t)}function fk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YV(t){return t.collectionGroup!==null}function np(t){const e=Qe(t);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Dr(tn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Up(a,n))}),r.has(tn.keyField().canonicalString())||e.Te.push(new Up(tn.keyField(),n))}return e.Te}function Pa(t){const e=Qe(t);return e.Ie||(e.Ie=jZ(e,np(t))),e.Ie}function jZ(t,e){if(t.limitType==="F")return dk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Up(i.field,a)});const r=t.endAt?new ex(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ex(t.startAt.position,t.startAt.inclusive):null;return dk(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function GS(t,e){const r=t.filters.concat([e]);return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function KS(t,e,r){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function eb(t,e){return vA(Pa(t),Pa(e))&&t.limitType===e.limitType}function XV(t){return`${gA(Pa(t))}|lt:${t.limitType}`}function wu(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>KV(i)).join(", ")}]`),Z0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Dd(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Dd(i)).join(",")),`Target(${n})`}(Pa(t))}; limitType=${t.limitType})`}function tb(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):De.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of np(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,c){const u=ck(s,o,c);return s.inclusive?u<=0:u<0}(n.startAt,np(n),i)||n.endAt&&!function(s,o,c){const u=ck(s,o,c);return s.inclusive?u>=0:u>0}(n.endAt,np(n),i))}(t,e)}function AZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZV(t){return(e,r)=>{let n=!1;for(const i of np(t)){const a=NZ(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function NZ(t,e,r){const n=t.field.isKeyField()?De.comparator(e.key,r.key):function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?Md(c,u):Ue(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return RV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=new or(De.comparator);function Ps(){return CZ}const JV=new or(De.comparator);function Dh(...t){let e=JV;for(const r of t)e=e.insert(r.key,r);return e}function e3(t){let e=JV;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Kl(){return ip()}function t3(){return ip()}function ip(){return new Kc(t=>t.toString(),(t,e)=>t.isEqual(e))}const PZ=new or(De.comparator),IZ=new Dr(De.comparator);function ht(...t){let e=IZ;for(const r of t)e=e.add(r);return e}const OZ=new Dr(lt);function kZ(){return OZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xy(e)?"-0":e}}function r3(t){return{integerValue:""+t}}function RZ(t,e){return lZ(e)?r3(e):xA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this._=void 0}}function MZ(t,e,r){return t instanceof zp?function(i,a){const s={fields:{[$V]:{stringValue:DV},[FV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&pA(a)&&(a=J0(a)),a&&(s.fields[LV]=a),{mapValue:s}}(r,e):t instanceof qp?i3(t,e):t instanceof Wp?a3(t,e):function(i,a){const s=n3(i,a),o=hk(s)+hk(i.Ee);return qS(s)&&qS(i.Ee)?r3(o):xA(i.serializer,o)}(t,e)}function DZ(t,e,r){return t instanceof qp?i3(t,e):t instanceof Wp?a3(t,e):r}function n3(t,e){return t instanceof tx?function(n){return qS(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class zp extends rb{}class qp extends rb{constructor(e){super(),this.elements=e}}function i3(t,e){const r=s3(e);for(const n of t.elements)r.some(i=>Va(i,n))||r.push(n);return{arrayValue:{values:r}}}class Wp extends rb{constructor(e){super(),this.elements=e}}function a3(t,e){let r=s3(e);for(const n of t.elements)r=r.filter(i=>!Va(i,n));return{arrayValue:{values:r}}}class tx extends rb{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function hk(t){return hr(t.integerValue||t.doubleValue)}function s3(t){return mA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(e,r){this.field=e,this.transform=r}}function LZ(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof qp&&i instanceof qp||n instanceof Wp&&i instanceof Wp?Rd(n.elements,i.elements,Va):n instanceof tx&&i instanceof tx?Va(n.Ee,i.Ee):n instanceof zp&&i instanceof zp}(t.transform,e.transform)}class FZ{constructor(e,r){this.version=e,this.transformResults=r}}class aa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new aa}static exists(e){return new aa(void 0,e)}static updateTime(e){return new aa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nb{}function o3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bA(t.key,aa.none()):new sg(t.key,t.data,aa.none());{const r=t.data,n=Gn.empty();let i=new Dr(tn.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new yl(t.key,n,new ui(i.toArray()),aa.none())}}function VZ(t,e,r){t instanceof sg?function(i,a,s){const o=i.value.clone(),c=mk(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof yl?function(i,a,s){if(!iy(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=mk(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(l3(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function ap(t,e,r,n){return t instanceof sg?function(a,s,o,c){if(!iy(a.precondition,s))return o;const u=a.value.clone(),d=gk(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof yl?function(a,s,o,c){if(!iy(a.precondition,s))return o;const u=gk(a.fieldTransforms,c,s),d=s.data;return d.setAll(l3(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,s,o){return iy(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function BZ(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=n3(n.transform,i||null);a!=null&&(r===null&&(r=Gn.empty()),r.set(n.field,a))}return r||null}function pk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Rd(n,i,(a,s)=>LZ(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sg extends nb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yl extends nb{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function l3(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function mk(t,e,r){const n=new Map;Ct(t.length===r.length,32656,{Ae:r.length,Re:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,DZ(s,o,r[i]))}return n}function gk(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,MZ(a,s,e))}return n}class bA extends nb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UZ extends nb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VZ(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ap(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ap(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=t3();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=o3(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ke.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ht())}isEqual(e){return this.batchId===e.batchId&&Rd(this.mutations,e.mutations,(r,n)=>pk(r,n))&&Rd(this.baseMutations,e.baseMutations,(r,n)=>pk(r,n))}}class wA{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ct(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=function(){return PZ}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new wA(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qZ=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,gt;function HZ(t){switch(t){case re.OK:return Ue(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function c3(t){if(t===void 0)return Ns("GRPC error has no .code"),re.UNKNOWN;switch(t){case yr.OK:return re.OK;case yr.CANCELLED:return re.CANCELLED;case yr.UNKNOWN:return re.UNKNOWN;case yr.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case yr.INTERNAL:return re.INTERNAL;case yr.UNAVAILABLE:return re.UNAVAILABLE;case yr.UNAUTHENTICATED:return re.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case yr.NOT_FOUND:return re.NOT_FOUND;case yr.ALREADY_EXISTS:return re.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return re.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case yr.ABORTED:return re.ABORTED;case yr.OUT_OF_RANGE:return re.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return re.UNIMPLEMENTED;case yr.DATA_LOSS:return re.DATA_LOSS;default:return Ue(39323,{code:t})}}(gt=yr||(yr={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ=new zo([4294967295,4294967295],0);function vk(t){const e=PV().encode(t),r=new _V;return r.update(e),new Uint8Array(r.digest())}function yk(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zo([r,n],0),new zo([i,a],0)]}class _A{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new $h(`Invalid padding: ${r}`);if(n<0)throw new $h(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new $h(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=zo.fromNumber(this.fe)}pe(e,r,n){let i=e.add(r.multiply(zo.fromNumber(n)));return i.compare(GZ)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=vk(e),[n,i]=yk(r);for(let a=0;a<this.hashCount;a++){const s=this.pe(n,i,a);if(!this.ye(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new _A(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.fe===0)return;const r=vk(e),[n,i]=yk(r);for(let a=0;a<this.hashCount;a++){const s=this.pe(n,i,a);this.we(s)}}we(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,og.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ib(Ke.min(),i,new or(lt),Ps(),ht())}}class og{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new og(n,r,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.be=i}}class u3{constructor(e,r){this.targetId=e,this.De=r}}class d3{constructor(e,r,n=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class xk{constructor(){this.ve=0,this.Ce=bk(),this.Fe=sn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ht(),r=ht(),n=ht();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ue(38017,{changeType:a})}}),new og(this.Fe,this.Me,e,r,n)}ke(){this.xe=!1,this.Ce=bk()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class KZ{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ps(),this.je=vv(),this.Je=vv(),this.He=new or(lt)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,r=>{const n=this.tt(r);switch(e.state){case 0:this.nt(r)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),n.Be(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach((n,i)=>{this.nt(i)&&r(i)})}it(e){const r=e.targetId,n=e.De.count,i=this.st(r);if(i){const a=i.target;if(HS(a))if(n===0){const s=new De(a.path);this.Xe(r,s,wn.newNoDocument(s,Ke.min()))}else Ct(n===1,20013,{expectedCount:n});else{const s=this.ot(r);if(s!==n){const o=this._t(e),c=o?this.ut(o,e,s):1;if(c!==0){this.rt(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,u)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=tl(n).toUint8Array()}catch(c){if(c instanceof MV)return Zo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new _A(s,i,a)}catch(c){return Zo(c instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.fe===0?null:o}ut(e,r,n){return r.De.count===n-this.ht(e,r.targetId)?0:2}ht(e,r){const n=this.We.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.We.lt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Xe(r,a,null),i++)}),i}Pt(e){const r=new Map;this.Ge.forEach((a,s)=>{const o=this.st(s);if(o){if(a.current&&HS(o.target)){const c=new De(o.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,wn.newNoDocument(c,e))}a.Ne&&(r.set(s,a.Le()),a.ke())}});let n=ht();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.ze.forEach((a,s)=>s.setReadTime(e));const i=new ib(e,r,this.He,this.ze,n);return this.ze=Ps(),this.je=vv(),this.Je=vv(),this.He=new or(lt),i}Ze(e,r){if(!this.nt(e))return;const n=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,n),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,r)?i.qe(r,1):i.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),n&&(this.ze=this.ze.insert(r,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new xk,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new Dr(lt),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new Dr(lt),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||je("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xk),this.We.getRemoteKeysForTarget(e).forEach(r=>{this.Xe(e,r,null)})}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function vv(){return new or(De.comparator)}function bk(){return new or(De.comparator)}const QZ={asc:"ASCENDING",desc:"DESCENDING"},YZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XZ={and:"AND",or:"OR"};class ZZ{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function QS(t,e){return t.useProto3Json||Z0(e)?e:{value:e}}function rx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JZ(t,e){return rx(t,e.toTimestamp())}function Ia(t){return Ct(!!t,49232),Ke.fromTimestamp(function(r){const n=el(r);return new Yt(n.seconds,n.nanos)}(t))}function SA(t,e){return YS(t,e).canonicalString()}function YS(t,e){const r=function(i){return new Bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function h3(t){const e=Bt.fromString(t);return Ct(y3(e),10190,{key:e.toString()}),e}function XS(t,e){return SA(t.databaseId,e.path)}function R_(t,e){const r=h3(e);if(r.get(1)!==t.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new De(m3(r))}function p3(t,e){return SA(t.databaseId,e)}function eJ(t){const e=h3(t);return e.length===4?Bt.emptyPath():m3(e)}function ZS(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m3(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wk(t,e,r){return{name:XS(t,e),fields:r.value.mapValue.fields}}function tJ(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Ct(d===void 0||typeof d=="string",58123),sn.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),sn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?re.UNKNOWN:c3(u.code);return new _e(d,u.message||"")}(s);r=new d3(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=R_(t,n.document.name),a=Ia(n.document.updateTime),s=n.document.createTime?Ia(n.document.createTime):Ke.min(),o=new Gn({mapValue:{fields:n.document.fields}}),c=wn.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new ay(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=R_(t,n.document),a=n.readTime?Ia(n.readTime):Ke.min(),s=wn.newNoDocument(i,a),o=n.removedTargetIds||[];r=new ay([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=R_(t,n.document),a=n.removedTargetIds||[];r=new ay([],a,i,null)}else{if(!("filter"in e))return Ue(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new WZ(i,a),o=n.targetId;r=new u3(o,s)}}return r}function rJ(t,e){let r;if(e instanceof sg)r={update:wk(t,e.key,e.value)};else if(e instanceof bA)r={delete:XS(t,e.key)};else if(e instanceof yl)r={update:wk(t,e.key,e.data),updateMask:dJ(e.fieldMask)};else{if(!(e instanceof UZ))return Ue(16599,{Rt:e.type});r={verify:XS(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof zp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tx)return{fieldPath:s.field.canonicalString(),increment:o.Ee};throw Ue(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:JZ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)}(t,e.precondition)),r}function nJ(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?Ia(i.updateTime):Ia(a);return s.isEqual(Ke.min())&&(s=Ia(a)),new FZ(s,i.transformResults||[])}(r,e))):[]}function iJ(t,e){return{documents:[p3(t,e.path)]}}function aJ(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=p3(t,i);const a=function(u){if(u.length!==0)return v3(ua.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:_u(h.field),direction:lJ(h.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=QS(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:r,parent:i}}function sJ(t){let e=eJ(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ct(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const h=g3(f);return h instanceof ua&&HV(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(v){return new Up(Su(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Z0(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new ex(m,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new ex(m,h)}(r.endAt)),TZ(e,i,s,a,o,"F",c,u)}function oJ(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function g3(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Su(r.unaryFilter.field);return _r.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Su(r.unaryFilter.field);return _r.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Su(r.unaryFilter.field);return _r.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Su(r.unaryFilter.field);return _r.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(r){return _r.create(Su(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ua.create(r.compositeFilter.filters.map(n=>g3(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(r.compositeFilter.op))}(t):Ue(30097,{filter:t})}function lJ(t){return QZ[t]}function cJ(t){return YZ[t]}function uJ(t){return XZ[t]}function _u(t){return{fieldPath:t.canonicalString()}}function Su(t){return tn.fromServerFormat(t.fieldPath)}function v3(t){return t instanceof _r?function(r){if(r.op==="=="){if(lk(r.value))return{unaryFilter:{field:_u(r.field),op:"IS_NAN"}};if(ok(r.value))return{unaryFilter:{field:_u(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(lk(r.value))return{unaryFilter:{field:_u(r.field),op:"IS_NOT_NAN"}};if(ok(r.value))return{unaryFilter:{field:_u(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(r.field),op:cJ(r.op),value:r.value}}}(t):t instanceof ua?function(r){const n=r.getFilters().map(i=>v3(i));return n.length===1?n[0]:{compositeFilter:{op:uJ(r.op),filters:n}}}(t):Ue(54877,{filter:t})}function dJ(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function y3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,r,n,i,a=Ke.min(),s=Ke.min(),o=sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e){this.gt=e}}function hJ(t){const e=sJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?KS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(){this.Dn=new mJ}addToCollectionParentIndex(e,r){return this.Dn.add(r),ne.resolve()}getCollectionParents(e,r){return ne.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return ne.resolve()}deleteFieldIndex(e,r){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,r){return ne.resolve()}getDocumentsMatchingTarget(e,r){return ne.resolve(null)}getIndexType(e,r){return ne.resolve(0)}getFieldIndexes(e,r){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,r){return ne.resolve(Jo.min())}getMinOffsetFromCollectionGroup(e,r){return ne.resolve(Jo.min())}updateCollectionGroup(e,r,n){return ne.resolve()}updateIndexEntries(e,r){return ne.resolve()}}class mJ{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Dr(Bt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Dr(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x3=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(x3,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new $d(0)}static ur(){return new $d(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="LruGarbageCollector",gJ=1048576;function Ek([t,e],[r,n]){const i=lt(t,r);return i===0?lt(e,n):i}class vJ{constructor(e){this.Tr=e,this.buffer=new Dr(Ek),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Ek(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class yJ{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){je(Sk,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ef(r)?je(Sk,"Ignoring IndexedDB error during garbage collection: ",r):await Sf(r)}await this.Rr(3e5)})}}class xJ{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ne.resolve(X0.ue);const n=new vJ(r);return this.Vr.forEachTarget(e,i=>n.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>n.Er(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(_k)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_k):this.pr(e,r))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),bu()<=ft.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function bJ(t,e){return new xJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(){this.changes=new Kc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&ap(n.mutation,i,ui.empty(),Yt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ht()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ht()){const i=Kl();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Dh();return a.forEach((o,c)=>{s=s.insert(o,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Kl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ht()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=Ps();const s=ip(),o=function(){return ip()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof yl)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),ap(d.mutation,u,d.mutation.getFieldMask(),Yt.now())):s.set(u.key,ui.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),r.forEach((u,d)=>{var f;return o.set(u,new _J(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=ip();let i=new or((s,o)=>s-o),a=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||ui.empty();d=o.applyToLocalView(u,d),n.set(c,d);const f=(i.get(o.batchId)||ht()).add(c);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,f=t3();d.forEach(h=>{if(!a.has(h)){const m=o3(r.get(h),n.get(h));m!==null&&f.set(h,m),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ne.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return De.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):YV(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ne.resolve(Kl());let o=Lp,c=a;return s.next(u=>ne.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(d)?ne.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,ht())).next(d=>({batchId:o,changes:e3(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new De(r)).next(n=>{let i=Dh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Dh();return this.indexManager.getCollectionParents(e,a).next(o=>ne.forEach(o,c=>{const u=function(f,h){return new Tf(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,wn.newInvalidDocument(d)))});let o=Dh();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&ap(d.mutation,u,ui.empty(),Yt.now()),tb(r,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return ne.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ia(i.createTime)}}(r)),ne.resolve()}getNamedQuery(e,r){return ne.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,function(i){return{name:i.name,query:hJ(i.bundledQuery),readTime:Ia(i.readTime)}}(r)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(){this.overlays=new or(De.comparator),this.kr=new Map}getOverlay(e,r){return ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Kl();return ne.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.wt(e,r,a)}),ne.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(n)),ne.resolve()}getOverlaysForCollection(e,r,n){const i=Kl(),a=r.length+1,s=new De(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new or((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Kl(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Kl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return ne.resolve(o)}wt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new qZ(r,n));let a=this.kr.get(r);a===void 0&&(a=ht(),this.kr.set(r,a)),this.kr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.qr=new Dr(Ur.Qr),this.$r=new Dr(Ur.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const n=new Ur(e,r);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Wr(new Ur(e,r))}Gr(e,r){e.forEach(n=>this.removeReference(n,r))}zr(e){const r=new De(new Bt([])),n=new Ur(r,e),i=new Ur(r,e+1),a=[];return this.$r.forEachInRange([n,i],s=>{this.Wr(s),a.push(s.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new De(new Bt([])),n=new Ur(r,e),i=new Ur(r,e+1);let a=ht();return this.$r.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Ur(e,0),n=this.qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ur{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return De.comparator(e.key,r.key)||lt(e.Hr,r.Hr)}static Ur(e,r){return lt(e.Hr,r.Hr)||De.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Dr(Ur.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new zZ(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Yr=this.Yr.add(new Ur(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ne.resolve(s)}lookupMutationBatch(e,r){return ne.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?hA:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ur(r,0),i=new Ur(r,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Dr(lt);return r.forEach(i=>{const a=new Ur(i,0),s=new Ur(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,s],o=>{n=n.add(o.Hr)})}),ne.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;De.isDocumentKey(a)||(a=a.child(""));const s=new Ur(new De(a),0);let o=new Dr(lt);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Hr)),!0)},s),ne.resolve(this.ei(o))}ei(e){const r=[];return e.forEach(n=>{const i=this.Zr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ct(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return ne.forEach(r.mutations,i=>{const a=new Ur(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,r){const n=new Ur(r,0),i=this.Yr.firstAfterOrEqual(n);return ne.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e){this.ni=e,this.docs=function(){return new or(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ni(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ne.resolve(n?n.document.mutableCopy():wn.newInvalidDocument(r))}getEntries(e,r){let n=Ps();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():wn.newInvalidDocument(i))}),ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ps();const s=r.path,o=new De(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||iZ(nZ(d),n)<=0||(i.has(d.key)||tb(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ue(9500)}ri(e,r){return ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new CJ(this)}getSize(e){return ne.resolve(this.size)}}class CJ extends wJ{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)}),ne.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e){this.persistence=e,this.ii=new Kc(r=>gA(r),vA),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.si=0,this.oi=new EA,this.targetCount=0,this._i=$d.ar()}forEachTarget(e,r){return this.ii.forEach((n,i)=>r(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.si&&(this.si=r),ne.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new $d(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,ne.resolve()}updateTargetData(e,r){return this.hr(r),ne.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ii.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ii.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.ii.get(r)||null;return ne.resolve(n)}addMatchingKeys(e,r,n){return this.oi.Kr(r,n),ne.resolve()}removeMatchingKeys(e,r,n){this.oi.Gr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.oi.Jr(r);return ne.resolve(n)}containsKey(e,r){return ne.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,r){this.ai={},this.overlays={},this.ui=new X0(0),this.ci=!1,this.ci=!0,this.li=new jJ,this.referenceDelegate=e(this),this.hi=new PJ(this),this.indexManager=new pJ,this.remoteDocumentCache=function(i){return new NJ(i)}(n=>this.referenceDelegate.Pi(n)),this.serializer=new fJ(r),this.Ti=new EJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new TJ,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ai[e.toKey()];return n||(n=new AJ(r,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,n){je("MemoryPersistence","Starting transaction:",e);const i=new IJ(this.ui.next());return this.referenceDelegate.Ii(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,r){return ne.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,r)))}}class IJ extends sZ{constructor(e){super(),this.currentSequenceNumber=e}}class TA{constructor(e){this.persistence=e,this.Ai=new EA,this.Ri=null}static Vi(e){return new TA(e)}get mi(){if(this.Ri)return this.Ri;throw Ue(60996)}addReference(e,r,n){return this.Ai.addReference(n,r),this.mi.delete(n.toString()),ne.resolve()}removeReference(e,r,n){return this.Ai.removeReference(n,r),this.mi.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),ne.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach(i=>this.mi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,n=>{const i=De.fromPath(n);return this.fi(e,i).next(a=>{a||r.removeEntry(i,Ke.min())})}).next(()=>(this.Ri=null,r.apply(e)))}updateLimboDocument(e,r){return this.fi(e,r).next(n=>{n?this.mi.delete(r.toString()):this.mi.add(r.toString())})}Pi(e){return 0}fi(e,r){return ne.or([()=>ne.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class nx{constructor(e,r){this.persistence=e,this.gi=new Kc(n=>cZ(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=bJ(this,r)}static Vi(e,r){return new nx(e,r)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}yr(e){let r=0;return this.gr(e,n=>{r++}).next(()=>r)}gr(e,r){return ne.forEach(this.gi,(n,i)=>this.Sr(e,n,i).next(a=>a?ne.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,r).next(o=>{o||(n++,a.removeEntry(s,Ke.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),ne.resolve()}removeReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ry(e.data.value)),r}Sr(e,r,n){return ne.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.gi.get(r);return ne.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Is=n,this.ds=i}static Es(e,r){let n=ht(),i=ht();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new jA(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return NY()?8:oZ(Tn())>0?6:4}()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ps(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ys(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new OJ;return this.ws(e,r,s).next(o=>{if(a.result=o,this.Rs)return this.Ss(e,r,s,o.size)})}).next(()=>a.result)}Ss(e,r,n,i){return n.documentReadCount<this.Vs?(bu()<=ft.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",wu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(bu()<=ft.DEBUG&&je("QueryEngine","Query:",wu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(bu()<=ft.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",wu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(r))):ne.resolve())}ps(e,r){if(fk(r))return ne.resolve(null);let n=Pa(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=KS(r,null,"F"),n=Pa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=ht(...a);return this.gs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.bs(r,o);return this.Ds(r,u,s,c.readTime)?this.ps(e,KS(r,null,"F")):this.vs(e,u,r,c)}))})))}ys(e,r,n,i){return fk(r)||i.isEqual(Ke.min())?ne.resolve(null):this.gs.getDocuments(e,n).next(a=>{const s=this.bs(r,a);return this.Ds(r,s,n,i)?ne.resolve(null):(bu()<=ft.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wu(r)),this.vs(e,s,r,rZ(i,Lp)).next(o=>o))})}bs(e,r){let n=new Dr(ZV(e));return r.forEach((i,a)=>{tb(e,a)&&(n=n.add(a))}),n}Ds(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,r,n){return bu()<=ft.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",wu(r)),this.gs.getDocumentsMatchingQuery(e,r,Jo.min(),n)}vs(e,r,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="LocalStore",RJ=3e8;class MJ{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.Fs=new or(lt),this.Ms=new Kc(a=>gA(a),vA),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SJ(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Fs))}}function DJ(t,e,r,n){return new MJ(t,e,r,n)}async function w3(t,e){const r=Qe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Ns(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let c=ht();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:o}))})})}function $J(t,e){const r=Qe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Os.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const f=u.batch,h=f.keys();let m=ne.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(g=>{const y=u.docVersions.get(v);Ct(y!==null,48541),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(c,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=ht();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function _3(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.hi.getLastRemoteSnapshotVersion(r))}function LJ(t,e){const r=Qe(t),n=e.snapshotVersion;let i=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Os.newChangeBuffer({trackRemovals:!0});i=r.Fs;const o=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;o.push(r.hi.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.hi.addMatchingKeys(a,d.addedDocuments,f)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(sn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),i=i.insert(f,m),function(g,y,w){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=RJ?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,m,d)&&o.push(r.hi.updateTargetData(a,m))});let c=Ps(),u=ht();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(FJ(a,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!n.isEqual(Ke.min())){const d=r.hi.getLastRemoteSnapshotVersion(a).next(f=>r.hi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(d)}return ne.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Fs=i,a))}function FJ(t,e,r){let n=ht(),i=ht();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Ps();return r.forEach((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):je(AA,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function VJ(t,e){const r=Qe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=hA),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function BJ(t,e){const r=Qe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.hi.getTargetData(n,e).next(a=>a?(i=a,ne.resolve(i)):r.hi.allocateTargetId(n).next(s=>(i=new No(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.hi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(n.targetId,n),r.Ms.set(e,n.targetId)),n})}async function JS(t,e,r){const n=Qe(t),i=n.Fs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ef(s))throw s;je(AA,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function Tk(t,e,r){const n=Qe(t);let i=Ke.min(),a=ht();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=Qe(c),h=f.Ms.get(d);return h!==void 0?ne.resolve(f.Fs.get(h)):f.hi.getTargetData(u,d)}(n,s,Pa(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(s,o.targetId).next(c=>{a=c})}).next(()=>n.Cs.getDocumentsMatchingQuery(s,e,r?i:Ke.min(),r?a:ht())).next(o=>(UJ(n,AZ(e),o),{documents:o,qs:a})))}function UJ(t,e,r){let n=t.xs.get(e)||Ke.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.xs.set(e,n)}class jk{constructor(){this.activeTargetIds=kZ()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zJ{constructor(){this.Fo=new jk,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,n){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new jk,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="ConnectivityMonitor";class Nk{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){je(Ak,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){je(Ak,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yv=null;function eE(){return yv===null?yv=function(){return 268435456+Math.round(2147483648*Math.random())}():yv++,"0x"+yv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="RestConnection",WJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HJ{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===Zy?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const s=eE(),o=this.Go(e,r.toUriEncodedString());je(M_,`Sending RPC '${e}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,a);const{host:u}=new URL(o),d=bf(u);return this.jo(e,o,c,n,d).then(f=>(je(M_,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Zo(M_,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Jo(e,r,n,i,a,s){return this.Wo(e,r,n,i,a)}zo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_f}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}Go(e,r){const n=WJ[e];return`${this.$o}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class KJ extends HJ{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,n,i,a){const s=eE();return new Promise((o,c)=>{const u=new SV;u.setWithCredentials(!0),u.listenOnce(EV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ty.NO_ERROR:const f=u.getResponseJson();je(mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case ty.TIMEOUT:je(mn,`RPC '${e}' ${s} timed out`),c(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case ty.HTTP_ERROR:const h=u.getStatus();if(je(mn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const g=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(x)>=0?x:re.UNKNOWN}(v.status);c(new _e(g,v.message))}else c(new _e(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{je(mn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);je(mn,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)})}P_(e,r,n){const i=eE(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=AV(),o=jV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");je(mn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);this.T_(f);let h=!1,m=!1;const v=new GJ({Ho:y=>{m?je(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(je(mn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),je(mn,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Yo:()=>f.close()}),g=(y,w,x)=>{y.listen(w,b=>{try{x(b)}catch(N){setTimeout(()=>{throw N},0)}})};return g(f,Mh.EventType.OPEN,()=>{m||(je(mn,`RPC '${e}' stream ${i} transport opened.`),v.s_())}),g(f,Mh.EventType.CLOSE,()=>{m||(m=!0,je(mn,`RPC '${e}' stream ${i} transport closed`),v.__(),this.I_(f))}),g(f,Mh.EventType.ERROR,y=>{m||(m=!0,Zo(mn,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.__(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),g(f,Mh.EventType.MESSAGE,y=>{var w;if(!m){const x=y.data[0];Ct(!!x,16349);const b=x,N=(b==null?void 0:b.error)||((w=b[0])===null||w===void 0?void 0:w.error);if(N){je(mn,`RPC '${e}' stream ${i} received error:`,N);const T=N.status;let E=function(C){const I=yr[C];if(I!==void 0)return c3(I)}(T),S=N.message;E===void 0&&(E=re.INTERNAL,S="Unknown error status: "+T+" with message "+N.message),m=!0,v.__(new _e(E,S)),f.close()}else je(mn,`RPC '${e}' stream ${i} received:`,x),v.a_(x)}}),g(o,TV.STAT_EVENT,y=>{y.stat===BS.PROXY?je(mn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===BS.NOPROXY&&je(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.o_()},0),v}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(r=>r===e)}}function D_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){return new ZZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=r,this.d_=n,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-n);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="PersistentStream";class E3{constructor(e,r,n,i,a,s,o,c){this.Fi=e,this.w_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new S3(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===re.RESOURCE_EXHAUSTED?(Ns(r.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.b_===r&&this.W_(n,i)},n=>{e(()=>{const i=new _e(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)})})}W_(e,r){const n=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{n(()=>this.G_(i))}),this.stream.onMessage(i=>{n(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return je(Ck,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget(()=>this.b_===e?r():(je(Ck,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QJ extends E3{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=tJ(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ke.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Ia(s.readTime):Ke.min()}(e);return this.listener.J_(r,n)}H_(e){const r={};r.database=ZS(this.serializer),r.addTarget=function(a,s){let o;const c=s.target;if(o=HS(c)?{documents:iJ(a,c)}:{query:aJ(a,c).Vt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=f3(a,s.resumeToken);const u=QS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ke.min())>0){o.readTime=rx(a,s.snapshotVersion.toTimestamp());const u=QS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=oJ(this.serializer,e);n&&(r.labels=n),this.k_(r)}Y_(e){const r={};r.database=ZS(this.serializer),r.removeTarget=e,this.k_(r)}}class YJ extends E3{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=nJ(e.writeResults,e.commitTime),n=Ia(e.commitTime);return this.listener.ta(n,r)}na(){const e={};e.database=ZS(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>rJ(this.serializer,n))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{}class ZJ extends XJ{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,YS(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(re.UNKNOWN,a.toString())})}Jo(e,r,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Jo(e,YS(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(re.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class JJ{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ns(r),this._a=!1):je("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="RemoteStore";class eee{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(s=>{n.enqueueAndForget(async()=>{Qc(this)&&(je(Nc,"Restarting streams for network reachability change."),await async function(c){const u=Qe(c);u.Ia.add(4),await lg(u),u.Aa.set("Unknown"),u.Ia.delete(4),await sb(u)}(this))})}),this.Aa=new JJ(n,i)}}async function sb(t){if(Qc(t))for(const e of t.da)await e(!0)}async function lg(t){for(const e of t.da)await e(!1)}function T3(t,e){const r=Qe(t);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),IA(r)?PA(r):jf(r).x_()&&CA(r,e))}function NA(t,e){const r=Qe(t),n=jf(r);r.Ta.delete(e),n.x_()&&j3(r,e),r.Ta.size===0&&(n.x_()?n.B_():Qc(r)&&r.Aa.set("Unknown"))}function CA(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}jf(t).H_(e)}function j3(t,e){t.Ra.$e(e),jf(t).Y_(e)}function PA(t){t.Ra=new KZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),jf(t).start(),t.Aa.aa()}function IA(t){return Qc(t)&&!jf(t).M_()&&t.Ta.size>0}function Qc(t){return Qe(t).Ia.size===0}function A3(t){t.Ra=void 0}async function tee(t){t.Aa.set("Online")}async function ree(t){t.Ta.forEach((e,r)=>{CA(t,e)})}async function nee(t,e){A3(t),IA(t)?(t.Aa.la(e),PA(t)):t.Aa.set("Unknown")}async function iee(t,e,r){if(t.Aa.set("Online"),e instanceof d3&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ta.delete(o),i.Ra.removeTarget(o))}(t,e)}catch(n){je(Nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ix(t,n)}else if(e instanceof ay?t.Ra.Ye(e):e instanceof u3?t.Ra.it(e):t.Ra.et(e),!r.isEqual(Ke.min()))try{const n=await _3(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Ra.Pt(s);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ta.get(u);d&&a.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,u)=>{const d=a.Ta.get(c);if(!d)return;a.Ta.set(c,d.withResumeToken(sn.EMPTY_BYTE_STRING,d.snapshotVersion)),j3(a,c);const f=new No(d.target,c,u,d.sequenceNumber);CA(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){je(Nc,"Failed to raise snapshot:",n),await ix(t,n)}}async function ix(t,e,r){if(!Ef(e))throw e;t.Ia.add(1),await lg(t),t.Aa.set("Offline"),r||(r=()=>_3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je(Nc,"Retrying IndexedDB access"),await r(),t.Ia.delete(1),await sb(t)})}function N3(t,e){return e().catch(r=>ix(t,r,e))}async function ob(t){const e=Qe(t),r=nl(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hA;for(;aee(e);)try{const i=await VJ(e.localStore,n);if(i===null){e.Pa.length===0&&r.B_();break}n=i.batchId,see(e,i)}catch(i){await ix(e,i)}C3(e)&&P3(e)}function aee(t){return Qc(t)&&t.Pa.length<10}function see(t,e){t.Pa.push(e);const r=nl(t);r.x_()&&r.Z_&&r.X_(e.mutations)}function C3(t){return Qc(t)&&!nl(t).M_()&&t.Pa.length>0}function P3(t){nl(t).start()}async function oee(t){nl(t).na()}async function lee(t){const e=nl(t);for(const r of t.Pa)e.X_(r.mutations)}async function cee(t,e,r){const n=t.Pa.shift(),i=wA.from(n,e,r);await N3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ob(t)}async function uee(t,e){e&&nl(t).Z_&&await async function(n,i){if(function(s){return HZ(s)&&s!==re.ABORTED}(i.code)){const a=n.Pa.shift();nl(n).N_(),await N3(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ob(n)}}(t,e),C3(t)&&P3(t)}async function Pk(t,e){const r=Qe(t);r.asyncQueue.verifyOperationInProgress(),je(Nc,"RemoteStore received new credentials");const n=Qc(r);r.Ia.add(3),await lg(r),n&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await sb(r)}async function dee(t,e){const r=Qe(t);e?(r.Ia.delete(2),await sb(r)):e||(r.Ia.add(2),await lg(r),r.Aa.set("Unknown"))}function jf(t){return t.Va||(t.Va=function(r,n,i){const a=Qe(r);return a.ia(),new QJ(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:tee.bind(null,t),e_:ree.bind(null,t),n_:nee.bind(null,t),J_:iee.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),IA(t)?PA(t):t.Aa.set("Unknown")):(await t.Va.stop(),A3(t))})),t.Va}function nl(t){return t.ma||(t.ma=function(r,n,i){const a=Qe(r);return a.ia(),new YJ(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:oee.bind(null,t),n_:uee.bind(null,t),ea:lee.bind(null,t),ta:cee.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await ob(t)):(await t.ma.stop(),t.Pa.length>0&&(je(Nc,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new OA(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kA(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),Ef(t))return new _e(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{static emptySet(e){return new Xu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||De.comparator(r.key,n.key):(r,n)=>De.comparator(r.key,n.key),this.keyedMap=Dh(),this.sortedSet=new or(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Xu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Xu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.fa=new or(De.comparator)}track(e){const r=e.doc.key,n=this.fa.get(r);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(r,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(r):e.type===1&&n.type===2?this.fa=this.fa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):Ue(63341,{At:e,ga:n}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ld{constructor(e,r,n,i,a,s,o,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Ld(e,r,Xu.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class hee{constructor(){this.queries=Ok(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,n){const i=Qe(r),a=i.queries;i.queries=Ok(),a.forEach((s,o)=>{for(const c of o.wa)c.onError(n)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function Ok(){return new Kc(t=>XV(t),eb)}async function I3(t,e){const r=Qe(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.ba()&&(n=2):(a=new fee,n=e.ba()?0:1);try{switch(n){case 0:a.ya=await r.onListen(i,!0);break;case 1:a.ya=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=kA(s,`Initialization of query '${wu(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.wa.push(e),e.va(r.onlineState),a.ya&&e.Ca(a.ya)&&RA(r)}async function O3(t,e){const r=Qe(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.wa.indexOf(e);s>=0&&(a.wa.splice(s,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function pee(t,e){const r=Qe(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.wa)o.Ca(i)&&(n=!0);s.ya=i}}n&&RA(r)}function mee(t,e,r){const n=Qe(t),i=n.queries.get(e);if(i)for(const a of i.wa)a.onError(r);n.queries.delete(e)}function RA(t){t.Da.forEach(e=>{e.next()})}var tE,kk;(kk=tE||(tE={})).Fa="default",kk.Cache="cache";class k3{constructor(e,r,n){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ld(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const n=r!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==tE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.key=e}}class M3{constructor(e){this.key=e}}class gee{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ht(),this.mutatedKeys=ht(),this.Xa=ZV(e),this.eu=new Xu(this.Xa)}get tu(){return this.Ha}nu(e,r){const n=r?r.ru:new Ik,i=r?r.eu:this.eu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=tb(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;h&&m?h.data.isEqual(m.data)?v!==g&&(n.track({type:3,doc:m}),y=!0):this.iu(h,m)||(n.track({type:2,doc:m}),y=!0,(c&&this.Xa(m,c)>0||u&&this.Xa(m,u)<0)&&(o=!0)):!h&&m?(n.track({type:0,doc:m}),y=!0):h&&!m&&(n.track({type:1,doc:h}),y=!0,(c||u)&&(o=!0)),y&&(m?(s=s.add(m),a=g?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{eu:s,ru:n,Ds:o,mutatedKeys:a}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((d,f)=>function(m,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{At:y})}};return g(m)-g(v)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(n),i=i!=null&&i;const o=r&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new Ld(this.query,e.eu,a,s,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ik,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ht(),this.eu.forEach(n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))});const r=[];return e.forEach(n=>{this.Za.has(n)||r.push(new M3(n))}),this.Za.forEach(n=>{e.has(n)||r.push(new R3(n))}),r}uu(e){this.Ha=e.qs,this.Za=ht();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Ld.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const MA="SyncEngine";class vee{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class yee{constructor(e){this.key=e,this.lu=!1}}class xee{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Kc(o=>XV(o),eb),this.Tu=new Map,this.Iu=new Set,this.du=new or(De.comparator),this.Eu=new Map,this.Au=new EA,this.Ru={},this.Vu=new Map,this.mu=$d.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function bee(t,e,r=!0){const n=B3(t);let i;const a=n.Pu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await D3(n,e,r,!0),i}async function wee(t,e){const r=B3(t);await D3(r,e,!0,!1)}async function D3(t,e,r,n){const i=await BJ(t.localStore,Pa(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await _ee(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&T3(t.remoteStore,i),o}async function _ee(t,e,r,n,i){t.gu=(f,h,m)=>async function(g,y,w,x){let b=y.view.nu(w);b.Ds&&(b=await Tk(g.localStore,y.query,!1).then(({documents:S})=>y.view.nu(S,b)));const N=x&&x.targetChanges.get(y.targetId),T=x&&x.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(b,g.isPrimaryClient,N,T);return Mk(g,y.targetId,E._u),E.snapshot}(t,f,h,m);const a=await Tk(t.localStore,e,!0),s=new gee(e,a.qs),o=s.nu(a.documents),c=og.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,c);Mk(t,r,u._u);const d=new vee(e,r,s);return t.Pu.set(e,d),t.Tu.has(r)?t.Tu.get(r).push(e):t.Tu.set(r,[e]),u.snapshot}async function See(t,e,r){const n=Qe(t),i=n.Pu.get(e),a=n.Tu.get(i.targetId);if(a.length>1)return n.Tu.set(i.targetId,a.filter(s=>!eb(s,e))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await JS(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&NA(n.remoteStore,i.targetId),rE(n,i.targetId)}).catch(Sf)):(rE(n,i.targetId),await JS(n.localStore,i.targetId,!0))}async function Eee(t,e){const r=Qe(t),n=r.Pu.get(e),i=r.Tu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),NA(r.remoteStore,n.targetId))}async function Tee(t,e,r){const n=Oee(t);try{const i=await function(s,o){const c=Qe(s),u=Yt.now(),d=o.reduce((m,v)=>m.add(v.key),ht());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Ps(),g=ht();return c.Os.getEntries(m,d).next(y=>{v=y,v.forEach((w,x)=>{x.isValidDocument()||(g=g.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(y=>{f=y;const w=[];for(const x of o){const b=BZ(x,f.get(x.key).overlayedDocument);b!=null&&w.push(new yl(x.key,b,zV(b.value.mapValue),aa.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,w,o)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(m,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:e3(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new or(lt)),u=u.insert(o,c),s.Ru[s.currentUser.toKey()]=u}(n,i.batchId,r),await cg(n,i.changes),await ob(n.remoteStore)}catch(i){const a=kA(i,"Failed to persist write");r.reject(a)}}async function $3(t,e){const r=Qe(t);try{const n=await LJ(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Eu.get(a);s&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ct(s.lu,14607):i.removedDocuments.size>0&&(Ct(s.lu,42227),s.lu=!1))}),await cg(r,n,e)}catch(n){await Sf(n)}}function Rk(t,e,r){const n=Qe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Pu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const c=Qe(s);c.onlineState=o;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.wa)h.va(o)&&(u=!0)}),u&&RA(c)}(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function jee(t,e,r){const n=Qe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),a=i&&i.key;if(a){let s=new or(De.comparator);s=s.insert(a,wn.newNoDocument(a,Ke.min()));const o=ht().add(a),c=new ib(Ke.min(),new Map,new or(lt),s,o);await $3(n,c),n.du=n.du.remove(a),n.Eu.delete(e),DA(n)}else await JS(n.localStore,e,!1).then(()=>rE(n,e,r)).catch(Sf)}async function Aee(t,e){const r=Qe(t),n=e.batch.batchId;try{const i=await $J(r.localStore,e);F3(r,n,null),L3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await cg(r,i)}catch(i){await Sf(i)}}async function Nee(t,e,r){const n=Qe(t);try{const i=await function(s,o){const c=Qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(f=>(Ct(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);F3(n,e,r),L3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await cg(n,i)}catch(i){await Sf(i)}}function L3(t,e){(t.Vu.get(e)||[]).forEach(r=>{r.resolve()}),t.Vu.delete(e)}function F3(t,e,r){const n=Qe(t);let i=n.Ru[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function rE(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Tu.get(e))t.Pu.delete(n),r&&t.hu.pu(n,r);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(n=>{t.Au.containsKey(n)||V3(t,n)})}function V3(t,e){t.Iu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(NA(t.remoteStore,r),t.du=t.du.remove(e),t.Eu.delete(r),DA(t))}function Mk(t,e,r){for(const n of r)n instanceof R3?(t.Au.addReference(n.key,e),Cee(t,n)):n instanceof M3?(je(MA,"Document no longer in limbo: "+n.key),t.Au.removeReference(n.key,e),t.Au.containsKey(n.key)||V3(t,n.key)):Ue(19791,{yu:n})}function Cee(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Iu.has(n)||(je(MA,"New document in limbo: "+r),t.Iu.add(n),DA(t))}function DA(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const r=new De(Bt.fromString(e)),n=t.mu.next();t.Eu.set(n,new yee(r)),t.du=t.du.insert(r,n),T3(t.remoteStore,new No(Pa(yA(r.path)),n,"TargetPurposeLimboResolution",X0.ue))}}async function cg(t,e,r){const n=Qe(t),i=[],a=[],s=[];n.Pu.isEmpty()||(n.Pu.forEach((o,c)=>{s.push(n.gu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=jA.Es(c.targetId,u);a.push(f)}}))}),await Promise.all(s),n.hu.J_(i),await async function(c,u){const d=Qe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ne.forEach(u,h=>ne.forEach(h.Is,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ne.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Ef(f))throw f;je(AA,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Fs.get(h),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);d.Fs=d.Fs.insert(h,g)}}}(n.localStore,a))}async function Pee(t,e){const r=Qe(t);if(!r.currentUser.isEqual(e)){je(MA,"User change. New user:",e.toKey());const n=await w3(r.localStore,e);r.currentUser=e,function(a,s){a.Vu.forEach(o=>{o.forEach(c=>{c.reject(new _e(re.CANCELLED,s))})}),a.Vu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await cg(r,n.Bs)}}function Iee(t,e){const r=Qe(t),n=r.Eu.get(e);if(n&&n.lu)return ht().add(n.key);{let i=ht();const a=r.Tu.get(e);if(!a)return i;for(const s of a){const o=r.Pu.get(s);i=i.unionWith(o.view.tu)}return i}}function B3(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jee.bind(null,e),e.hu.J_=pee.bind(null,e.eventManager),e.hu.pu=mee.bind(null,e.eventManager),e}function Oee(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nee.bind(null,e),e}class ax{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ab(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return DJ(this.persistence,new kJ,e.initialUser,this.serializer)}Du(e){return new b3(TA.Vi,this.serializer)}bu(e){return new zJ}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ax.provider={build:()=>new ax};class kee extends ax{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){Ct(this.persistence.referenceDelegate instanceof nx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new yJ(n,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new b3(n=>nx.Vi(n,r),this.serializer)}}class nE{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Rk(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pee.bind(null,this.syncEngine),await dee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hee}()}createDatastore(e){const r=ab(e.databaseInfo.databaseId),n=function(a){return new KJ(a)}(e.databaseInfo);return function(a,s,o,c){return new ZJ(a,s,o,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new eee(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Rk(this.syncEngine,r,0),function(){return Nk.C()?new Nk:new qJ}())}createSyncEngine(e,r){return function(i,a,s,o,c,u,d){const f=new xee(i,a,s,o,c,u);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Qe(i);je(Nc,"RemoteStore shutting down."),a.Ia.add(5),await lg(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}nE.provider={build:()=>new nE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="FirestoreClient";class Ree{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=fA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{je(il,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(je(il,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=kA(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $_(t,e){t.asyncQueue.verifyOperationInProgress(),je(il,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await w3(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>{Zo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{je("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Zo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function Dk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Mee(t);je(il,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Pk(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Pk(e.remoteStore,i)),t._onlineComponents=e}async function Mee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(il,"Using user provided OfflineComponentProvider");try{await $_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Zo("Error using user provided cache. Falling back to memory cache: "+r),await $_(t,new ax)}}else je(il,"Using default OfflineComponentProvider"),await $_(t,new kee(void 0));return t._offlineComponents}async function z3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(il,"Using user provided OnlineComponentProvider"),await Dk(t,t._uninitializedComponentsProvider._online)):(je(il,"Using default OnlineComponentProvider"),await Dk(t,new nE))),t._onlineComponents}function Dee(t){return z3(t).then(e=>e.syncEngine)}async function q3(t){const e=await z3(t),r=e.eventManager;return r.onListen=bee.bind(null,e.syncEngine),r.onUnlisten=See.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=wee.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Eee.bind(null,e.syncEngine),r}function $ee(t,e,r={}){const n=new ys;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new U3({next:h=>{d.Ou(),s.enqueueAndForget(()=>O3(a,f));const m=h.docs.has(o);!m&&h.fromCache?u.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?u.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new k3(yA(o.path),d,{includeMetadataChanges:!0,ka:!0});return I3(a,f)}(await q3(t),t.asyncQueue,e,r,n)),n.promise}function Lee(t,e,r={}){const n=new ys;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new U3({next:h=>{d.Ou(),s.enqueueAndForget(()=>O3(a,f)),h.fromCache&&c.source==="server"?u.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new k3(o,d,{includeMetadataChanges:!0,ka:!0});return I3(a,f)}(await q3(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="firestore.googleapis.com",Lk=!0;class Fk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H3,this.ssl=Lk}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Lk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gJ)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new HX;switch(n.type){case"firstParty":return new YX(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=$k.get(r);n&&(je("ComponentProvider","Removing Datastore"),$k.delete(r),n.terminate())}(this),Promise.resolve()}}function Fee(t,e,r,n={}){var i;t=Cs(t,lb);const a=bf(e),s=t._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;a&&(pV(`https://${c}`),mV("Firestore",!0)),s.host!==H3&&s.host!==c&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:n});if(!Tc(u,o)&&(t._setSettings(u),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=xn.MOCK_USER;else{d=xY(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xn(h)}t._authCredentials=new GX(new CV(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yc(this.firestore,e,this._query)}}class Er{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}toJSON(){return{type:Er._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(ag(r,Er._jsonSchema))return new Er(e,n||null,new De(Bt.fromString(r.referencePath)))}}Er._jsonSchemaVersion="firestore/documentReference/1.0",Er._jsonSchema={type:Sr("string",Er._jsonSchemaVersion),referencePath:Sr("string")};class qo extends Yc{constructor(e,r,n){super(e,r,yA(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new De(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function sp(t,e,...r){if(t=an(t),IV("collection","path",e),t instanceof lb){const n=Bt.fromString(e,...r);return ZO(n),new qo(t,null,n)}{if(!(t instanceof Er||t instanceof qo))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Bt.fromString(e,...r));return ZO(n),new qo(t.firestore,null,n)}}function cb(t,e,...r){if(t=an(t),arguments.length===1&&(e=fA.newId()),IV("doc","path",e),t instanceof lb){const n=Bt.fromString(e,...r);return XO(n),new Er(t,null,new De(n))}{if(!(t instanceof Er||t instanceof qo))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Bt.fromString(e,...r));return XO(n),new Er(t.firestore,t instanceof qo?t.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="AsyncQueue";class Bk{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new S3(this,"async_queue_retry"),this.oc=()=>{const n=D_();n&&je(Vk,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const r=D_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=D_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const r=new ys;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ef(e))throw e;je(Vk,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const r=this._c.then(()=>(this.nc=!0,e().catch(n=>{throw this.tc=n,this.nc=!1,Ns("INTERNAL UNHANDLED ERROR: ",Uk(n)),n}).then(n=>(this.nc=!1,n))));return this._c=r,r}enqueueAfterDelay(e,r,n){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const i=OA.createAndSchedule(this,e,r,n,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Ue(47125,{hc:Uk(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function Uk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Af extends lb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Bk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bk(e),this._firestoreClient=void 0,await e}}}function Vee(t,e){const r=typeof t=="object"?t:xV(),n=typeof t=="string"?t:Zy,i=uA(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=vY("firestore");a&&Fee(i,...a)}return i}function $A(t){if(t._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Bee(t),t._firestoreClient}function Bee(t){var e,r,n;const i=t._freezeSettings(),a=function(o,c,u,d){return new fZ(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,W3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ree(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(sn.fromBase64String(e))}catch(r){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ni(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ag(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:Sr("string",Ni._jsonSchemaVersion),bytes:Sr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oa._jsonSchemaVersion}}static fromJSON(e){if(ag(e,Oa._jsonSchema))return new Oa(e.latitude,e.longitude)}}Oa._jsonSchemaVersion="firestore/geoPoint/1.0",Oa._jsonSchema={type:Sr("string",Oa._jsonSchemaVersion),latitude:Sr("number"),longitude:Sr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ag(e,ka._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new ka(e.vectorValues);throw new _e(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ka._jsonSchemaVersion="firestore/vectorValue/1.0",ka._jsonSchema={type:Sr("string",ka._jsonSchemaVersion),vectorValues:Sr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=/^__.*__$/;class zee{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new yl(e,this.data,this.fieldMask,r,this.fieldTransforms):new sg(e,this.data,r,this.fieldTransforms)}}class G3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new yl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function K3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ec:t})}}class LA{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new LA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return sx(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(K3(this.Ec)&&Uee.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class qee{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ab(e)}Dc(e,r,n,i=!1){return new LA({Ec:e,methodName:r,bc:n,path:tn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FA(t){const e=t._freezeSettings(),r=ab(t._databaseId);return new qee(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Wee(t,e,r,n,i,a={}){const s=t.Dc(a.merge||a.mergeFields?2:0,e,r,i);BA("Data must be an object, but it was:",s,n);const o=Q3(n,s);let c,u;if(a.merge)c=new ui(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=iE(e,f,r);if(!s.contains(h))throw new _e(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);X3(d,h)||d.push(h)}c=new ui(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new zee(new Gn(o),c,u)}class fb extends db{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fb}}class VA extends db{_toFieldTransform(e){return new $Z(e.path,new zp)}isEqual(e){return e instanceof VA}}function Hee(t,e,r,n){const i=t.Dc(1,e,r);BA("Data must be an object, but it was:",i,n);const a=[],s=Gn.empty();vl(n,(c,u)=>{const d=UA(e,c,r);u=an(u);const f=i.gc(d);if(u instanceof fb)a.push(d);else{const h=ug(u,f);h!=null&&(a.push(d),s.set(d,h))}});const o=new ui(a);return new G3(s,o,i.fieldTransforms)}function Gee(t,e,r,n,i,a){const s=t.Dc(1,e,r),o=[iE(e,n,r)],c=[i];if(a.length%2!=0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(iE(e,a[h])),c.push(a[h+1]);const u=[],d=Gn.empty();for(let h=o.length-1;h>=0;--h)if(!X3(u,o[h])){const m=o[h];let v=c[h];v=an(v);const g=s.gc(m);if(v instanceof fb)u.push(m);else{const y=ug(v,g);y!=null&&(u.push(m),d.set(m,y))}}const f=new ui(u);return new G3(d,f,s.fieldTransforms)}function Kee(t,e,r,n=!1){return ug(r,t.Dc(n?4:3,e))}function ug(t,e){if(Y3(t=an(t)))return BA("Unsupported field value:",e,t),Q3(t,e);if(t instanceof db)return function(n,i){if(!K3(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let c=ug(o,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=an(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return RZ(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Yt.fromDate(n);return{timestampValue:rx(i.serializer,a)}}if(n instanceof Yt){const a=new Yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rx(i.serializer,a)}}if(n instanceof Oa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ni)return{bytesValue:f3(i.serializer,n._byteString)};if(n instanceof Er){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:SA(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ka)return function(s,o){return{mapValue:{fields:{[VV]:{stringValue:UV},[Jy]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return xA(o.serializer,u)})}}}}}}(n,i);throw i.wc(`Unsupported field value: ${Y0(n)}`)}(t,e)}function Q3(t,e){const r={};return RV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,(n,i)=>{const a=ug(i,e.Vc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function Y3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof Oa||t instanceof Ni||t instanceof Er||t instanceof db||t instanceof ka)}function BA(t,e,r){if(!Y3(r)||!OV(r)){const n=Y0(r);throw n==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+n)}}function iE(t,e,r){if((e=an(e))instanceof ub)return e._internalPath;if(typeof e=="string")return UA(t,e);throw sx("Field path arguments must be of type string or ",t,!1,void 0,r)}const Qee=new RegExp("[~\\*/\\[\\]]");function UA(t,e,r){if(e.search(Qee)>=0)throw sx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ub(...e.split("."))._internalPath}catch{throw sx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function sx(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new _e(re.INVALID_ARGUMENT,o+t+c)}function X3(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(hb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Yee extends Z3{data(){return super.data()}}function hb(t,e){return typeof e=="string"?UA(t,e):e instanceof ub?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zA{}class J3 extends zA{}function sy(t,e,...r){let n=[];e instanceof zA&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof qA).length,o=a.filter(c=>c instanceof pb).length;if(s>1||s>0&&o>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class pb extends J3{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new pb(e,r,n)}_apply(e){const r=this._parse(e);return e5(e._query,r),new Yc(e.firestore,e.converter,GS(e._query,r))}_parse(e){const r=FA(e.firestore);return function(a,s,o,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qk(f,d);const v=[];for(const g of f)v.push(zk(c,a,g));h={arrayValue:{values:v}}}else h=zk(c,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qk(f,d),h=Kee(o,s,f,d==="in"||d==="not-in");return _r.create(u,d,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function oy(t,e,r){const n=e,i=hb("where",t);return pb._create(i,n,r)}class qA extends zA{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new qA(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ua.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const c of o)e5(s,c),s=GS(s,c)}(e._query,r),new Yc(e.firestore,e.converter,GS(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class WA extends J3{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new WA(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Up(a,s)}(e._query,this._field,this._direction);return new Yc(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Tf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function aE(t,e="asc"){const r=e,n=hb("orderBy",t);return WA._create(n,r)}function zk(t,e,r){if(typeof(r=an(r))=="string"){if(r==="")throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YV(e)&&r.indexOf("/")!==-1)throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Bt.fromString(r));if(!De.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return sk(t,new De(n))}if(r instanceof Er)return sk(t,r._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y0(r)}.`)}function qk(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e5(t,e){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Zee{convertValue(e,r="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return vl(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Jy].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>hr(s.doubleValue));return new ka(a)}convertGeoPoint(e){return new Oa(hr(e.latitude),hr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=J0(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const r=el(e);return new Yt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Bt.fromString(e);Ct(y3(n),9688,{name:e});const i=new Vp(n.get(1),n.get(3)),a=new De(n.popFirst(5));return i.isEqual(r)||Ns(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Lh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dc extends Z3{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ly(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(hb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=dc._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}dc._jsonSchemaVersion="firestore/documentSnapshot/1.0",dc._jsonSchema={type:Sr("string",dc._jsonSchemaVersion),bundleSource:Sr("string","DocumentSnapshot"),bundleName:Sr("string"),bundle:Sr("string")};class ly extends dc{data(e={}){return super.data(e)}}class Zu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Lh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new ly(this._firestore,this._userDataWriter,n.key,n,new Lh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const c=new ly(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const c=new ly(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:ete(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ete(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){t=Cs(t,Er);const e=Cs(t.firestore,Af);return $ee($A(e),t._key).then(r=>ite(e,t,r))}Zu._jsonSchemaVersion="firestore/querySnapshot/1.0",Zu._jsonSchema={type:Sr("string",Zu._jsonSchemaVersion),bundleSource:Sr("string","QuerySnapshot"),bundleName:Sr("string"),bundle:Sr("string")};class t5 extends Zee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,r)}}function cy(t){t=Cs(t,Yc);const e=Cs(t.firestore,Af),r=$A(e),n=new t5(e);return Xee(t._query),Lee(r,t._query).then(i=>new Zu(e,n,t,i))}function tte(t,e,r,...n){t=Cs(t,Er);const i=Cs(t.firestore,Af),a=FA(i);let s;return s=typeof(e=an(e))=="string"||e instanceof ub?Gee(a,"updateDoc",t._key,e,r,n):Hee(a,"updateDoc",t._key,e),GA(i,[s.toMutation(t._key,aa.exists(!0))])}function rte(t){return GA(Cs(t.firestore,Af),[new bA(t._key,aa.none())])}function nte(t,e){const r=Cs(t.firestore,Af),n=cb(t),i=Jee(t.converter,e);return GA(r,[Wee(FA(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,aa.exists(!1))]).then(()=>n)}function GA(t,e){return function(n,i){const a=new ys;return n.asyncQueue.enqueueAndForget(async()=>Tee(await Dee(n),i,a)),a.promise}($A(t),e)}function ite(t,e,r){const n=r.docs.get(e._key),i=new t5(t);return new dc(t,i,e._key,n,new Lh(r.hasPendingWrites,r.fromCache),e.converter)}function ate(){return new VA("serverTimestamp")}(function(e,r=!0){(function(i){_f=i})(wf),kd(new jc("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new Af(new KX(n.getProvider("auth-internal")),new XX(s,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vp(u.options.projectId,d)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Uo(HO,GO,e),Uo(HO,GO,"esm2017")})();var ste="firebase",ote="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo(ste,ote,"app");var Ta=function(){return Ta=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ta.apply(this,arguments)};function dg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function lte(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function r5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cte=r5,n5=new ng("auth","Firebase",r5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new lA("@firebase/auth");function ute(t,...e){ox.logLevel<=ft.WARN&&ox.warn(`Auth (${wf}): ${t}`,...e)}function uy(t,...e){ox.logLevel<=ft.ERROR&&ox.error(`Auth (${wf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,...e){throw QA(t,...e)}function sa(t,...e){return QA(t,...e)}function KA(t,e,r){const n=Object.assign(Object.assign({},cte()),{[e]:r});return new ng("auth","Firebase",n).create(e,{appName:t.name})}function Wo(t){return KA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i5(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ba(t,"argument-error"),KA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function QA(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return n5.create(t,...e)}function He(t,e,...r){if(!t)throw QA(e,...r)}function fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uy(e),new Error(e)}function Is(t,e){t||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dte(){return Wk()==="http:"||Wk()==="https:"}function Wk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dte()||TY()||"connection"in navigator)?navigator.onLine:!0}function hte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,r){this.shortDelay=e,this.longDelay=r,Is(r>e,"Short delay should be less than long delay!"),this.isMobile=_Y()||jY()}get(){return fte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e){Is(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gte=new fg(3e4,6e4);function XA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nf(t,e,r,n,i={}){return s5(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=ig(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return EY()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bf(t.emulatorConfig.host)&&(u.credentials="include"),a5.fetch()(await o5(t,t.config.apiHost,r,o),u)})}async function s5(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},pte),e);try{const i=new yte(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw xv(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xv(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw xv(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw xv(t,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KA(t,d,u);Ba(t,d)}}catch(i){if(i instanceof Bs)throw i;Ba(t,"network-request-failed",{message:String(i)})}}async function vte(t,e,r,n,i={}){const a=await Nf(t,e,r,n,i);return"mfaPendingCredential"in a&&Ba(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function o5(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?YA(t.config,i):`${t.config.apiScheme}://${i}`;return mte.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class yte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(sa(this.auth,"network-request-failed")),gte.get())})}}function xv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=sa(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(t,e){return Nf(t,"POST","/v1/accounts:delete",e)}async function lx(t,e){return Nf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bte(t,e=!1){const r=an(t),n=await r.getIdToken(e),i=ZA(n);He(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:op(L_(i.auth_time)),issuedAtTime:op(L_(i.iat)),expirationTime:op(L_(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function L_(t){return Number(t)*1e3}function ZA(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return uy("JWT malformed, contained fewer than 3 sections"),null;try{const i=uV(r);return i?JSON.parse(i):(uy("Failed to decode base64 JWT payload"),null)}catch(i){return uy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hk(t){const e=ZA(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bs&&wte(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function wte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=op(this.lastLoginAt),this.creationTime=op(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Hp(t,lx(r,{idToken:n}));He(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?l5(a.providerUserInfo):[],o=Ete(t.providerData,s),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),d=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new oE(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Ste(t){const e=an(t);await cx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ete(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function l5(t){return t.map(e=>{var{providerId:r}=e,n=dg(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tte(t,e){const r=await s5(t,{},async()=>{const n=ig({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await o5(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return t.emulatorConfig&&bf(t.emulatorConfig.host)&&(c.credentials="include"),a5.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function jte(t,e){return Nf(t,"POST","/v2/accounts:revokeToken",XA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=Hk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Tte(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Ju;return n&&(He(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(He(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=dg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oE(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Hp(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return bte(this,e)}reload(){return Ste(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await cx(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(Wo(this.auth));const e=await this.getIdToken();return await Hp(this,xte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,o,c,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,v=(s=r.photoURL)!==null&&s!==void 0?s:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,y=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=r.createdAt)!==null&&u!==void 0?u:void 0,x=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:N,isAnonymous:T,providerData:E,stsTokenManager:S}=r;He(b&&S,e,"internal-error");const j=Ju.fromJSON(this.name,S);He(typeof b=="string",e,"internal-error"),Zs(f,e.name),Zs(h,e.name),He(typeof N=="boolean",e,"internal-error"),He(typeof T=="boolean",e,"internal-error"),Zs(m,e.name),Zs(v,e.name),Zs(g,e.name),Zs(y,e.name),Zs(w,e.name),Zs(x,e.name);const C=new ta({uid:b,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:T,photoURL:v,phoneNumber:m,tenantId:g,stsTokenManager:j,createdAt:w,lastLoginAt:x});return E&&Array.isArray(E)&&(C.providerData=E.map(I=>Object.assign({},I))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ju;i.updateFromServerResponse(r);const a=new ta({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await cx(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?l5(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Ju;o.updateFromIdToken(n);const c=new ta({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new oE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new Map;function hs(t){Is(t instanceof Function,"Expected a class definition");let e=Gk.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}c5.type="NONE";const Kk=c5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e,r){return`firebase:${t}:${e}:${r}`}class ed{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=dy(this.userKey,i.apiKey,a),this.fullPersistenceKey=dy("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await lx(this.auth,{idToken:e}).catch(()=>{});return r?ta._fromGetAccountInfoResponse(this.auth,r,e):null}return ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ed(hs(Kk),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||hs(Kk);const s=dy(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await lx(e,{idToken:d}).catch(()=>{});if(!h)break;f=await ta._fromGetAccountInfoResponse(e,h,d)}else f=ta._fromJSON(e,d);u!==a&&(o=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new ed(a,e,n):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new ed(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m5(e))return"Blackberry";if(g5(e))return"Webos";if(d5(e))return"Safari";if((e.includes("chrome/")||f5(e))&&!e.includes("edge/"))return"Chrome";if(p5(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function u5(t=Tn()){return/firefox\//i.test(t)}function d5(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f5(t=Tn()){return/crios\//i.test(t)}function h5(t=Tn()){return/iemobile/i.test(t)}function p5(t=Tn()){return/android/i.test(t)}function m5(t=Tn()){return/blackberry/i.test(t)}function g5(t=Tn()){return/webos/i.test(t)}function JA(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ate(t=Tn()){var e;return JA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nte(){return AY()&&document.documentMode===10}function v5(t=Tn()){return JA(t)||p5(t)||g5(t)||m5(t)||/windows phone/i.test(t)||h5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t,e=[]){let r;switch(t){case"Browser":r=Qk(Tn());break;case"Worker":r=`${Qk(Tn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${wf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pte(t,e={}){return Nf(t,"GET","/v2/passwordPolicy",XA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=6;class Ote{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:Ite,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yk(this),this.idTokenSubscription=new Yk(this),this.beforeStateQueue=new Cte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=hs(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await ed.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await lx(this,{idToken:e}),n=await ta._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ai(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await cx(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(Wo(this));const r=e?an(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(Wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(Wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pte(this),r=new Ote(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ng("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await jte(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&hs(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await ed.create(this,[hs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&ute(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Cf(t){return an(t)}class Yk{constructor(e){this.auth=e,this.observer=null,this.addObserver=MY(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rte(t){eN=t}function Mte(t){return eN.loadJS(t)}function Dte(){return eN.gapiScript}function $te(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(t,e){const r=uA(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Tc(a,e??{}))return i;Ba(i,"already-initialized")}return r.initialize({options:e})}function Fte(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Vte(t,e,r){const n=Cf(t);He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=x5(e),{host:s,port:o}=Bte(e),c=o===null?"":`:${o}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){He(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),He(Tc(u,n.config.emulator)&&Tc(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,bf(s)?(pV(`${a}//${s}${c}`),mV("Auth",!0)):Ute()}function x5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bte(t){const e=x5(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Xk(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:Xk(s)}}}function Xk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ute(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,r){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t,e){return vte(t,"POST","/v1/accounts:signInWithIdp",XA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zte="http://localhost";class Cc extends b5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Cc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ba("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=dg(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Cc(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return td(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,td(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,td(e,r)}buildRequest(){const e={requestUri:zte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ig(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends hg{constructor(){super("facebook.com")}static credential(e){return Cc._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends hg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Cc._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return cs.credential(r,n)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends hg{constructor(){super("github.com")}static credential(e){return Cc._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends hg{constructor(){super("twitter.com")}static credential(e,r){return Cc._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return po.credential(r,n)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ta._fromIdTokenResponse(e,n,i),s=Zk(n);return new Fd({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Zk(n);return new Fd({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Zk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends Bs{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ux.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new ux(e,r,n,i)}}function w5(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ux._fromErrorAndOperation(t,a,e,n):a})}async function qte(t,e,r=!1){const n=await Hp(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Fd._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wte(t,e,r=!1){const{auth:n}=t;if(Ai(n.app))return Promise.reject(Wo(n));const i="reauthenticate";try{const a=await Hp(t,w5(n,i,e,t),r);He(a.idToken,n,"internal-error");const s=ZA(a.idToken);He(s,n,"internal-error");const{sub:o}=s;return He(t.uid===o,n,"user-mismatch"),Fd._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ba(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hte(t,e,r=!1){if(Ai(t.app))return Promise.reject(Wo(t));const n="signIn",i=await w5(t,n,e),a=await Fd._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function Gte(t,e,r,n){return an(t).onIdTokenChanged(e,r,n)}function Kte(t,e,r){return an(t).beforeAuthStateChanged(e,r)}function Qte(t,e,r,n){return an(t).onAuthStateChanged(e,r,n)}function Yte(t){return an(t).signOut()}const dx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(dx,"1"),this.storage.removeItem(dx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xte=1e3,Zte=10;class S5 extends _5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);Nte()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zte):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Xte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}S5.type="LOCAL";const Jte=S5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5 extends _5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}E5.type="SESSION";const T5=E5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new gb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),c=await ere(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const u=tN("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return window}function rre(t){Ra().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(){return typeof Ra().WorkerGlobalScope<"u"&&typeof Ra().importScripts=="function"}async function nre(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ire(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function are(){return j5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="firebaseLocalStorageDb",sre=1,fx="firebaseLocalStorage",N5="fbase_key";class pg{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function vb(t,e){return t.transaction([fx],e?"readwrite":"readonly").objectStore(fx)}function ore(){const t=indexedDB.deleteDatabase(A5);return new pg(t).toPromise()}function lE(){const t=indexedDB.open(A5,sre);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(fx,{keyPath:N5})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(fx)?e(n):(n.close(),await ore(),e(await lE()))})})}async function Jk(t,e,r){const n=vb(t,!0).put({[N5]:e,value:r});return new pg(n).toPromise()}async function lre(t,e){const r=vb(t,!1).get(e),n=await new pg(r).toPromise();return n===void 0?null:n.value}function e2(t,e){const r=vb(t,!0).delete(e);return new pg(r).toPromise()}const cre=800,ure=3;class C5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lE(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>ure)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gb._getInstance(are()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await nre(),!this.activeServiceWorker)return;this.sender=new tre(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ire()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lE();return await Jk(e,dx,"1"),await e2(e,dx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>lre(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>e2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=vb(i,!1).getAll();return new pg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C5.type="LOCAL";const dre=C5;new fg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){return e?hs(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends b5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return td(e,this._buildIdpRequest())}_linkToIdToken(e,r){return td(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return td(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function fre(t){return Hte(t.auth,new nN(t),t.bypassAuthState)}function hre(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),Wte(r,new nN(t),t.bypassAuthState)}async function pre(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),qte(r,new nN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fre;case"linkViaPopup":case"linkViaRedirect":return pre;case"reauthViaPopup":case"reauthViaRedirect":return hre;default:Ba(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre=new fg(2e3,1e4);async function gre(t,e,r){if(Ai(t.app))return Promise.reject(sa(t,"operation-not-supported-in-this-environment"));const n=Cf(t);i5(t,e,mb);const i=rN(n,r);return new Ql(n,"signInViaPopup",e,i).executeNotNull()}class Ql extends P5{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=tN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mre.get())};e()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre="pendingRedirect",fy=new Map;class yre extends P5{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=fy.get(this.auth._key());if(!e){try{const n=await xre(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}fy.set(this.auth._key(),e)}return this.bypassAuthState||fy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xre(t,e){const r=O5(e),n=I5(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}async function bre(t,e){return I5(t)._set(O5(e),"true")}function wre(t,e){fy.set(t._key(),e)}function I5(t){return hs(t._redirectPersistence)}function O5(t){return dy(vre,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e,r){return _re(t,e,r)}async function _re(t,e,r){if(Ai(t.app))return Promise.reject(Wo(t));const n=Cf(t);i5(t,e,mb),await n._initializationPromise;const i=rN(n,r);return await bre(i,n),i._openRedirect(n,e,"signInViaRedirect")}async function Sre(t,e){return await Cf(t)._initializationPromise,k5(t,e,!1)}async function k5(t,e,r=!1){if(Ai(t.app))return Promise.reject(Wo(t));const n=Cf(t),i=rN(n,e),s=await new yre(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere=10*60*1e3;class Tre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jre(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!R5(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(sa(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ere&&this.cachedEventUids.clear(),this.cachedEventUids.has(r2(e))}saveEventToCache(e){this.cachedEventUids.add(r2(e)),this.lastProcessedEventTime=Date.now()}}function r2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function R5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Are(t,e={}){return Nf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cre=/^https?/;async function Pre(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Are(t);for(const r of e)try{if(Ire(r))return}catch{}Ba(t,"unauthorized-domain")}function Ire(t){const e=sE(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Cre.test(r))return!1;if(Nre.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=new fg(3e4,6e4);function n2(){const t=Ra().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function kre(t){return new Promise((e,r)=>{var n,i,a;function s(){n2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n2(),r(sa(t,"network-request-failed"))},timeout:Ore.get()})}if(!((i=(n=Ra().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ra().gapi)===null||a===void 0)&&a.load)s();else{const o=$te("iframefcb");return Ra()[o]=()=>{gapi.load?s():r(sa(t,"network-request-failed"))},Mte(`${Dte()}?onload=${o}`).catch(c=>r(c))}}).catch(e=>{throw hy=null,e})}let hy=null;function Rre(t){return hy=hy||kre(t),hy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre=new fg(5e3,15e3),Dre="__/auth/iframe",$re="emulator/auth/iframe",Lre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vre(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?YA(e,$re):`https://${t.config.authDomain}/${Dre}`,n={apiKey:e.apiKey,appName:t.name,v:wf},i=Fre.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ig(n).slice(1)}`}async function Bre(t){const e=await Rre(t),r=Ra().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:Vre(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lre,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=sa(t,"network-request-failed"),o=Ra().setTimeout(()=>{a(s)},Mre.get());function c(){Ra().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zre=500,qre=600,Wre="_blank",Hre="http://localhost";class i2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gre(t,e,r,n=zre,i=qre){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c=Object.assign(Object.assign({},Ure),{width:n.toString(),height:i.toString(),top:a,left:s}),u=Tn().toLowerCase();r&&(o=f5(u)?Wre:r),u5(u)&&(e=e||Hre,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(Ate(u)&&o!=="_self")return Kre(e||"",o),new i2(null);const f=window.open(e||"",o,d);He(f,t,"popup-blocked");try{f.focus()}catch{}return new i2(f)}function Kre(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre="__/auth/handler",Yre="emulator/auth/handler",Xre=encodeURIComponent("fac");async function a2(t,e,r,n,i,a){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:wf,eventId:i};if(e instanceof mb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",RY(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof hg){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),u=c?`#${Xre}=${encodeURIComponent(c)}`:"";return`${Zre(t)}?${ig(o).slice(1)}${u}`}function Zre({config:t}){return t.emulator?YA(t,Yre):`https://${t.authDomain}/${Qre}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="webStorageSupport";class Jre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T5,this._completeRedirectFn=k5,this._overrideRedirectResult=wre}async _openPopup(e,r,n,i){var a;Is((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await a2(e,r,n,sE(),i);return Gre(e,s,tN())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await a2(e,r,n,sE(),i);return rre(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Is(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Bre(e),n=new Tre(e);return r.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(F_,{type:F_},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[F_];s!==void 0&&r(!!s),Ba(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Pre(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return v5()||d5()||JA()}}const ene=Jre;var s2="@firebase/auth",o2="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nne(t){kd(new jc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;He(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y5(t)},u=new kte(n,i,a,c);return Fte(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),kd(new jc("auth-internal",e=>{const r=Cf(e.getProvider("auth").getImmediate());return(n=>new tne(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Uo(s2,o2,rne(t)),Uo(s2,o2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ine=5*60,ane=hV("authIdTokenMaxAge")||ine;let l2=null;const sne=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>ane)return;const i=r==null?void 0:r.token;l2!==i&&(l2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function one(t=xV()){const e=uA(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Lte(t,{popupRedirectResolver:ene,persistence:[dre,Jte,T5]}),n=hV("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=sne(a.toString());Kte(r,s,()=>s(r.currentUser)),Gte(r,o=>s(o))}}const i=dV("auth");return i&&Vte(r,`http://${i}`),r}function lne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rte({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=sa("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",lne().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nne("Browser");const cne={apiKey:"AIzaSyDX0Hx6fX3med6vfTaQ1DTuSHpd49hk3CY",authDomain:"fincontrolepro.firebaseapp.com",projectId:"fincontrolepro",storageBucket:"fincontrolepro.firebasestorage.app",messagingSenderId:void 0,appId:"1:527980309442:web:0f730f269353847507845b"},M5=yV(cne),fc=one(M5),Ho=Vee(M5),bv=new cs,st={USERS:"users",BANKS:"banks",CREDIT_CARDS:"creditCards",CATEGORIES:"categories",INCOMES:"incomes",EXPENSES:"expenses",INVOICES:"invoices",CATEGORY_GOALS:"categoryGoals"},hc=t=>{var e,r,n;return(e=t.createdAt)!=null&&e.toDate&&(t.createdAt=t.createdAt.toDate()),(r=t.data)!=null&&r.toDate&&(t.data=t.data.toDate()),(n=t.dataVencimento)!=null&&n.toDate&&(t.dataVencimento=t.dataVencimento.toDate()),t};async function Js(t,e){const r=await nte(sp(Ho,t),{...e,createdAt:ate()}),n=await HA(r);return{id:r.id,...hc(n.data())}}async function eo(t,e){const r=cb(Ho,t,e),n=await HA(r);return n.exists()?{id:n.id,...hc(n.data())}:null}async function Pl(t,e){const r=sy(sp(Ho,t),oy("userId","==",e),aE("createdAt","desc"));return(await cy(r)).docs.map(i=>({id:i.id,...hc(i.data())}))}async function Il(t,e,r){const n=cb(Ho,t,e);await tte(n,r);const i=await HA(n);return{id:n.id,...hc(i.data())}}async function Ol(t,e){const r=cb(Ho,t,e);await rte(r)}class une{async createUser(e){return Js(st.USERS,e)}async getUser(e){return eo(st.USERS,e)}async getUserByEmail(e){const r=sy(sp(Ho,st.USERS),oy("email","==",e)),n=await cy(r);if(!n.empty){const i=n.docs[0];return{id:i.id,...hc(i.data())}}return null}async getBanksByUserId(e){return Pl(st.BANKS,e)}async getBank(e){return eo(st.BANKS,e)}async createBank(e){return Js(st.BANKS,e)}async updateBank(e,r){return Il(st.BANKS,e,r)}async deleteBank(e){return Ol(st.BANKS,e)}async getCreditCardsByUserId(e){return Pl(st.CREDIT_CARDS,e)}async getCreditCard(e){return eo(st.CREDIT_CARDS,e)}async createCreditCard(e){return Js(st.CREDIT_CARDS,e)}async updateCreditCard(e,r){return Il(st.CREDIT_CARDS,e,r)}async deleteCreditCard(e){return Ol(st.CREDIT_CARDS,e)}async getCategoriesByUserId(e){return Pl(st.CATEGORIES,e)}async getCategory(e){return eo(st.CATEGORIES,e)}async createCategory(e){return Js(st.CATEGORIES,e)}async updateCategory(e,r){return Il(st.CATEGORIES,e,r)}async deleteCategory(e){return Ol(st.CATEGORIES,e)}async getIncomesByUserId(e){return Pl(st.INCOMES,e)}async getIncome(e){return eo(st.INCOMES,e)}async createIncome(e){return Js(st.INCOMES,e)}async updateIncome(e,r){return Il(st.INCOMES,e,r)}async deleteIncome(e){return Ol(st.INCOMES,e)}async getInstallmentIncomesByGroupId(e){const r=sy(sp(Ho,st.INCOMES),oy("parcelaGroupId","==",e),aE("parcelaAtual","asc"));return(await cy(r)).docs.map(i=>({id:i.id,...hc(i.data())}))}async getExpensesByUserId(e){return Pl(st.EXPENSES,e)}async getExpense(e){return eo(st.EXPENSES,e)}async createExpense(e){return Js(st.EXPENSES,e)}async updateExpense(e,r){return Il(st.EXPENSES,e,r)}async deleteExpense(e){return Ol(st.EXPENSES,e)}async getInstallmentExpensesByGroupId(e){const r=sy(sp(Ho,st.EXPENSES),oy("parcelaGroupId","==",e),aE("parcelaAtual","asc"));return(await cy(r)).docs.map(i=>({id:i.id,...hc(i.data())}))}async getInvoicesByUserId(e){return Pl(st.INVOICES,e)}async getInvoice(e){return eo(st.INVOICES,e)}async createInvoice(e){return Js(st.INVOICES,e)}async updateInvoice(e,r){return Il(st.INVOICES,e,r)}async deleteInvoice(e){return Ol(st.INVOICES,e)}async getCategoryGoalsByUserId(e){return Pl(st.CATEGORY_GOALS,e)}async getCategoryGoal(e){return eo(st.CATEGORY_GOALS,e)}async createCategoryGoal(e){return Js(st.CATEGORY_GOALS,e)}async updateCategoryGoal(e,r){return Il(st.CATEGORY_GOALS,e,r)}async deleteCategoryGoal(e){return Ol(st.CATEGORY_GOALS,e)}}const St=new une;function Nn(){var t;return((t=fc.currentUser)==null?void 0:t.uid)||null}const bt={async createUser(t){const e=Nn();if(!e)throw new Error("User not authenticated");const r=await St.createUser({email:t.email,displayName:t.displayName||"Usurio"});try{await bt.initializeDefaultCategories(e)}catch(n){console.log("Categories may already exist:",n)}return r},async getUser(t){return St.getUser(t)},async getUserByEmail(t){return St.getUserByEmail(t)},async getBanks(){const t=Nn();if(!t)throw new Error("User not authenticated");console.log("Getting banks for user:",t);try{const e=await St.getBanksByUserId(t);return console.log("Banks retrieved:",e),e}catch(e){throw console.error("Error getting banks:",e),e}},async createBank(t){const e=Nn();if(!e)throw new Error("User not authenticated");console.log("Creating bank for user:",e,t);try{const r=await St.createBank({...t,userId:e});return console.log("Bank created successfully:",r),r}catch(r){throw console.error("Error creating bank:",r),r}},async updateBank(t,e){return St.updateBank(t,e)},async deleteBank(t){return St.deleteBank(t)},async getCategories(){const t=Nn();if(!t)throw new Error("User not authenticated");return St.getCategoriesByUserId(t)},async createCategory(t){const e=Nn();if(!e)throw new Error("User not authenticated");return St.createCategory({...t,userId:e})},async updateCategory(t,e){return St.updateCategory(t,e)},async deleteCategory(t){return St.deleteCategory(t)},async getIncomes(){const t=Nn();if(!t)throw new Error("User not authenticated");return St.getIncomesByUserId(t)},async createIncome(t){const e=Nn();if(!e)throw new Error("User not authenticated");return St.createIncome({...t,userId:e})},async updateIncome(t,e){return St.updateIncome(t,e)},async deleteIncome(t){return St.deleteIncome(t)},async getExpenses(){const t=Nn();if(!t)throw new Error("User not authenticated");return St.getExpensesByUserId(t)},async createExpense(t){const e=Nn();if(!e)throw new Error("User not authenticated");return St.createExpense({...t,userId:e})},async updateExpense(t,e){return St.updateExpense(t,e)},async deleteExpense(t){return St.deleteExpense(t)},async getCreditCards(){const t=Nn();if(!t)throw new Error("User not authenticated");console.log("Getting credit cards for user:",t);const e=await St.getCreditCardsByUserId(t);return console.log("Credit cards retrieved:",e),e},async createCreditCard(t){const e=Nn();if(!e)throw new Error("User not authenticated");console.log("Creating credit card for user:",e,t);try{const r=await St.createCreditCard({...t,userId:e});return console.log("Credit card created successfully:",r),r}catch(r){throw console.error("Error creating credit card:",r),r}},async updateCreditCard(t,e){return St.updateCreditCard(t,e)},async deleteCreditCard(t){return St.deleteCreditCard(t)},async getInvoices(){const t=Nn();if(!t)throw new Error("User not authenticated");return St.getInvoicesByUserId(t)},async createInvoice(t){const e=Nn();if(!e)throw new Error("User not authenticated");return St.createInvoice({...t,userId:e})},async updateInvoice(t,e){return St.updateInvoice(t,e)},async deleteInvoice(t){return St.deleteInvoice(t)},async getCategoryGoals(){const t=Nn();if(!t)throw new Error("User not authenticated");return St.getCategoryGoalsByUserId(t)},async createCategoryGoal(t){const e=Nn();if(!e)throw new Error("User not authenticated");return St.createCategoryGoal({...t,userId:e})},async updateCategoryGoal(t,e){return St.updateCategoryGoal(t,e)},async deleteCategoryGoal(t){return St.deleteCategoryGoal(t)},async bulkDeleteExpenses(t){const e=t.map(r=>this.deleteExpense(r));return await Promise.all(e),{success:!0}},async bulkDeleteIncomes(t){const e=t.map(r=>this.deleteIncome(r));return await Promise.all(e),{success:!0}},async initializeDefaultCategories(t){const r=[{nome:"Salrio",tipo:"receita",cor:"#22c55e",icone:"banknote"},{nome:"Freelance",tipo:"receita",cor:"#3b82f6",icone:"laptop"},{nome:"Investimentos",tipo:"receita",cor:"#8b5cf6",icone:"trending-up"},{nome:"Outros",tipo:"receita",cor:"#6b7280",icone:"plus"},{nome:"Alimentao",tipo:"despesa",cor:"#ef4444",icone:"utensils"},{nome:"Transporte",tipo:"despesa",cor:"#f59e0b",icone:"car"},{nome:"Moradia",tipo:"despesa",cor:"#06b6d4",icone:"home"},{nome:"Lazer",tipo:"despesa",cor:"#ec4899",icone:"gamepad-2"},{nome:"Sade",tipo:"despesa",cor:"#10b981",icone:"heart"},{nome:"Educao",tipo:"despesa",cor:"#6366f1",icone:"book"},{nome:"Outros",tipo:"despesa",cor:"#6b7280",icone:"more-horizontal"}].map(n=>St.createCategory({...n,userId:t}));return await Promise.all(r),{success:!0}}},dne=Object.freeze(Object.defineProperty({__proto__:null,apiClient:bt},Symbol.toStringTag,{value:"Module"})),Co=new HQ({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,queryFn:async({queryKey:t})=>{const[e,...r]=t;switch(e){case"/api/banks":return bt.getBanks();case"/api/categories":return bt.getCategories();case"/api/incomes":return bt.getIncomes();case"/api/expenses":return bt.getExpenses();case"/api/credit-cards":return bt.getCreditCards();case"/api/invoices":return bt.getInvoices();case"/api/category-goals":return bt.getCategoryGoals();default:throw new Error(`Unsupported endpoint: ${e}`)}}}}});async function Zt(t,e,r,n){switch(t.toLowerCase()){case"post":switch(e){case"/api/banks":return bt.createBank(r);case"/api/categories":return bt.createCategory(r);case"/api/incomes":return bt.createIncome(r);case"/api/expenses":return bt.createExpense(r);case"/api/credit-cards":return bt.createCreditCard(r);case"/api/invoices":return bt.createInvoice(r);case"/api/category-goals":return bt.createCategoryGoal(r);case"/api/expenses/bulk-delete":return bt.bulkDeleteExpenses(r.ids);case"/api/incomes/bulk-delete":return bt.bulkDeleteIncomes(r.ids);case"/api/auth/user":return bt.createUser(r);default:throw new Error(`Unsupported POST endpoint: ${e}`)}case"patch":case"put":const i=e.split("/").pop();switch(e.replace(`/${i}`,"")){case"/api/banks":return bt.updateBank(i,r);case"/api/categories":return bt.updateCategory(i,r);case"/api/incomes":return bt.updateIncome(i,r);case"/api/expenses":return bt.updateExpense(i,r);case"/api/credit-cards":return bt.updateCreditCard(i,r);case"/api/invoices":return bt.updateInvoice(i,r);case"/api/category-goals":return bt.updateCategoryGoal(i,r);default:throw new Error(`Unsupported PATCH endpoint: ${e}`)}case"delete":const s=e.split("/").pop();switch(e.replace(`/${s}`,"")){case"/api/banks":return bt.deleteBank(s);case"/api/categories":return bt.deleteCategory(s);case"/api/incomes":return bt.deleteIncome(s);case"/api/expenses":return bt.deleteExpense(s);case"/api/credit-cards":return bt.deleteCreditCard(s);case"/api/invoices":return bt.deleteInvoice(s);case"/api/category-goals":return bt.deleteCategoryGoal(s);default:throw new Error(`Unsupported DELETE endpoint: ${e}`)}default:throw new Error(`Unsupported method: ${t}`)}}const fne=1,hne=1e6;let V_=0;function pne(){return V_=(V_+1)%Number.MAX_SAFE_INTEGER,V_.toString()}const B_=new Map,c2=t=>{if(B_.has(t))return;const e=setTimeout(()=>{B_.delete(t),lp({type:"REMOVE_TOAST",toastId:t})},hne);B_.set(t,e)},mne=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,fne)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?c2(r):t.toasts.forEach(n=>{c2(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},py=[];let my={toasts:[]};function lp(t){my=mne(my,t),py.forEach(e=>{e(my)})}function gne({...t}){const e=pne(),r=i=>lp({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>lp({type:"DISMISS_TOAST",toastId:e});return lp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function vr(){const[t,e]=_.useState(my);return _.useEffect(()=>(py.push(e),()=>{const r=py.indexOf(e);r>-1&&py.splice(r,1)}),[t]),{...t,toast:gne,dismiss:r=>lp({type:"DISMISS_TOAST",toastId:r})}}function pe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function u2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yb(...t){return e=>{let r=!1;const n=t.map(i=>{const a=u2(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():u2(t[i],null)}}}}function ut(...t){return _.useCallback(yb(...t),t)}function vne(t,e){const r=_.createContext(e),n=a=>{const{children:s,...o}=a,c=_.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:s})};n.displayName=t+"Provider";function i(a){const s=_.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function cn(t,e=[]){let r=[];function n(a,s){const o=_.createContext(s),c=r.length;r=[...r,s];const u=f=>{var w;const{scope:h,children:m,...v}=f,g=((w=h==null?void 0:h[t])==null?void 0:w[c])||o,y=_.useMemo(()=>v,Object.values(v));return l.jsx(g.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||o,v=_.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>_.createContext(s));return function(o){const c=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[n,yne(i,...e)]}function yne(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...o,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Pc(t){const e=bne(t),r=_.forwardRef((n,i)=>{const{children:a,...s}=n,o=_.Children.toArray(a),c=o.find(wne);if(c){const u=c.props.children,d=o.map(f=>f===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...s,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return l.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var xne=Pc("Slot");function bne(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const s=Sne(i),o=_ne(a,i.props);return i.type!==_.Fragment&&(o.ref=n?yb(n,s):s),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var D5=Symbol("radix.slottable");function $5(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=D5,e}function wne(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===D5}function _ne(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{a(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Sne(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function xb(t){const e=t+"CollectionProvider",[r,n]=cn(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:y,children:w}=g,x=z.useRef(null),b=z.useRef(new Map).current;return l.jsx(i,{scope:y,itemMap:b,collectionRef:x,children:w})};s.displayName=e;const o=t+"CollectionSlot",c=Pc(o),u=z.forwardRef((g,y)=>{const{scope:w,children:x}=g,b=a(o,w),N=ut(y,b.collectionRef);return l.jsx(c,{ref:N,children:x})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Pc(d),m=z.forwardRef((g,y)=>{const{scope:w,children:x,...b}=g,N=z.useRef(null),T=ut(y,N),E=a(d,w);return z.useEffect(()=>(E.itemMap.set(N,{ref:N,...b}),()=>void E.itemMap.delete(N))),l.jsx(h,{[f]:"",ref:T,children:x})});m.displayName=d;function v(g){const y=a(t+"CollectionConsumer",g);return z.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((E,S)=>b.indexOf(E.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},v,n]}var Ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=Ene.reduce((t,e)=>{const r=Pc(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function iN(t,e){t&&Gc.flushSync(()=>t.dispatchEvent(e))}function on(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Tne(t,e=globalThis==null?void 0:globalThis.document){const r=on(t);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var jne="DismissableLayer",cE="dismissableLayer.update",Ane="dismissableLayer.pointerDownOutside",Nne="dismissableLayer.focusOutside",d2,L5=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pf=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...c}=t,u=_.useContext(L5),[d,f]=_.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),v=ut(e,S=>f(S)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),x=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=x>=w,T=Pne(S=>{const j=S.target,C=[...u.branches].some(I=>I.contains(j));!N||C||(i==null||i(S),s==null||s(S),S.defaultPrevented||o==null||o())},h),E=Ine(S=>{const j=S.target;[...u.branches].some(I=>I.contains(j))||(a==null||a(S),s==null||s(S),S.defaultPrevented||o==null||o())},h);return Tne(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&o&&(S.preventDefault(),o()))},h),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(d2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),f2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=d2)}},[d,h,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),f2())},[d,u]),_.useEffect(()=>{const S=()=>m({});return document.addEventListener(cE,S),()=>document.removeEventListener(cE,S)},[]),l.jsx(Me.div,{...c,ref:v,style:{pointerEvents:b?N?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,T.onPointerDownCapture)})});Pf.displayName=jne;var Cne="DismissableLayerBranch",F5=_.forwardRef((t,e)=>{const r=_.useContext(L5),n=_.useRef(null),i=ut(e,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(Me.div,{...t,ref:i})});F5.displayName=Cne;function Pne(t,e=globalThis==null?void 0:globalThis.document){const r=on(t),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let c=function(){V5(Ane,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Ine(t,e=globalThis==null?void 0:globalThis.document){const r=on(t),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&V5(Nne,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function f2(){const t=new CustomEvent(cE);document.dispatchEvent(t)}function V5(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?iN(i,a):i.dispatchEvent(a)}var One=Pf,kne=F5,$r=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Rne="Portal",mg=_.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=_.useState(!1);$r(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?tQ.createPortal(l.jsx(Me.div,{...n,ref:e}),s):null});mg.displayName=Rne;function Mne(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var xi=t=>{const{present:e,children:r}=t,n=Dne(e),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=ut(n.ref,$ne(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};xi.displayName="Presence";function Dne(t){const[e,r]=_.useState(),n=_.useRef({}),i=_.useRef(t),a=_.useRef("none"),s=t?"mounted":"unmounted",[o,c]=Mne(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=wv(n.current);a.current=o==="mounted"?u:"none"},[o]),$r(()=>{const u=n.current,d=i.current;if(d!==t){const h=a.current,m=wv(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),$r(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=wv(n.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(a.current=wv(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:_.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function wv(t){return(t==null?void 0:t.animationName)||"none"}function $ne(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ua({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=Lne({defaultProp:e,onChange:r}),a=t!==void 0,s=a?t:n,o=on(r),c=_.useCallback(u=>{if(a){const f=typeof u=="function"?u(t):u;f!==t&&o(f)}else i(u)},[a,t,i,o]);return[s,c]}function Lne({defaultProp:t,onChange:e}){const r=_.useState(t),[n]=r,i=_.useRef(n),a=on(e);return _.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var Fne="VisuallyHidden",gg=_.forwardRef((t,e)=>l.jsx(Me.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));gg.displayName=Fne;var Vne=gg,aN="ToastProvider",[sN,Bne,Une]=xb("Toast"),[B5,F4e]=cn("Toast",[Une]),[zne,bb]=B5(aN),U5=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,c]=_.useState(null),[u,d]=_.useState(0),f=_.useRef(!1),h=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${aN}\`. Expected non-empty \`string\`.`),l.jsx(sN.Provider,{scope:e,children:l.jsx(zne,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:_.useCallback(()=>d(m=>m+1),[]),onToastRemove:_.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};U5.displayName=aN;var z5="ToastViewport",qne=["F8"],uE="toast.viewportPause",dE="toast.viewportResume",q5=_.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=qne,label:i="Notifications ({hotkey})",...a}=t,s=bb(z5,r),o=Bne(r),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),f=_.useRef(null),h=ut(e,f,s.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;_.useEffect(()=>{const y=w=>{var b;n.length!==0&&n.every(N=>w[N]||w.code===N)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),_.useEffect(()=>{const y=c.current,w=f.current;if(v&&y&&w){const x=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(uE);w.dispatchEvent(E),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(dE);w.dispatchEvent(E),s.isClosePausedRef.current=!1}},N=E=>{!y.contains(E.relatedTarget)&&b()},T=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",x),y.addEventListener("focusout",N),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",T),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",T),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[v,s.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:y})=>{const x=o().map(b=>{const N=b.ref.current,T=[N,...nie(N)];return y==="forwards"?T:T.reverse()});return(y==="forwards"?x.reverse():x).flat()},[o]);return _.useEffect(()=>{const y=f.current;if(y){const w=x=>{var T,E,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const j=document.activeElement,C=x.shiftKey;if(x.target===y&&C){(T=u.current)==null||T.focus();return}const R=g({tabbingDirection:C?"backwards":"forwards"}),O=R.findIndex($=>$===j);U_(R.slice(O+1))?x.preventDefault():C?(E=u.current)==null||E.focus():(S=d.current)==null||S.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[o,g]),l.jsxs(kne,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx(fE,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});U_(y)}}),l.jsx(sN.Slot,{scope:r,children:l.jsx(Me.ol,{tabIndex:-1,...a,ref:h})}),v&&l.jsx(fE,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});U_(y)}})]})});q5.displayName=z5;var W5="ToastFocusProxy",fE=_.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=bb(W5,r);return l.jsx(gg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});fE.displayName=W5;var wb="Toast",Wne="toast.swipeStart",Hne="toast.swipeMove",Gne="toast.swipeCancel",Kne="toast.swipeEnd",H5=_.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=t,[o=!0,c]=Ua({prop:n,defaultProp:i,onChange:a});return l.jsx(xi,{present:r||o,children:l.jsx(Xne,{open:o,...s,ref:e,onClose:()=>c(!1),onPause:on(t.onPause),onResume:on(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});H5.displayName=wb;var[Qne,Yne]=B5(wb,{onClose(){}}),Xne=_.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,g=bb(wb,r),[y,w]=_.useState(null),x=ut(e,$=>w($)),b=_.useRef(null),N=_.useRef(null),T=i||g.duration,E=_.useRef(0),S=_.useRef(T),j=_.useRef(0),{onToastAdd:C,onToastRemove:I}=g,k=on(()=>{var D;(y==null?void 0:y.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),s()}),R=_.useCallback($=>{!$||$===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(k,$))},[k]);_.useEffect(()=>{const $=g.viewport;if($){const D=()=>{R(S.current),u==null||u()},V=()=>{const L=new Date().getTime()-E.current;S.current=S.current-L,window.clearTimeout(j.current),c==null||c()};return $.addEventListener(uE,V),$.addEventListener(dE,D),()=>{$.removeEventListener(uE,V),$.removeEventListener(dE,D)}}},[g.viewport,T,c,u,R]),_.useEffect(()=>{a&&!g.isClosePausedRef.current&&R(T)},[a,T,g.isClosePausedRef,R]),_.useEffect(()=>(C(),()=>I()),[C,I]);const O=_.useMemo(()=>y?J5(y):null,[y]);return g.viewport?l.jsxs(l.Fragment,{children:[O&&l.jsx(Zne,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),l.jsx(Qne,{scope:r,onClose:k,children:Gc.createPortal(l.jsx(sN.ItemSlot,{scope:r,children:l.jsx(One,{asChild:!0,onEscapeKeyDown:pe(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,$=>{$.key==="Escape"&&(o==null||o($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:pe(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:pe(t.onPointerMove,$=>{if(!b.current)return;const D=$.clientX-b.current.x,V=$.clientY-b.current.y,L=!!N.current,F=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=F?B(0,D):0,J=F?0:B(0,V),Y=$.pointerType==="touch"?10:2,oe={x:U,y:J},H={originalEvent:$,delta:oe};L?(N.current=oe,_v(Hne,f,H,{discrete:!1})):h2(oe,g.swipeDirection,Y)?(N.current=oe,_v(Wne,d,H,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(D)>Y||Math.abs(V)>Y)&&(b.current=null)}),onPointerUp:pe(t.onPointerUp,$=>{const D=N.current,V=$.target;if(V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),N.current=null,b.current=null,D){const L=$.currentTarget,F={originalEvent:$,delta:D};h2(D,g.swipeDirection,g.swipeThreshold)?_v(Kne,m,F,{discrete:!0}):_v(Gne,h,F,{discrete:!0}),L.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Zne=t=>{const{__scopeToast:e,children:r,...n}=t,i=bb(wb,e),[a,s]=_.useState(!1),[o,c]=_.useState(!1);return tie(()=>s(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(mg,{asChild:!0,children:l.jsx(gg,{...n,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},Jne="ToastTitle",G5=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Me.div,{...n,ref:e})});G5.displayName=Jne;var eie="ToastDescription",K5=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(Me.div,{...n,ref:e})});K5.displayName=eie;var Q5="ToastAction",Y5=_.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(Z5,{altText:r,asChild:!0,children:l.jsx(oN,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Q5}\`. Expected non-empty \`string\`.`),null)});Y5.displayName=Q5;var X5="ToastClose",oN=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=Yne(X5,r);return l.jsx(Z5,{asChild:!0,children:l.jsx(Me.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,i.onClose)})})});oN.displayName=X5;var Z5=_.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return l.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function J5(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),rie(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...J5(n))}}),e}function _v(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?iN(i,a):i.dispatchEvent(a)}var h2=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function tie(t=()=>{}){const e=on(t);$r(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function rie(t){return t.nodeType===t.ELEMENT_NODE}function nie(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function U_(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var iie=U5,e6=q5,t6=H5,r6=G5,n6=K5,i6=Y5,a6=oN;function s6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=s6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=s6(t))&&(n&&(n+=" "),n+=e);return n}const p2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,m2=it,_b=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return m2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=p2(d)||p2(f);return i[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...a,...o}[g]):{...a,...o}[g]===y})?[...u,f,h]:u},[]);return m2(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o6=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>_.createElement("svg",{ref:c,...sie,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:o6("lucide",i),...o},[...s.map(([u,d])=>_.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const r=_.forwardRef(({className:n,...i},a)=>_.createElement(oie,{ref:a,iconNode:e,className:o6(`lucide-${aie(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Re("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Re("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=Re("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=Re("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=Re("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Re("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=Re("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=Re("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Re("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Re("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=Re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=Re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=Re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=Re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=Re("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Re("University",[["circle",{cx:"12",cy:"10",r:"1",key:"1gnqs8"}],["path",{d:"M22 20V8h-4l-6-4-6 4H2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"1qj5sn"}],["path",{d:"M6 17v.01",key:"roodi6"}],["path",{d:"M6 13v.01",key:"67c122"}],["path",{d:"M18 17v.01",key:"12ktxm"}],["path",{d:"M18 13v.01",key:"tn1rt1"}],["path",{d:"M14 22v-5a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5",key:"11g7fi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=Re("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hN="-",Aie=t=>{const e=Cie(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(hN);return o[0]===""&&o.length!==1&&o.shift(),m6(o,e)||Nie(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},m6=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?m6(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(hN);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},E2=/^\[(.+)\]$/,Nie=t=>{if(E2.test(t)){const e=E2.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Cie=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Iie(Object.entries(t.classGroups),r).forEach(([a,s])=>{pE(s,n,a,e)}),n},pE=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:T2(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Pie(i)){pE(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{pE(s,T2(e,a),r,n)})})},T2=(t,e)=>{let r=t;return e.split(hN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Pie=t=>t.isThemeGetter,Iie=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[r,i]}):t,Oie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},g6="!",kie=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=o=>{const c=[];let u=0,d=0,f;for(let y=0;y<o.length;y++){let w=o[y];if(u===0){if(w===i&&(n||o.slice(y,y+a)===e)){c.push(o.slice(d,y)),d=y+a;continue}if(w==="/"){f=y;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?o:o.substring(d),m=h.startsWith(g6),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:s}):s},Rie=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Mie=t=>({cache:Oie(t.cacheSize),parseClassName:kie(t),...Aie(t)}),Die=/\s+/,$ie=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(Die);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,g=n(v?h.substring(0,m):h);if(!g){if(!v){o=u+(o.length>0?" "+o:o);continue}if(g=n(h),!g){o=u+(o.length>0?" "+o:o);continue}v=!1}const y=Rie(d).join(":"),w=f?y+g6:y,x=w+g;if(a.includes(x))continue;a.push(x);const b=i(g,v);for(let N=0;N<b.length;++N){const T=b[N];a.push(w+T)}o=u+(o.length>0?" "+o:o)}return o};function Lie(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=v6(e))&&(n&&(n+=" "),n+=r);return n}const v6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=v6(t[n]))&&(r&&(r+=" "),r+=e);return r};function Fie(t,...e){let r,n,i,a=s;function s(c){const u=e.reduce((d,f)=>f(d),t());return r=Mie(u),n=r.cache.get,i=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=$ie(c,r);return i(c,d),d}return function(){return a(Lie.apply(null,arguments))}}const Ht=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},y6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vie=/^\d+\/\d+$/,Bie=new Set(["px","full","screen"]),Uie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ja=t=>id(t)||Bie.has(t)||Vie.test(t),to=t=>If(t,"length",eae),id=t=>!!t&&!Number.isNaN(Number(t)),z_=t=>If(t,"number",id),gh=t=>!!t&&Number.isInteger(Number(t)),Gie=t=>t.endsWith("%")&&id(t.slice(0,-1)),rt=t=>y6.test(t),ro=t=>Uie.test(t),Kie=new Set(["length","size","percentage"]),Qie=t=>If(t,Kie,x6),Yie=t=>If(t,"position",x6),Xie=new Set(["image","url"]),Zie=t=>If(t,Xie,rae),Jie=t=>If(t,"",tae),vh=()=>!0,If=(t,e,r)=>{const n=y6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},eae=t=>zie.test(t)&&!qie.test(t),x6=()=>!1,tae=t=>Wie.test(t),rae=t=>Hie.test(t),nae=()=>{const t=Ht("colors"),e=Ht("spacing"),r=Ht("blur"),n=Ht("brightness"),i=Ht("borderColor"),a=Ht("borderRadius"),s=Ht("borderSpacing"),o=Ht("borderWidth"),c=Ht("contrast"),u=Ht("grayscale"),d=Ht("hueRotate"),f=Ht("invert"),h=Ht("gap"),m=Ht("gradientColorStops"),v=Ht("gradientColorStopPositions"),g=Ht("inset"),y=Ht("margin"),w=Ht("opacity"),x=Ht("padding"),b=Ht("saturate"),N=Ht("scale"),T=Ht("sepia"),E=Ht("skew"),S=Ht("space"),j=Ht("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",rt,e],R=()=>[rt,e],O=()=>["",Ja,to],$=()=>["auto",id,rt],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",rt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[id,rt];return{cacheSize:500,separator:":",theme:{colors:[vh],spacing:[Ja,to],blur:["none","",ro,rt],brightness:J(),borderColor:[t],borderRadius:["none","","full",ro,rt],borderSpacing:R(),borderWidth:O(),contrast:J(),grayscale:B(),hueRotate:J(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Gie,to],inset:k(),margin:k(),opacity:J(),padding:R(),saturate:J(),scale:J(),sepia:B(),skew:J(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[ro]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),rt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gh,rt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",gh,rt]}],"grid-cols":[{"grid-cols":[vh]}],"col-start-end":[{col:["auto",{span:["full",gh,rt]},rt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[vh]}],"row-start-end":[{row:["auto",{span:[gh,rt]},rt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[ro]},ro]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ro,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",z_]}],"font-family":[{font:[vh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",id,z_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ja,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ja,to]}],"underline-offset":[{"underline-offset":["auto",Ja,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),Yie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zie]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ja,rt]}],"outline-w":[{outline:[Ja,to]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ja,to]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ro,Jie]}],"shadow-color":[{shadow:[vh]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ro,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[gh,rt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ja,to,z_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iae=Fie(nae);function Se(...t){return iae(it(t))}const aae=iie,b6=_.forwardRef(({className:t,...e},r)=>l.jsx(e6,{ref:r,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));b6.displayName=e6.displayName;const sae=_b("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w6=_.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(t6,{ref:n,className:Se(sae({variant:e}),t),...r}));w6.displayName=t6.displayName;const oae=_.forwardRef(({className:t,...e},r)=>l.jsx(i6,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));oae.displayName=i6.displayName;const _6=_.forwardRef(({className:t,...e},r)=>l.jsx(a6,{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Eb,{className:"h-4 w-4"})}));_6.displayName=a6.displayName;const S6=_.forwardRef(({className:t,...e},r)=>l.jsx(r6,{ref:r,className:Se("text-sm font-semibold",t),...e}));S6.displayName=r6.displayName;const E6=_.forwardRef(({className:t,...e},r)=>l.jsx(n6,{ref:r,className:Se("text-sm opacity-90",t),...e}));E6.displayName=n6.displayName;function lae(){const{toasts:t}=vr();return l.jsxs(aae,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return l.jsxs(w6,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(S6,{children:r}),n&&l.jsx(E6,{children:n})]}),i,l.jsx(_6,{})]},e)}),l.jsx(b6,{})]})}var cae=O4[" useId ".trim().toString()]||(()=>{}),uae=0;function Ma(t){const[e,r]=_.useState(cae());return $r(()=>{r(n=>n??String(uae++))},[t]),e?`radix-${e}`:""}const dae=["top","right","bottom","left"],sl=Math.min,oi=Math.max,mx=Math.round,Sv=Math.floor,Da=t=>({x:t,y:t}),fae={left:"right",right:"left",bottom:"top",top:"bottom"},hae={start:"end",end:"start"};function mE(t,e,r){return oi(t,sl(e,r))}function ks(t,e){return typeof t=="function"?t(e):t}function Rs(t){return t.split("-")[0]}function Of(t){return t.split("-")[1]}function pN(t){return t==="x"?"y":"x"}function mN(t){return t==="y"?"height":"width"}function ol(t){return["top","bottom"].includes(Rs(t))?"y":"x"}function gN(t){return pN(ol(t))}function pae(t,e,r){r===void 0&&(r=!1);const n=Of(t),i=gN(t),a=mN(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=gx(s)),[s,gx(s)]}function mae(t){const e=gx(t);return[gE(t),e,gE(e)]}function gE(t){return t.replace(/start|end/g,e=>hae[e])}function gae(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function vae(t,e,r,n){const i=Of(t);let a=gae(Rs(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(gE)))),a}function gx(t){return t.replace(/left|right|bottom|top/g,e=>fae[e])}function yae(t){return{top:0,right:0,bottom:0,left:0,...t}}function T6(t){return typeof t!="number"?yae(t):{top:t,right:t,bottom:t,left:t}}function vx(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function j2(t,e,r){let{reference:n,floating:i}=t;const a=ol(e),s=gN(e),o=mN(s),c=Rs(e),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let m;switch(c){case"top":m={x:d,y:n.y-i.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-i.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Of(e)){case"start":m[s]-=h*(r&&u?-1:1);break;case"end":m[s]+=h*(r&&u?-1:1);break}return m}const xae=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=j2(u,n,c),h=n,m={},v=0;for(let g=0;g<o.length;g++){const{name:y,fn:w}=o[g],{x,y:b,data:N,reset:T}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});d=x??d,f=b??f,m={...m,[y]:{...m[y],...N}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:d,y:f}=j2(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Qp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ks(e,t),v=T6(m),y=o[h?f==="floating"?"reference":"floating":f],w=vx(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),N=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},T=vx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-T.top+v.top)/N.y,bottom:(T.bottom-w.bottom+v.bottom)/N.y,left:(w.left-T.left+v.left)/N.x,right:(T.right-w.right+v.right)/N.x}}const bae=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=ks(t,e)||{};if(u==null)return{};const f=T6(d),h={x:r,y:n},m=gN(i),v=mN(m),g=await s.getDimensions(u),y=m==="y",w=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",N=a.reference[v]+a.reference[m]-h[m]-a.floating[v],T=h[m]-a.reference[m],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let S=E?E[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(E)))&&(S=o.floating[b]||a.floating[v]);const j=N/2-T/2,C=S/2-g[v]/2-1,I=sl(f[w],C),k=sl(f[x],C),R=I,O=S-g[v]-k,$=S/2-g[v]/2+j,D=mE(R,$,O),V=!c.arrow&&Of(i)!=null&&$!==D&&a.reference[v]/2-($<R?I:k)-g[v]/2<0,L=V?$<R?$-R:$-O:0;return{[m]:h[m]+L,data:{[m]:D,centerOffset:$-D-L,...V&&{alignmentOffset:L}},reset:V}}}),wae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=ks(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=Rs(i),x=ol(o),b=Rs(o)===o,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=h||(b||!g?[gx(o)]:mae(o)),E=v!=="none";!h&&E&&T.push(...vae(o,g,v,N));const S=[o,...T],j=await Qp(e,y),C=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&C.push(j[w]),f){const $=pae(i,s,N);C.push(j[$[0]],j[$[1]])}if(I=[...I,{placement:i,overflows:C}],!C.every($=>$<=0)){var k,R;const $=(((k=a.flip)==null?void 0:k.index)||0)+1,D=S[$];if(D)return{data:{index:$,overflows:I},reset:{placement:D}};let V=(R=I.filter(L=>L.overflows[0]<=0).sort((L,F)=>L.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(m){case"bestFit":{var O;const L=(O=I.filter(F=>{if(E){const B=ol(F.placement);return B===x||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,U)=>B+U,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:O[0];L&&(V=L);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function A2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function N2(t){return dae.some(e=>t[e]>=0)}const _ae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=ks(t,e);switch(n){case"referenceHidden":{const a=await Qp(e,{...i,elementContext:"reference"}),s=A2(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:N2(s)}}}case"escaped":{const a=await Qp(e,{...i,altBoundary:!0}),s=A2(a,r.floating);return{data:{escapedOffsets:s,escaped:N2(s)}}}default:return{}}}}};async function Sae(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Rs(r),o=Of(r),c=ol(r)==="y",u=["left","top"].includes(s)?-1:1,d=a&&c?-1:1,f=ks(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Eae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,c=await Sae(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},Tae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...c}=ks(t,e),u={x:r,y:n},d=await Qp(e,c),f=ol(Rs(i)),h=pN(f);let m=u[h],v=u[f];if(a){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=m+d[y],b=m-d[w];m=mE(x,m,b)}if(s){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=v+d[y],b=v-d[w];v=mE(x,v,b)}const g=o.fn({...e,[h]:m,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:s}}}}}},jae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=ks(t,e),d={x:r,y:n},f=ol(i),h=pN(f);let m=d[h],v=d[f];const g=ks(o,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",N=a.reference[h]-a.floating[b]+y.mainAxis,T=a.reference[h]+a.reference[b]-y.mainAxis;m<N?m=N:m>T&&(m=T)}if(u){var w,x;const b=h==="y"?"width":"height",N=["top","left"].includes(Rs(i)),T=a.reference[f]-a.floating[b]+(N&&((w=s.offset)==null?void 0:w[f])||0)+(N?0:y.crossAxis),E=a.reference[f]+a.reference[b]+(N?0:((x=s.offset)==null?void 0:x[f])||0)-(N?y.crossAxis:0);v<T?v=T:v>E&&(v=E)}return{[h]:m,[f]:v}}}},Aae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:c=()=>{},...u}=ks(t,e),d=await Qp(e,u),f=Rs(i),h=Of(i),m=ol(i)==="y",{width:v,height:g}=a.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,y=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,b=v-d.left-d.right,N=sl(g-d[y],x),T=sl(v-d[w],b),E=!e.middlewareData.shift;let S=N,j=T;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(j=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=x),E&&!h){const I=oi(d.left,0),k=oi(d.right,0),R=oi(d.top,0),O=oi(d.bottom,0);m?j=v-2*(I!==0||k!==0?I+k:oi(d.left,d.right)):S=g-2*(R!==0||O!==0?R+O:oi(d.top,d.bottom))}await c({...e,availableWidth:j,availableHeight:S});const C=await s.getDimensions(o.floating);return v!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Tb(){return typeof window<"u"}function kf(t){return j6(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ga(t){var e;return(e=(j6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function j6(t){return Tb()?t instanceof Node||t instanceof hi(t).Node:!1}function da(t){return Tb()?t instanceof Element||t instanceof hi(t).Element:!1}function za(t){return Tb()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function C2(t){return!Tb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}function vg(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=fa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Nae(t){return["table","td","th"].includes(kf(t))}function jb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vN(t){const e=yN(),r=da(t)?fa(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Cae(t){let e=ll(t);for(;za(e)&&!Vd(e);){if(vN(e))return e;if(jb(e))return null;e=ll(e)}return null}function yN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vd(t){return["html","body","#document"].includes(kf(t))}function fa(t){return hi(t).getComputedStyle(t)}function Ab(t){return da(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ll(t){if(kf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||C2(t)&&t.host||Ga(t);return C2(e)?e.host:e}function A6(t){const e=ll(t);return Vd(e)?t.ownerDocument?t.ownerDocument.body:t.body:za(e)&&vg(e)?e:A6(e)}function Yp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=A6(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=hi(i);if(a){const o=vE(s);return e.concat(s,s.visualViewport||[],vg(i)?i:[],o&&r?Yp(o):[])}return e.concat(i,Yp(i,[],r))}function vE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function N6(t){const e=fa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=za(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=mx(r)!==a||mx(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function xN(t){return da(t)?t:t.contextElement}function ad(t){const e=xN(t);if(!za(e))return Da(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=N6(e);let s=(a?mx(r.width):r.width)/n,o=(a?mx(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Pae=Da(0);function C6(t){const e=hi(t);return!yN()||!e.visualViewport?Pae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Iae(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hi(t)?!1:e}function kc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=xN(t);let s=Da(1);e&&(n?da(n)&&(s=ad(n)):s=ad(t));const o=Iae(a,r,n)?C6(a):Da(0);let c=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=hi(a),m=n&&da(n)?hi(n):n;let v=h,g=vE(v);for(;g&&n&&m!==v;){const y=ad(g),w=g.getBoundingClientRect(),x=fa(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,N=w.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=N,v=hi(g),g=vE(v)}}return vx({width:d,height:f,x:c,y:u})}function bN(t,e){const r=Ab(t).scrollLeft;return e?e.left+r:kc(Ga(t)).left+r}function P6(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:bN(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function Oae(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=Ga(n),o=e?jb(e.floating):!1;if(n===s||o&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Da(1);const d=Da(0),f=za(n);if((f||!f&&!a)&&((kf(n)!=="body"||vg(s))&&(c=Ab(n)),za(n))){const m=kc(n);u=ad(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=s&&!f&&!a?P6(s,c,!0):Da(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function kae(t){return Array.from(t.getClientRects())}function Rae(t){const e=Ga(t),r=Ab(t),n=t.ownerDocument.body,i=oi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=oi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+bN(t);const o=-r.scrollTop;return fa(n).direction==="rtl"&&(s+=oi(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Mae(t,e){const r=hi(t),n=Ga(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;const u=yN();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:o,y:c}}function Dae(t,e){const r=kc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=za(t)?ad(t):Da(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:s,height:o,x:c,y:u}}function P2(t,e,r){let n;if(e==="viewport")n=Mae(t,r);else if(e==="document")n=Rae(Ga(t));else if(da(e))n=Dae(e,r);else{const i=C6(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vx(n)}function I6(t,e){const r=ll(t);return r===e||!da(r)||Vd(r)?!1:fa(r).position==="fixed"||I6(r,e)}function $ae(t,e){const r=e.get(t);if(r)return r;let n=Yp(t,[],!1).filter(o=>da(o)&&kf(o)!=="body"),i=null;const a=fa(t).position==="fixed";let s=a?ll(t):t;for(;da(s)&&!Vd(s);){const o=fa(s),c=vN(s);!c&&o.position==="fixed"&&(i=null),(a?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||vg(s)&&!c&&I6(t,s))?n=n.filter(d=>d!==s):i=o,s=ll(s)}return e.set(t,n),n}function Lae(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?jb(e)?[]:$ae(e,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,d)=>{const f=P2(e,d,i);return u.top=oi(f.top,u.top),u.right=sl(f.right,u.right),u.bottom=sl(f.bottom,u.bottom),u.left=oi(f.left,u.left),u},P2(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fae(t){const{width:e,height:r}=N6(t);return{width:e,height:r}}function Vae(t,e,r){const n=za(e),i=Ga(e),a=r==="fixed",s=kc(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const c=Da(0);if(n||!n&&!a)if((kf(e)!=="body"||vg(i))&&(o=Ab(e)),n){const h=kc(e,!0,a,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&(c.x=bN(i));const u=i&&!n&&!a?P6(i,o):Da(0),d=s.left+o.scrollLeft-c.x-u.x,f=s.top+o.scrollTop-c.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function q_(t){return fa(t).position==="static"}function I2(t,e){if(!za(t)||fa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ga(t)===r&&(r=r.ownerDocument.body),r}function O6(t,e){const r=hi(t);if(jb(t))return r;if(!za(t)){let i=ll(t);for(;i&&!Vd(i);){if(da(i)&&!q_(i))return i;i=ll(i)}return r}let n=I2(t,e);for(;n&&Nae(n)&&q_(n);)n=I2(n,e);return n&&Vd(n)&&q_(n)&&!vN(n)?r:n||Cae(t)||r}const Bae=async function(t){const e=this.getOffsetParent||O6,r=this.getDimensions,n=await r(t.floating);return{reference:Vae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Uae(t){return fa(t).direction==="rtl"}const zae={convertOffsetParentRelativeRectToViewportRelativeRect:Oae,getDocumentElement:Ga,getClippingRect:Lae,getOffsetParent:O6,getElementRects:Bae,getClientRects:kae,getDimensions:Fae,getScale:ad,isElement:da,isRTL:Uae};function k6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qae(t,e){let r=null,n;const i=Ga(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||e(),!h||!m)return;const v=Sv(f),g=Sv(i.clientWidth-(d+h)),y=Sv(i.clientHeight-(f+m)),w=Sv(d),b={rootMargin:-v+"px "+-g+"px "+-y+"px "+-w+"px",threshold:oi(0,sl(1,c))||1};let N=!0;function T(E){const S=E[0].intersectionRatio;if(S!==c){if(!N)return s();S?s(!1,S):n=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!k6(u,t.getBoundingClientRect())&&s(),N=!1}try{r=new IntersectionObserver(T,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(T,b)}r.observe(t)}return s(!0),a}function Wae(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=xN(t),d=i||a?[...u?Yp(u):[],...Yp(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const f=u&&o?qae(u,r):null;let h=-1,m=null;s&&(m=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),r()}),u&&!c&&m.observe(u),m.observe(e));let v,g=c?kc(t):null;c&&y();function y(){const w=kc(t);g&&!k6(g,w)&&r(),g=w,v=requestAnimationFrame(y)}return r(),()=>{var w;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const Hae=Eae,Gae=Tae,Kae=wae,Qae=Aae,Yae=_ae,O2=bae,Xae=jae,Zae=(t,e,r)=>{const n=new Map,i={platform:zae,...r},a={...i.platform,_c:n};return xae(t,e,{...i,platform:a})};var vy=typeof document<"u"?_.useLayoutEffect:_.useEffect;function yx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!yx(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!yx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function R6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function k2(t,e){const r=R6(t);return Math.round(e*r)/r}function W_(t){const e=_.useRef(t);return vy(()=>{e.current=t}),e}function Jae(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,f]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=_.useState(n);yx(h,n)||m(n);const[v,g]=_.useState(null),[y,w]=_.useState(null),x=_.useCallback(F=>{F!==E.current&&(E.current=F,g(F))},[]),b=_.useCallback(F=>{F!==S.current&&(S.current=F,w(F))},[]),N=a||v,T=s||y,E=_.useRef(null),S=_.useRef(null),j=_.useRef(d),C=c!=null,I=W_(c),k=W_(i),R=W_(u),O=_.useCallback(()=>{if(!E.current||!S.current)return;const F={placement:e,strategy:r,middleware:h};k.current&&(F.platform=k.current),Zae(E.current,S.current,F).then(B=>{const U={...B,isPositioned:R.current!==!1};$.current&&!yx(j.current,U)&&(j.current=U,Gc.flushSync(()=>{f(U)}))})},[h,e,r,k,R]);vy(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const $=_.useRef(!1);vy(()=>($.current=!0,()=>{$.current=!1}),[]),vy(()=>{if(N&&(E.current=N),T&&(S.current=T),N&&T){if(I.current)return I.current(N,T,O);O()}},[N,T,O,I,C]);const D=_.useMemo(()=>({reference:E,floating:S,setReference:x,setFloating:b}),[x,b]),V=_.useMemo(()=>({reference:N,floating:T}),[N,T]),L=_.useMemo(()=>{const F={position:r,left:0,top:0};if(!V.floating)return F;const B=k2(V.floating,d.x),U=k2(V.floating,d.y);return o?{...F,transform:"translate("+B+"px, "+U+"px)",...R6(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:U}},[r,o,V.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:O,refs:D,elements:V,floatingStyles:L}),[d,O,D,V,L])}const ese=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?O2({element:n.current,padding:i}).fn(r):{}:n?O2({element:n,padding:i}).fn(r):{}}}},tse=(t,e)=>({...Hae(t),options:[t,e]}),rse=(t,e)=>({...Gae(t),options:[t,e]}),nse=(t,e)=>({...Xae(t),options:[t,e]}),ise=(t,e)=>({...Kae(t),options:[t,e]}),ase=(t,e)=>({...Qae(t),options:[t,e]}),sse=(t,e)=>({...Yae(t),options:[t,e]}),ose=(t,e)=>({...ese(t),options:[t,e]});var lse="Arrow",M6=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return l.jsx(Me.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});M6.displayName=lse;var cse=M6;function Nb(t){const[e,r]=_.useState(void 0);return $r(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wN="Popper",[D6,Rf]=cn(wN),[use,$6]=D6(wN),L6=t=>{const{__scopePopper:e,children:r}=t,[n,i]=_.useState(null);return l.jsx(use,{scope:e,anchor:n,onAnchorChange:i,children:r})};L6.displayName=wN;var F6="PopperAnchor",V6=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=$6(F6,r),s=_.useRef(null),o=ut(e,s);return _.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:l.jsx(Me.div,{...i,ref:o})});V6.displayName=F6;var _N="PopperContent",[dse,fse]=D6(_N),B6=_.forwardRef((t,e)=>{var ue,$e,ie,ve,xe,X;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,y=$6(_N,r),[w,x]=_.useState(null),b=ut(e,Ze=>x(Ze)),[N,T]=_.useState(null),E=Nb(N),S=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,C=n+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],R=k.length>0,O={padding:I,boundary:k.filter(pse),altBoundary:R},{refs:$,floatingStyles:D,placement:V,isPositioned:L,middlewareData:F}=Jae({strategy:"fixed",placement:C,whileElementsMounted:(...Ze)=>Wae(...Ze,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[tse({mainAxis:i+j,alignmentAxis:s}),c&&rse({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nse():void 0,...O}),c&&ise({...O}),ase({...O,apply:({elements:Ze,rects:Le,availableWidth:Tt,availableHeight:jt})=>{const{width:qt,height:Un}=Le.reference,un=Ze.floating.style;un.setProperty("--radix-popper-available-width",`${Tt}px`),un.setProperty("--radix-popper-available-height",`${jt}px`),un.setProperty("--radix-popper-anchor-width",`${qt}px`),un.setProperty("--radix-popper-anchor-height",`${Un}px`)}}),N&&ose({element:N,padding:o}),mse({arrowWidth:S,arrowHeight:j}),h&&sse({strategy:"referenceHidden",...O})]}),[B,U]=q6(V),J=on(v);$r(()=>{L&&(J==null||J())},[L,J]);const Y=(ue=F.arrow)==null?void 0:ue.x,oe=($e=F.arrow)==null?void 0:$e.y,H=((ie=F.arrow)==null?void 0:ie.centerOffset)!==0,[Z,ye]=_.useState();return $r(()=>{w&&ye(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:L?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(ve=F.transformOrigin)==null?void 0:ve.x,(xe=F.transformOrigin)==null?void 0:xe.y].join(" "),...((X=F.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(dse,{scope:r,placedSide:B,onArrowChange:T,arrowX:Y,arrowY:oe,shouldHideArrow:H,children:l.jsx(Me.div,{"data-side":B,"data-align":U,...g,ref:b,style:{...g.style,animation:L?void 0:"none"}})})})});B6.displayName=_N;var U6="PopperArrow",hse={top:"bottom",right:"left",bottom:"top",left:"right"},z6=_.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=fse(U6,n),s=hse[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(cse,{...i,ref:r,style:{...i.style,display:"block"}})})});z6.displayName=U6;function pse(t){return t!==null}var mse=t=>({name:"transformOrigin",options:t,fn(e){var y,w,x;const{placement:r,rects:n,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,o=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,d]=q6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,m=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=s?f:`${h}px`,g=`${-c}px`):u==="top"?(v=s?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=s?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=s?f:`${m}px`),{data:{x:v,y:g}}}});function q6(t){const[e,r="center"]=t.split("-");return[e,r]}var W6=L6,SN=V6,EN=B6,TN=z6,[Cb,V4e]=cn("Tooltip",[Rf]),jN=Rf(),H6="TooltipProvider",gse=700,R2="tooltip.open",[vse,G6]=Cb(H6),K6=t=>{const{__scopeTooltip:e,delayDuration:r=gse,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=_.useRef(!0),o=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(vse,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:_.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};K6.displayName=H6;var Q6="Tooltip",[B4e,Pb]=Cb(Q6),yE="TooltipTrigger",yse=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Pb(yE,r),a=G6(yE,r),s=jN(r),o=_.useRef(null),c=ut(e,o,i.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(SN,{asChild:!0,...s,children:l.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});yse.displayName=yE;var xse="TooltipPortal",[U4e,bse]=Cb(xse,{forceMount:void 0}),Bd="TooltipContent",Y6=_.forwardRef((t,e)=>{const r=bse(Bd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=Pb(Bd,t.__scopeTooltip);return l.jsx(xi,{present:n||s.open,children:s.disableHoverableContent?l.jsx(X6,{side:i,...a,ref:e}):l.jsx(wse,{side:i,...a,ref:e})})}),wse=_.forwardRef((t,e)=>{const r=Pb(Bd,t.__scopeTooltip),n=G6(Bd,t.__scopeTooltip),i=_.useRef(null),a=ut(e,i),[s,o]=_.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=_.useCallback(()=>{o(null),f(!1)},[f]),m=_.useCallback((v,g)=>{const y=v.currentTarget,w={x:v.clientX,y:v.clientY},x=jse(w,y.getBoundingClientRect()),b=Ase(w,x),N=Nse(g.getBoundingClientRect()),T=Pse([...b,...N]);o(T),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(c&&d){const v=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),_.useEffect(()=>{if(s){const v=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Cse(w,s);x?h():b&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,s,u,h]),l.jsx(X6,{...t,ref:a})}),[_se,Sse]=Cb(Q6,{isInside:!1}),Ese=$5("TooltipContent"),X6=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,c=Pb(Bd,r),u=jN(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(R2,d),()=>document.removeEventListener(R2,d)),[d]),_.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(EN,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Ese,{children:n}),l.jsx(_se,{scope:r,isInside:!0,children:l.jsx(Vne,{id:c.contentId,role:"tooltip",children:i||n})})]})})});Y6.displayName=Bd;var Z6="TooltipArrow",Tse=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=jN(r);return Sse(Z6,r).isInside?null:l.jsx(TN,{...i,...n,ref:e})});Tse.displayName=Z6;function jse(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ase(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Nse(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Cse(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,c=e[a].y,u=e[s].x,d=e[s].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(i=!i)}return i}function Pse(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Ise(e)}function Ise(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Ose=K6,J6=Y6;const kse=Ose,Rse=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(J6,{ref:n,sideOffset:e,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));Rse.displayName=J6.displayName;const eB=_.createContext(void 0);function Mse({children:t}){const[e,r]=_.useState(()=>{const a=localStorage.getItem("fincontrole-theme");return a&&["light","dark"].includes(a)?a:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});_.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("fincontrole-theme",e)},[e]);const i={theme:e,setTheme:r,toggleTheme:()=>{r(e==="light"?"dark":"light")}};return l.jsx(eB.Provider,{value:i,children:t})}function tB(){const t=_.useContext(eB);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const Dse="modulepreload",$se=function(t){return"/"+t},M2={},Lse=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=$se(c),c in M2)return;M2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Dse,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Fse=async()=>{try{if(bv.setCustomParameters({prompt:"select_account"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return await t2(fc,bv),null;try{return(await gre(fc,bv)).user}catch(e){if(e.code==="auth/popup-blocked"||e.code==="auth/popup-closed-by-user"||e.code==="auth/cancelled-popup-request")return console.log("Popup failed, trying redirect..."),await t2(fc,bv),null;throw e}}catch(t){throw console.error("Error signing in with Google:",t),t.code==="auth/popup-closed-by-user"?new Error("Login cancelado pelo usurio"):t.code==="auth/popup-blocked"?new Error("Popup bloqueado pelo navegador"):t.code==="auth/unauthorized-domain"?new Error("Domnio no autorizado no Firebase. Adicione este domnio aos domnios autorizados no Firebase Console."):t.message.includes("redirect_uri_mismatch")?new Error("Erro 400: Domnio no autorizado. Adicione este domnio ao Firebase Console em Authentication > Settings > Authorized domains"):new Error("Erro ao fazer login. Tente novamente.")}},rB=async()=>{try{await Yte(fc)}catch(t){throw console.error("Error signing out:",t),t}},Vse=t=>Qte(fc,async e=>{if(!e)try{const r=await Sre(fc);r&&(e=r.user)}catch(r){console.error("Error getting redirect result:",r)}if(e){localStorage.setItem("firebase-user",JSON.stringify({uid:e.uid,email:e.email,displayName:e.displayName}));try{const{apiClient:r}=await Lse(async()=>{const{apiClient:n}=await Promise.resolve().then(()=>dne);return{apiClient:n}},void 0);await r.createUser({email:e.email,displayName:e.displayName||void 0})}catch(r){console.error("Error creating user:",r)}}else localStorage.removeItem("firebase-user");t(e)}),Fr=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(!0);return _.useEffect(()=>{const i=Vse(a=>{e(a),n(!1)});return()=>i()},[]),{user:t,loading:r}},Ie=_.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ie.displayName="Card";const vt=_.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",t),...e}));vt.displayName="CardHeader";const yt=_.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",t),...e}));yt.displayName="CardTitle";const cp=_.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));cp.displayName="CardDescription";const Oe=_.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Se("p-6 pt-0",t),...e}));Oe.displayName="CardContent";const Bse=_.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",t),...e}));Bse.displayName="CardFooter";const AN=_b("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-200 text-black hover:bg-gray-300 dark:bg-blue-600 dark:text-white dark:hover:bg-blue-700",destructive:"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-600 dark:text-white dark:hover:bg-red-700",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700",secondary:"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-600 dark:text-white dark:hover:bg-green-700",ghost:"text-gray-900 hover:bg-gray-100 dark:text-gray-100 dark:hover:bg-gray-800",link:"text-blue-600 underline-offset-4 hover:underline dark:text-blue-400"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?xne:"button";return l.jsx(s,{className:Se(AN({variant:e,size:r,className:t})),ref:a,...i})});le.displayName="Button";function Use(){const{user:t,loading:e}=Fr(),[,r]=WF(),[n,i]=_.useState(!1),{toast:a}=vr();_.useEffect(()=>{t&&r("/")},[t,r]);const s=async()=>{i(!0);try{await Fse()}catch(o){console.error("Error signing in:",o),a({title:"Erro no Login",description:o.message||"Erro ao fazer login. Tente novamente.",variant:"destructive"})}finally{i(!1)}};return e?l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:l.jsxs(Ie,{className:"w-full max-w-md mx-4",children:[l.jsxs(vt,{className:"text-center",children:[l.jsx(yt,{className:"text-2xl font-bold text-foreground",children:"FinControle"}),l.jsx(cp,{children:"Controle suas finanas de forma simples e eficiente"})]}),l.jsxs(Oe,{className:"space-y-4",children:[l.jsx(le,{onClick:s,className:"w-full",size:"lg",disabled:n,children:n?"Conectando...":"Entrar com Google"}),l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Acesse sua conta para comear a gerenciar suas finanas"}),l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Se o popup no funcionar, tente recarregar a pgina ou usar outro navegador"})]})]})})}function nB(){const{theme:t,toggleTheme:e}=tB();return l.jsx(le,{variant:"ghost",size:"icon",onClick:e,className:"h-9 w-9","aria-label":t==="light"?"Ativar modo escuro":"Ativar modo claro",children:t==="light"?l.jsx(wie,{className:"h-4 w-4 transition-all"}):l.jsx(Eie,{className:"h-4 w-4 transition-all"})})}const zse=[{name:"Dashboard",href:"/",icon:fie},{name:"Bancos",href:"/banks",icon:px},{name:"Receitas",href:"/income",icon:Ir},{name:"Gastos",href:"/expenses",icon:nr},{name:"Cartes",href:"/credit-cards",icon:Tr},{name:"Relatrios",href:"/reports",icon:die},{name:"Configuraes",href:"/settings",icon:h6}];function Xc({isOpen:t,onClose:e}){const[r]=WF(),{user:n}=Fr(),i=async()=>{try{await rB()}catch(a){console.error("Error signing out:",a)}};return l.jsxs(l.Fragment,{children:[t&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e}),l.jsx("aside",{className:Se("fixed inset-y-0 left-0 z-50 w-64 bg-background border-r border-border shadow-lg transform transition-transform duration-200 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[l.jsx("h2",{className:"text-xl font-bold text-foreground",children:"FinControle"}),l.jsx("button",{onClick:e,className:"lg:hidden text-muted-foreground hover:text-foreground p-1 hover:bg-accent rounded-md transition-colors",children:l.jsx(Eb,{size:20})})]}),l.jsx("nav",{className:"flex-1 mt-6",children:l.jsx("div",{className:"px-3",children:l.jsx("ul",{className:"space-y-2",children:zse.map(a=>{const s=r===a.href;return l.jsx("li",{children:l.jsxs(GF,{href:a.href,className:Se("flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",s?"bg-primary text-primary-foreground":"text-foreground hover:bg-accent"),onClick:e,children:[l.jsx(a.icon,{className:"w-5 h-5 mr-3"}),a.name]})},a.name)})})})}),l.jsxs("div",{className:"p-4 border-t border-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(nB,{}),l.jsxs(le,{variant:"ghost",size:"sm",onClick:i,className:"text-muted-foreground hover:text-foreground",children:[l.jsx(xie,{className:"w-4 h-4 mr-2"}),"Sair"]})]}),n&&l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:n.email})]})]})})]})}function Zc({onMenuToggle:t}){Fr();const e=async()=>{try{await rB()}catch(r){console.error("Error signing out:",r)}};return l.jsx("header",{className:"bg-background border-b border-border fixed top-0 left-0 right-0 z-50 lg:hidden",children:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsx("button",{onClick:t,className:"text-foreground p-1 hover:bg-accent rounded-md transition-colors",children:l.jsx(bie,{size:24})}),l.jsx("h1",{className:"text-xl font-bold text-foreground",children:"FinControle"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(nB,{}),l.jsx("button",{onClick:e,className:"text-foreground p-1 hover:bg-accent rounded-md transition-colors","aria-label":"Sair da conta",children:l.jsx(pie,{size:24})})]})]})})}function qse({totalBalance:t,monthlyIncome:e,monthlyExpenses:r,openInvoices:n}){const i=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),a=[{title:"Saldo Total",value:i(t),icon:jie,color:"bg-secondary",trend:"+2.5%",trendLabel:"vs ms anterior"},{title:"Receitas do Ms",value:i(e),icon:Ir,color:"bg-secondary",trend:"+5.2%",trendLabel:"vs ms anterior"},{title:"Gastos do Ms",value:i(r),icon:nr,color:"bg-red-500",trend:"+1.8%",trendLabel:"vs ms anterior"},{title:"Faturas em Aberto",value:i(n),icon:Tr,color:"bg-yellow-500",trend:"Vence em 5 dias",trendLabel:""}];return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:a.map((s,o)=>l.jsx(Ie,{className:"bg-card shadow-sm",children:l.jsxs(Oe,{className:"p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground truncate",children:s.title}),l.jsx("p",{className:"text-lg sm:text-2xl font-bold text-foreground mt-1 truncate",children:s.value})]}),l.jsx("div",{className:`${s.color} bg-opacity-10 p-2 sm:p-3 rounded-lg flex-shrink-0 ml-2`,children:l.jsx(s.icon,{className:`${s.color.replace("bg-","text-")} w-4 h-4 sm:w-5 sm:h-5`})})]}),l.jsxs("div",{className:"mt-3 sm:mt-4",children:[l.jsxs("span",{className:`${s.color.replace("bg-","text-")} text-xs sm:text-sm font-medium`,children:[l.jsx(Ir,{className:"inline w-3 h-3 mr-1"}),s.trend]}),s.trendLabel&&l.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm ml-2 block sm:inline",children:s.trendLabel})]})]})},o))})}function Wse({transactions:t}){const e=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),r=i=>{switch(i){case"income":return Ir;case"expense":return nr;case"credit":return Tr;default:return Sie}},n=i=>{switch(i){case"income":return"text-secondary bg-secondary";case"expense":return"text-red-500 bg-red-500";case"credit":return"text-yellow-500 bg-yellow-500";default:return"text-red-500 bg-red-500"}};return l.jsxs(Ie,{className:"bg-card shadow-sm",children:[l.jsx(vt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(yt,{className:"text-lg font-semibold text-card-foreground",children:"Transaes Recentes"}),l.jsx(GF,{href:"/expenses",className:"text-primary text-sm font-medium hover:text-primary/80",children:"Ver todas"})]})}),l.jsx(Oe,{children:l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma transao encontrada"}):t.map(i=>{const a=r(i.type),s=n(i.type);return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`${s} bg-opacity-10 p-2 rounded-lg mr-3`,children:l.jsx(a,{className:`${s.split(" ")[0]} w-4 h-4`})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:i.description}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i.date})]})]}),l.jsxs("span",{className:`font-semibold ${i.type==="income"?"text-secondary":"text-red-500"}`,children:[i.type==="income"?"+":"-",e(i.amount)]})]},i.id)})})})]})}function Hse({banks:t,onAddBank:e}){const r=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n);return l.jsxs(Ie,{className:"bg-card shadow-sm",children:[l.jsx(vt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(yt,{className:"text-lg font-semibold text-card-foreground",children:"Contas Bancrias"}),l.jsxs(le,{onClick:e,variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80",children:[l.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),l.jsx(Oe,{children:l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma conta bancria cadastrada"}):t.map(n=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:n.cor},children:l.jsx(px,{className:"text-white w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:n.nome}),l.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:n.tipo})]})]}),l.jsx("span",{className:"text-foreground font-semibold",children:r(n.saldo)})]},n.id))})})]})}function Gse({creditCards:t,onAddCreditCard:e,expenses:r=[],invoices:n=[],selectedMonth:i}){const a=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),s=d=>{switch(d){case"visa":return"bg-blue-600";case"mastercard":return"bg-red-600";case"elo":return"bg-yellow-600";case"american_express":return"bg-green-600";default:return"bg-gray-600"}},o=d=>n.filter(h=>h.cartaoId===d&&!h.pago).reduce((h,m)=>h+m.valorTotal,0),c=d=>{const f=i||(()=>{const m=new Date;return`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}`})();return r.filter(m=>{if(m.cartaoId!==d||m.metodoPagamento!=="credito")return!1;const v=new Date(m.data),[g,y]=f.split("-");return v.getFullYear()===parseInt(g)&&v.getMonth()===parseInt(y)-1}).reduce((m,v)=>m+v.valor,0)},u=d=>{const f=i||(()=>{const h=new Date;return`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`})();return n.find(h=>h.cartaoId===d&&h.mesAno===f)};return l.jsxs(Ie,{className:"bg-card shadow-sm",children:[l.jsx(vt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(yt,{className:"text-lg font-semibold text-foreground",children:"Cartes de Crdito"}),l.jsxs(le,{onClick:e,variant:"ghost",size:"sm",className:"text-primary hover:text-blue-600",children:[l.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),l.jsx(Oe,{children:l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhum carto de crdito cadastrado"}):t.map(d=>{const f=o(d.id),h=d.limite-f,m=f/d.limite*100,v=u(d.id);return l.jsxs("div",{className:"p-3 sm:p-4 border border-border rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[l.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 ${s(d.bandeira)} rounded-lg flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0`,children:l.jsx(Tr,{className:"text-white w-4 h-4 sm:w-5 sm:h-5"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base truncate",children:d.nome||`${d.bandeira.toUpperCase()} **** ${d.final}`}),l.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Vence dia ",d.vencimento]})]})]}),l.jsxs("div",{className:"text-right ml-2 flex-shrink-0",children:[l.jsx("span",{className:"text-red-500 font-semibold text-sm sm:text-base",children:a(c(d.id))}),l.jsxs("p",{className:"text-xs text-muted-foreground hidden sm:block",children:["Disponvel: ",a(h)]})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-muted-foreground",children:"Limite utilizado"}),l.jsxs("span",{className:"text-foreground font-medium",children:[a(f)," / ",a(d.limite)]})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2 mb-3",children:l.jsx("div",{className:`h-2 rounded-full ${m>70?"bg-red-500":m>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(m,100)}%`}})}),v&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-2 border-t border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[l.jsx(Yl,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("p",{className:"text-xs sm:text-sm font-medium text-foreground truncate",children:["Fatura: ",a(v.valorTotal)]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vence: ",new Date(v.dataVencimento).toLocaleDateString("pt-BR")]})]})]}),!v.pago&&l.jsx(le,{size:"sm",className:"bg-secondary hover:bg-secondary/80 text-white text-xs sm:text-sm px-3 py-1 sm:px-4 sm:py-2 w-full sm:w-auto",onClick:()=>{console.log("Paying invoice:",v.id)},children:"Pagar Fatura"})]})]})]},d.id)})})})]})}const Kse=_b("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nt({className:t,variant:e,...r}){return l.jsx("div",{className:Se(Kse({variant:e}),t),...r})}function Qse({bills:t}){const e=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),r=s=>{switch(s){case"invoice":return Tr;case"rent":return yie;case"financing":return uie;default:return Tr}},n=s=>{switch(s){case"invoice":return"text-yellow-500";case"rent":return"text-primary";case"financing":return"text-primary";default:return"text-muted-foreground"}},i=s=>{switch(s){case"overdue":return"destructive";case"due_soon":return"secondary";case"ok":return"default";default:return"default"}},a=s=>{switch(s){case"overdue":return"Vencido";case"due_soon":return"Vence em 5 dias";case"ok":return"Ok";default:return"Ok"}};return l.jsxs(Ie,{className:"bg-card shadow-sm",children:[l.jsx(vt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(yt,{className:"text-lg font-semibold text-card-foreground",children:"Prximos Vencimentos"}),l.jsx("button",{className:"text-primary text-sm font-medium hover:text-primary/80",children:"Ver todos"})]})}),l.jsx(Oe,{children:l.jsx("div",{className:"overflow-x-auto",children:t.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhum vencimento prximo"}):l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-border",children:[l.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Descrio"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Valor"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Vencimento"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:t.map(s=>{const o=r(s.type),c=n(s.type);return l.jsxs("tr",{children:[l.jsx("td",{className:"py-3 px-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(o,{className:`${c} mr-2 w-4 h-4`}),s.description]})}),l.jsx("td",{className:"py-3 px-4 font-semibold text-red-500",children:e(s.amount)}),l.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:s.dueDate}),l.jsx("td",{className:"py-3 px-4",children:l.jsx(nt,{variant:i(s.status),children:a(s.status)})})]},s.id)})})]})})})]})}var H_="focusScope.autoFocusOnMount",G_="focusScope.autoFocusOnUnmount",D2={bubbles:!1,cancelable:!0},Yse="FocusScope",Ib=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,c]=_.useState(null),u=on(i),d=on(a),f=_.useRef(null),h=ut(e,g=>c(g)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let g=function(b){if(m.paused||!o)return;const N=b.target;o.contains(N)?f.current=N:io(f.current,{select:!0})},y=function(b){if(m.paused||!o)return;const N=b.relatedTarget;N!==null&&(o.contains(N)||io(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&io(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(w);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[n,o,m.paused]),_.useEffect(()=>{if(o){L2.add(m);const g=document.activeElement;if(!o.contains(g)){const w=new CustomEvent(H_,D2);o.addEventListener(H_,u),o.dispatchEvent(w),w.defaultPrevented||(Xse(roe(iB(o)),{select:!0}),document.activeElement===g&&io(o))}return()=>{o.removeEventListener(H_,u),setTimeout(()=>{const w=new CustomEvent(G_,D2);o.addEventListener(G_,d),o.dispatchEvent(w),w.defaultPrevented||io(g??document.body,{select:!0}),o.removeEventListener(G_,d),L2.remove(m)},0)}}},[o,u,d,m]);const v=_.useCallback(g=>{if(!r&&!n||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(y&&w){const x=g.currentTarget,[b,N]=Zse(x);b&&N?!g.shiftKey&&w===N?(g.preventDefault(),r&&io(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),r&&io(N,{select:!0})):w===x&&g.preventDefault()}},[r,n,m.paused]);return l.jsx(Me.div,{tabIndex:-1,...s,ref:h,onKeyDown:v})});Ib.displayName=Yse;function Xse(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(io(n,{select:e}),document.activeElement!==r)return}function Zse(t){const e=iB(t),r=$2(e,t),n=$2(e.reverse(),t);return[r,n]}function iB(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function $2(t,e){for(const r of t)if(!Jse(r,{upTo:e}))return r}function Jse(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eoe(t){return t instanceof HTMLInputElement&&"select"in t}function io(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&eoe(t)&&e&&t.select()}}var L2=toe();function toe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=F2(t,e),t.unshift(e)},remove(e){var r;t=F2(t,e),(r=t[0])==null||r.resume()}}}function F2(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function roe(t){return t.filter(e=>e.tagName!=="A")}var K_=0;function NN(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??V2()),document.body.insertAdjacentElement("beforeend",t[1]??V2()),K_++,()=>{K_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),K_--}},[])}function V2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yy="right-scroll-bar-position",xy="width-before-scroll-bar",noe="with-scroll-bars-hidden",ioe="--removed-body-scroll-bar-size";function Q_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aoe(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var soe=typeof window<"u"?_.useLayoutEffect:_.useEffect,B2=new WeakMap;function ooe(t,e){var r=aoe(null,function(n){return t.forEach(function(i){return Q_(i,n)})});return soe(function(){var n=B2.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(o){a.has(o)||Q_(o,null)}),a.forEach(function(o){i.has(o)||Q_(o,s)})}B2.set(r,t)},[t]),r}function loe(t){return t}function coe(t,e){e===void 0&&(e=loe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var c=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function uoe(t){t===void 0&&(t={});var e=coe(null);return e.options=Ta({async:!0,ssr:!1},t),e}var aB=function(t){var e=t.sideCar,r=dg(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Ta({},r))};aB.isSideCarExport=!0;function doe(t,e){return t.useMedium(e),aB}var sB=uoe(),Y_=function(){},Ob=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:Y_,onWheelCapture:Y_,onTouchMoveCapture:Y_}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,x=t.gapMode,b=dg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,T=ooe([r,e]),E=Ta(Ta({},b),i);return _.createElement(_.Fragment,null,d&&_.createElement(N,{sideCar:sB,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),s?_.cloneElement(_.Children.only(o),Ta(Ta({},E),{ref:T})):_.createElement(w,Ta({},E,{className:c,ref:T}),o))});Ob.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ob.classNames={fullWidth:xy,zeroRight:yy};var foe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hoe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=foe();return e&&t.setAttribute("nonce",e),t}function poe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function moe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var goe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=hoe())&&(poe(e,r),moe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},voe=function(){var t=goe();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},oB=function(){var t=voe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},yoe={left:0,top:0,right:0,gap:0},X_=function(t){return parseInt(t||"",10)||0},xoe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[X_(r),X_(n),X_(i)]},boe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yoe;var e=xoe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},woe=oB(),sd="data-scroll-locked",_oe=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(noe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(sd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yy,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(xy,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(yy," .").concat(yy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xy," .").concat(xy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sd,`] {
    `).concat(ioe,": ").concat(o,`px;
  }
`)},U2=function(){var t=parseInt(document.body.getAttribute(sd)||"0",10);return isFinite(t)?t:0},Soe=function(){_.useEffect(function(){return document.body.setAttribute(sd,(U2()+1).toString()),function(){var t=U2()-1;t<=0?document.body.removeAttribute(sd):document.body.setAttribute(sd,t.toString())}},[])},Eoe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Soe();var a=_.useMemo(function(){return boe(i)},[i]);return _.createElement(woe,{styles:_oe(a,!e,i,r?"":"!important")})},xE=!1;if(typeof window<"u")try{var Ev=Object.defineProperty({},"passive",{get:function(){return xE=!0,!0}});window.addEventListener("test",Ev,Ev),window.removeEventListener("test",Ev,Ev)}catch{xE=!1}var hu=xE?{passive:!1}:!1,Toe=function(t){return t.tagName==="TEXTAREA"},lB=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Toe(t)&&r[e]==="visible")},joe=function(t){return lB(t,"overflowY")},Aoe=function(t){return lB(t,"overflowX")},z2=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=cB(t,n);if(i){var a=uB(t,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Noe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Coe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},cB=function(t,e){return t==="v"?joe(e):Aoe(e)},uB=function(t,e){return t==="v"?Noe(e):Coe(e)},Poe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ioe=function(t,e,r,n,i){var a=Poe(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,c=e.contains(o),u=!1,d=s>0,f=0,h=0;do{var m=uB(t,o),v=m[0],g=m[1],y=m[2],w=g-y-a*v;(v||w)&&cB(t,o)&&(f+=w,h+=v),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Tv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},q2=function(t){return[t.deltaX,t.deltaY]},W2=function(t){return t&&"current"in t?t.current:t},Ooe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},koe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Roe=0,pu=[];function Moe(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(Roe++)[0],a=_.useState(oB)[0],s=_.useRef(t);_.useEffect(function(){s.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lte([t.lockRef.current],(t.shards||[]).map(W2),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var w=Tv(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-w[0],N="deltaY"in g?g.deltaY:x[1]-w[1],T,E=g.target,S=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in g&&S==="h"&&E.type==="range")return!1;var j=z2(S,E);if(!j)return!0;if(j?T=S:(T=S==="v"?"h":"v",j=z2(S,E)),!j)return!1;if(!n.current&&"changedTouches"in g&&(b||N)&&(n.current=T),!T)return!0;var C=n.current||T;return Ioe(C,y,g,C==="h"?b:N,!0)},[]),c=_.useCallback(function(g){var y=g;if(!(!pu.length||pu[pu.length-1]!==a)){var w="deltaY"in y?q2(y):Tv(y),x=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&Ooe(T.delta,w)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(s.current.shards||[]).map(W2).filter(Boolean).filter(function(T){return T.contains(y.target)}),N=b.length>0?o(y,b[0]):!s.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),u=_.useCallback(function(g,y,w,x){var b={name:g,delta:y,target:w,should:x,shadowParent:Doe(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(N){return N!==b})},1)},[]),d=_.useCallback(function(g){r.current=Tv(g),n.current=void 0},[]),f=_.useCallback(function(g){u(g.type,q2(g),g.target,o(g,t.lockRef.current))},[]),h=_.useCallback(function(g){u(g.type,Tv(g),g.target,o(g,t.lockRef.current))},[]);_.useEffect(function(){return pu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,hu),document.addEventListener("touchmove",c,hu),document.addEventListener("touchstart",d,hu),function(){pu=pu.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,hu),document.removeEventListener("touchmove",c,hu),document.removeEventListener("touchstart",d,hu)}},[]);var m=t.removeScrollBar,v=t.inert;return _.createElement(_.Fragment,null,v?_.createElement(a,{styles:koe(i)}):null,m?_.createElement(Eoe,{gapMode:t.gapMode}):null)}function Doe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $oe=doe(sB,Moe);var kb=_.forwardRef(function(t,e){return _.createElement(Ob,Ta({},t,{ref:e,sideCar:$oe}))});kb.classNames=Ob.classNames;var Loe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},mu=new WeakMap,jv=new WeakMap,Av={},Z_=0,dB=function(t){return t&&(t.host||dB(t.parentNode))},Foe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=dB(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Voe=function(t,e,r,n){var i=Foe(e,Array.isArray(t)?t:[t]);Av[r]||(Av[r]=new WeakMap);var a=Av[r],s=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",g=(mu.get(h)||0)+1,y=(a.get(h)||0)+1;mu.set(h,g),a.set(h,y),s.push(h),g===1&&v&&jv.set(h,!0),y===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),o.clear(),Z_++,function(){s.forEach(function(f){var h=mu.get(f)-1,m=a.get(f)-1;mu.set(f,h),a.set(f,m),h||(jv.has(f)||f.removeAttribute(n),jv.delete(f)),m||f.removeAttribute(r)}),Z_--,Z_||(mu=new WeakMap,mu=new WeakMap,jv=new WeakMap,Av={})}},CN=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Loe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Voe(n,i,r,"aria-hidden")):function(){return null}},PN="Dialog",[fB,hB]=cn(PN),[Boe,pa]=fB(PN),pB=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=_.useRef(null),c=_.useRef(null),[u=!1,d]=Ua({prop:n,defaultProp:i,onChange:a});return l.jsx(Boe,{scope:e,triggerRef:o,contentRef:c,contentId:Ma(),titleId:Ma(),descriptionId:Ma(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};pB.displayName=PN;var mB="DialogTrigger",gB=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=pa(mB,r),a=ut(e,i.triggerRef);return l.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kN(i.open),...n,ref:a,onClick:pe(t.onClick,i.onOpenToggle)})});gB.displayName=mB;var IN="DialogPortal",[Uoe,vB]=fB(IN,{forceMount:void 0}),yB=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=pa(IN,e);return l.jsx(Uoe,{scope:e,forceMount:r,children:_.Children.map(n,s=>l.jsx(xi,{present:r||a.open,children:l.jsx(mg,{asChild:!0,container:i,children:s})}))})};yB.displayName=IN;var xx="DialogOverlay",xB=_.forwardRef((t,e)=>{const r=vB(xx,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=pa(xx,t.__scopeDialog);return a.modal?l.jsx(xi,{present:n||a.open,children:l.jsx(qoe,{...i,ref:e})}):null});xB.displayName=xx;var zoe=Pc("DialogOverlay.RemoveScroll"),qoe=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=pa(xx,r);return l.jsx(kb,{as:zoe,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Me.div,{"data-state":kN(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Rc="DialogContent",bB=_.forwardRef((t,e)=>{const r=vB(Rc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=pa(Rc,t.__scopeDialog);return l.jsx(xi,{present:n||a.open,children:a.modal?l.jsx(Woe,{...i,ref:e}):l.jsx(Hoe,{...i,ref:e})})});bB.displayName=Rc;var Woe=_.forwardRef((t,e)=>{const r=pa(Rc,t.__scopeDialog),n=_.useRef(null),i=ut(e,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return CN(a)},[]),l.jsx(wB,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault())})}),Hoe=_.forwardRef((t,e)=>{const r=pa(Rc,t.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return l.jsx(wB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),wB=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=pa(Rc,r),c=_.useRef(null),u=ut(e,c);return NN(),l.jsxs(l.Fragment,{children:[l.jsx(Ib,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Pf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":kN(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Koe,{titleId:o.titleId}),l.jsx(Yoe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),ON="DialogTitle",_B=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=pa(ON,r);return l.jsx(Me.h2,{id:i.titleId,...n,ref:e})});_B.displayName=ON;var SB="DialogDescription",EB=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=pa(SB,r);return l.jsx(Me.p,{id:i.descriptionId,...n,ref:e})});EB.displayName=SB;var TB="DialogClose",jB=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=pa(TB,r);return l.jsx(Me.button,{type:"button",...n,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});jB.displayName=TB;function kN(t){return t?"open":"closed"}var AB="DialogTitleWarning",[Goe,NB]=vne(AB,{contentName:Rc,titleName:ON,docsSlug:"dialog"}),Koe=({titleId:t})=>{const e=NB(AB),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Qoe="DialogDescriptionWarning",Yoe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NB(Qoe).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},CB=pB,Xoe=gB,PB=yB,RN=xB,MN=bB,DN=_B,$N=EB,LN=jB;const ln=CB,Zoe=PB,IB=_.forwardRef(({className:t,...e},r)=>l.jsx(RN,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));IB.displayName=RN.displayName;const Gr=_.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Zoe,{children:[l.jsx(IB,{}),l.jsxs(MN,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,l.jsxs(LN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Eb,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gr.displayName=MN.displayName;const Kr=({className:t,...e})=>l.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Kr.displayName="DialogHeader";const Qr=_.forwardRef(({className:t,...e},r)=>l.jsx(DN,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",t),...e}));Qr.displayName=DN.displayName;const Li=_.forwardRef(({className:t,...e},r)=>l.jsx($N,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));Li.displayName=$N.displayName;var Joe="Label",OB=_.forwardRef((t,e)=>l.jsx(Me.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));OB.displayName=Joe;var kB=OB;const ele=_b("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=_.forwardRef(({className:t,...e},r)=>l.jsx(kB,{ref:r,className:Se(ele(),t),...e}));se.displayName=kB.displayName;function H2(t,[e,r]){return Math.min(r,Math.max(e,t))}var tle=_.createContext(void 0);function yg(t){const e=_.useContext(tle);return t||e||"ltr"}function Rb(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var rle=[" ","Enter","ArrowUp","ArrowDown"],nle=[" ","Enter"],xg="Select",[Mb,Db,ile]=xb(xg),[Mf,z4e]=cn(xg,[ile,Rf]),$b=Rf(),[ale,xl]=Mf(xg),[sle,ole]=Mf(xg),RB=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=t,g=$b(e),[y,w]=_.useState(null),[x,b]=_.useState(null),[N,T]=_.useState(!1),E=yg(u),[S=!1,j]=Ua({prop:n,defaultProp:i,onChange:a}),[C,I]=Ua({prop:s,defaultProp:o,onChange:c}),k=_.useRef(null),R=y?v||!!y.closest("form"):!0,[O,$]=_.useState(new Set),D=Array.from(O).map(V=>V.props.value).join(";");return l.jsx(W6,{...g,children:l.jsxs(ale,{required:m,scope:e,trigger:y,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:Ma(),value:C,onValueChange:I,open:S,onOpenChange:j,dir:E,triggerPointerDownPosRef:k,disabled:h,children:[l.jsx(Mb.Provider,{scope:e,children:l.jsx(sle,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(V=>{$(L=>new Set(L).add(V))},[]),onNativeOptionRemove:_.useCallback(V=>{$(L=>{const F=new Set(L);return F.delete(V),F})},[]),children:r})}),R?l.jsxs(aU,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:V=>I(V.target.value),disabled:h,form:v,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(O)]},D):null]})})};RB.displayName=xg;var MB="SelectTrigger",DB=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=$b(r),s=xl(MB,r),o=s.disabled||n,c=ut(e,s.onTriggerChange),u=Db(r),d=_.useRef("touch"),[f,h,m]=sU(g=>{const y=u().filter(b=>!b.disabled),w=y.find(b=>b.value===s.value),x=oU(y,g,w);x!==void 0&&s.onValueChange(x.value)}),v=g=>{o||(s.onOpenChange(!0),m()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(SN,{asChild:!0,...a,children:l.jsx(Me.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":iU(s.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:pe(i.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:pe(i.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&rle.includes(g.key)&&(v(),g.preventDefault())})})})});DB.displayName=MB;var $B="SelectValue",LB=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,c=xl($B,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ut(e,c.onValueNodeChange);return $r(()=>{u(d)},[u,d]),l.jsx(Me.span,{...o,ref:f,style:{pointerEvents:"none"},children:iU(c.value)?l.jsx(l.Fragment,{children:s}):a})});LB.displayName=$B;var lle="SelectIcon",FB=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(Me.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});FB.displayName=lle;var cle="SelectPortal",VB=t=>l.jsx(mg,{asChild:!0,...t});VB.displayName=cle;var Mc="SelectContent",BB=_.forwardRef((t,e)=>{const r=xl(Mc,t.__scopeSelect),[n,i]=_.useState();if($r(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Gc.createPortal(l.jsx(UB,{scope:t.__scopeSelect,children:l.jsx(Mb.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),a):null}return l.jsx(zB,{...t,ref:e})});BB.displayName=Mc;var qi=10,[UB,bl]=Mf(Mc),ule="SelectContentImpl",dle=Pc("SelectContent.RemoveScroll"),zB=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...w}=t,x=xl(Mc,r),[b,N]=_.useState(null),[T,E]=_.useState(null),S=ut(e,ue=>N(ue)),[j,C]=_.useState(null),[I,k]=_.useState(null),R=Db(r),[O,$]=_.useState(!1),D=_.useRef(!1);_.useEffect(()=>{if(b)return CN(b)},[b]),NN();const V=_.useCallback(ue=>{const[$e,...ie]=R().map(X=>X.ref.current),[ve]=ie.slice(-1),xe=document.activeElement;for(const X of ue)if(X===xe||(X==null||X.scrollIntoView({block:"nearest"}),X===$e&&T&&(T.scrollTop=0),X===ve&&T&&(T.scrollTop=T.scrollHeight),X==null||X.focus(),document.activeElement!==xe))return},[R,T]),L=_.useCallback(()=>V([j,b]),[V,j,b]);_.useEffect(()=>{O&&L()},[O,L]);const{onOpenChange:F,triggerPointerDownPosRef:B}=x;_.useEffect(()=>{if(b){let ue={x:0,y:0};const $e=ve=>{var xe,X;ue={x:Math.abs(Math.round(ve.pageX)-(((xe=B.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((X=B.current)==null?void 0:X.y)??0))}},ie=ve=>{ue.x<=10&&ue.y<=10?ve.preventDefault():b.contains(ve.target)||F(!1),document.removeEventListener("pointermove",$e),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",$e),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",ie,{capture:!0})}}},[b,F,B]),_.useEffect(()=>{const ue=()=>F(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[F]);const[U,J]=sU(ue=>{const $e=R().filter(xe=>!xe.disabled),ie=$e.find(xe=>xe.ref.current===document.activeElement),ve=oU($e,ue,ie);ve&&setTimeout(()=>ve.ref.current.focus())}),Y=_.useCallback((ue,$e,ie)=>{const ve=!D.current&&!ie;(x.value!==void 0&&x.value===$e||ve)&&(C(ue),ve&&(D.current=!0))},[x.value]),oe=_.useCallback(()=>b==null?void 0:b.focus(),[b]),H=_.useCallback((ue,$e,ie)=>{const ve=!D.current&&!ie;(x.value!==void 0&&x.value===$e||ve)&&k(ue)},[x.value]),Z=n==="popper"?bE:qB,ye=Z===bE?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return l.jsx(UB,{scope:r,content:b,viewport:T,onViewportChange:E,itemRefCallback:Y,selectedItem:j,onItemLeave:oe,itemTextRefCallback:H,focusSelectedItem:L,selectedItemText:I,position:n,isPositioned:O,searchRef:U,children:l.jsx(kb,{as:dle,allowPinchZoom:!0,children:l.jsx(Ib,{asChild:!0,trapped:x.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:pe(i,ue=>{var $e;($e=x.trigger)==null||$e.focus({preventScroll:!0}),ue.preventDefault()}),children:l.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(Z,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ue=>ue.preventDefault(),...w,...ye,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:pe(w.onKeyDown,ue=>{const $e=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!$e&&ue.key.length===1&&J(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ve=R().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const xe=ue.target,X=ve.indexOf(xe);ve=ve.slice(X+1)}setTimeout(()=>V(ve)),ue.preventDefault()}})})})})})})});zB.displayName=ule;var fle="SelectItemAlignedPosition",qB=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=xl(Mc,r),s=bl(Mc,r),[o,c]=_.useState(null),[u,d]=_.useState(null),f=ut(e,S=>d(S)),h=Db(r),m=_.useRef(!1),v=_.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:w,focusSelectedItem:x}=s,b=_.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&g&&y&&w){const S=a.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(a.dir!=="rtl"){const xe=I.left-j.left,X=C.left-xe,Ze=S.left-X,Le=S.width+Ze,Tt=Math.max(Le,j.width),jt=window.innerWidth-qi,qt=H2(X,[qi,Math.max(qi,jt-Tt)]);o.style.minWidth=Le+"px",o.style.left=qt+"px"}else{const xe=j.right-I.right,X=window.innerWidth-C.right-xe,Ze=window.innerWidth-S.right-X,Le=S.width+Ze,Tt=Math.max(Le,j.width),jt=window.innerWidth-qi,qt=H2(X,[qi,Math.max(qi,jt-Tt)]);o.style.minWidth=Le+"px",o.style.right=qt+"px"}const k=h(),R=window.innerHeight-qi*2,O=g.scrollHeight,$=window.getComputedStyle(u),D=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),L=parseInt($.borderBottomWidth,10),F=parseInt($.paddingBottom,10),B=D+V+O+F+L,U=Math.min(y.offsetHeight*5,B),J=window.getComputedStyle(g),Y=parseInt(J.paddingTop,10),oe=parseInt(J.paddingBottom,10),H=S.top+S.height/2-qi,Z=R-H,ye=y.offsetHeight/2,ue=y.offsetTop+ye,$e=D+V+ue,ie=B-$e;if($e<=H){const xe=k.length>0&&y===k[k.length-1].ref.current;o.style.bottom="0px";const X=u.clientHeight-g.offsetTop-g.offsetHeight,Ze=Math.max(Z,ye+(xe?oe:0)+X+L),Le=$e+Ze;o.style.height=Le+"px"}else{const xe=k.length>0&&y===k[0].ref.current;o.style.top="0px";const Ze=Math.max(H,D+g.offsetTop+(xe?Y:0)+ye)+ie;o.style.height=Ze+"px",g.scrollTop=$e-H+g.offsetTop}o.style.margin=`${qi}px 0`,o.style.minHeight=U+"px",o.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,o,u,g,y,w,a.dir,n]);$r(()=>b(),[b]);const[N,T]=_.useState();$r(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const E=_.useCallback(S=>{S&&v.current===!0&&(b(),x==null||x(),v.current=!1)},[b,x]);return l.jsx(ple,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:l.jsx(Me.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});qB.displayName=fle;var hle="SelectPopperPosition",bE=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=qi,...a}=t,s=$b(r);return l.jsx(EN,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bE.displayName=hle;var[ple,FN]=Mf(Mc,{}),wE="SelectViewport",WB=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=bl(wE,r),s=FN(wE,r),o=ut(e,a.onViewportChange),c=_.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Mb.Slot,{scope:r,children:l.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-qi*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(g,y);if(w<v){const x=w+m,b=Math.min(v,x),N=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});WB.displayName=wE;var HB="SelectGroup",[mle,gle]=Mf(HB),vle=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ma();return l.jsx(mle,{scope:r,id:i,children:l.jsx(Me.div,{role:"group","aria-labelledby":i,...n,ref:e})})});vle.displayName=HB;var GB="SelectLabel",KB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=gle(GB,r);return l.jsx(Me.div,{id:i.id,...n,ref:e})});KB.displayName=GB;var bx="SelectItem",[yle,QB]=Mf(bx),YB=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=xl(bx,r),c=bl(bx,r),u=o.value===n,[d,f]=_.useState(a??""),[h,m]=_.useState(!1),v=ut(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,i)}),g=Ma(),y=_.useRef("touch"),w=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(yle,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:_.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Mb.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(Me.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:pe(s.onFocus,()=>m(!0)),onBlur:pe(s.onBlur,()=>m(!1)),onClick:pe(s.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:pe(s.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:pe(s.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:pe(s.onPointerMove,x=>{var b;y.current=x.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(s.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:pe(s.onKeyDown,x=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&x.key===" "||(nle.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});YB.displayName=bx;var Fh="SelectItemText",XB=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=xl(Fh,r),o=bl(Fh,r),c=QB(Fh,r),u=ole(Fh,r),[d,f]=_.useState(null),h=ut(e,w=>f(w),c.onItemTextChange,w=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=_.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return $r(()=>(g(v),()=>y(v)),[g,y,v]),l.jsxs(l.Fragment,{children:[l.jsx(Me.span,{id:c.textId,...a,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Gc.createPortal(a.children,s.valueNode):null]})});XB.displayName=Fh;var ZB="SelectItemIndicator",JB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return QB(ZB,r).isSelected?l.jsx(Me.span,{"aria-hidden":!0,...n,ref:e}):null});JB.displayName=ZB;var _E="SelectScrollUpButton",eU=_.forwardRef((t,e)=>{const r=bl(_E,t.__scopeSelect),n=FN(_E,t.__scopeSelect),[i,a]=_.useState(!1),s=ut(e,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(rU,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});eU.displayName=_E;var SE="SelectScrollDownButton",tU=_.forwardRef((t,e)=>{const r=bl(SE,t.__scopeSelect),n=FN(SE,t.__scopeSelect),[i,a]=_.useState(!1),s=ut(e,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(rU,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});tU.displayName=SE;var rU=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=bl("SelectScrollButton",r),s=_.useRef(null),o=Db(r),c=_.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),$r(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:pe(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),xle="SelectSeparator",nU=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(Me.div,{"aria-hidden":!0,...n,ref:e})});nU.displayName=xle;var EE="SelectArrow",ble=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=$b(r),a=xl(EE,r),s=bl(EE,r);return a.open&&s.position==="popper"?l.jsx(TN,{...i,...n,ref:e}):null});ble.displayName=EE;function iU(t){return t===""||t===void 0}var aU=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=_.useRef(null),a=ut(e,i),s=Rb(r);return _.useEffect(()=>{const o=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==r&&d){const f=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(f)}},[s,r]),l.jsx(gg,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});aU.displayName="BubbleSelect";function sU(t){const e=on(t),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(s=>{const o=r.current+s;e(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function oU(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=wle(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function wle(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var _le=RB,lU=DB,Sle=LB,Ele=FB,Tle=VB,cU=BB,jle=WB,uU=KB,dU=YB,Ale=XB,Nle=JB,fU=eU,hU=tU,pU=nU;const Je=_le,et=Sle,Ye=_.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(lU,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(Ele,{asChild:!0,children:l.jsx(l6,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=lU.displayName;const mU=_.forwardRef(({className:t,...e},r)=>l.jsx(fU,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(hie,{className:"h-4 w-4"})}));mU.displayName=fU.displayName;const gU=_.forwardRef(({className:t,...e},r)=>l.jsx(hU,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(l6,{className:"h-4 w-4"})}));gU.displayName=hU.displayName;const Xe=_.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(Tle,{children:l.jsxs(cU,{ref:i,className:Se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(mU,{}),l.jsx(jle,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(gU,{})]})}));Xe.displayName=cU.displayName;const Cle=_.forwardRef(({className:t,...e},r)=>l.jsx(uU,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Cle.displayName=uU.displayName;const ge=_.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(dU,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Nle,{children:l.jsx(lN,{className:"h-4 w-4"})})}),l.jsx(Ale,{children:e})]}));ge.displayName=dU.displayName;const Ple=_.forwardRef(({className:t,...e},r)=>l.jsx(pU,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));Ple.displayName=pU.displayName;function vU({isOpen:t,onClose:e,income:r,banks:n}){var f;const[i,a]=_.useState({bancoId:""}),{toast:s}=vr(),o=Lr(),c=mr({mutationFn:async h=>Zt("PUT",`/api/incomes/${r.id}`,{...h,status:"recebido"}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/incomes"]}),o.invalidateQueries({queryKey:["/api/banks"]}),s({title:"Sucesso",description:"Recebimento confirmado com sucesso!"}),d()},onError:h=>{s({title:"Erro",description:h.message||"Erro ao confirmar recebimento",variant:"destructive"})}}),u=h=>{if(h.preventDefault(),!i.bancoId){s({title:"Erro",description:"Selecione uma conta bancria",variant:"destructive"});return}c.mutate({bancoId:i.bancoId})},d=()=>{a({bancoId:""}),e()};return l.jsx(ln,{open:t,onOpenChange:d,children:l.jsxs(Gr,{className:"sm:max-w-md",children:[l.jsxs(Kr,{children:[l.jsxs(Qr,{className:"flex items-center gap-2",children:[l.jsx(Ir,{className:"w-5 h-5 text-green-500"}),"Confirmar Recebimento"]}),l.jsxs(Li,{children:["Confirme o recebimento de: ",l.jsx("strong",{children:r==null?void 0:r.descricao}),l.jsx("br",{}),"Valor: ",l.jsxs("strong",{children:["R$ ",(f=r==null?void 0:r.valor)==null?void 0:f.toFixed(2)]})]})]}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"bancoId",children:"Conta Bancria de Destino *"}),l.jsxs(Je,{value:i.bancoId,onValueChange:h=>a({...i,bancoId:h}),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione uma conta"})}),l.jsx(Xe,{children:n.map(h=>l.jsx(ge,{value:h.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Os,{className:"w-4 h-4"}),h.nome,l.jsx(nt,{variant:"outline",className:"ml-2",children:h.tipo})]})},h.id))})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:d,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",className:"flex-1",disabled:c.isPending,children:c.isPending?"Confirmando...":"Confirmar Recebimento"})]})]})]})})}function Ile({pendingIncomes:t,banks:e,categories:r}){const[n,i]=_.useState(null),[a,s]=_.useState(!1),o=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),c=g=>new Date(g).toLocaleDateString("pt-BR"),u=g=>{const y=r.find(w=>w.id===g);return(y==null?void 0:y.nome)||"Categoria"},d=g=>{const y=r.find(w=>w.id===g);return(y==null?void 0:y.cor)||"#a4b0be"},f=g=>{i(g),s(!0)},h=new Date().getMonth(),m=new Date().getFullYear(),v=t.filter(g=>{const y=new Date(g.data);return y.getMonth()===h&&y.getFullYear()===m});return v.length===0?l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(Ir,{className:"w-5 h-5 text-green-500"}),"Recebimentos Pendentes"]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[l.jsx(Ir,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),l.jsx("p",{children:"Nenhum recebimento pendente neste ms"})]})})]}):l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(Ir,{className:"w-5 h-5 text-green-500"}),"Recebimentos Pendentes - ",new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})]})}),l.jsx(Oe,{children:l.jsx("div",{className:"space-y-3",children:v.map(g=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted border-border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d(g.categoria)}}),l.jsx("span",{className:"font-medium",children:g.descricao}),l.jsx(nt,{variant:"outline",className:"text-xs",children:u(g.categoria)})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-medium text-green-600",children:o(g.valor)}),l.jsx("span",{children:c(g.data)})]})]}),l.jsxs(le,{size:"sm",onClick:()=>f(g),className:"flex items-center gap-1",children:[l.jsx(uN,{className:"w-4 h-4"}),"Confirmar"]})]},g.id))})}),n&&l.jsx(vU,{isOpen:a,onClose:()=>{s(!1),i(null)},income:n,banks:e})]})}function Ole({isOpen:t,onClose:e,expense:r,banks:n,creditCards:i}){var m;const[a,s]=_.useState({metodoPagamento:"dinheiro",cartaoId:"",bancoId:""}),{toast:o}=vr(),c=Lr(),u=[{value:"dinheiro",label:"Dinheiro",icon:fi},{value:"debito",label:"Carto de Dbito",icon:Tr},{value:"credito",label:"Carto de Crdito",icon:Tr},{value:"pix",label:"PIX",icon:fi},{value:"transferencia",label:"Transferncia",icon:Os}],d=mr({mutationFn:async v=>Zt("PUT",`/api/expenses/${r.id}`,{...v,status:"pago"}),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/expenses"]}),c.invalidateQueries({queryKey:["/api/banks"]}),c.invalidateQueries({queryKey:["/api/credit-cards"]}),c.invalidateQueries({queryKey:["/api/invoices"]}),o({title:"Sucesso",description:"Pagamento confirmado com sucesso!"}),h()},onError:v=>{o({title:"Erro",description:v.message||"Erro ao confirmar pagamento",variant:"destructive"})}}),f=v=>{if(v.preventDefault(),!a.metodoPagamento){o({title:"Erro",description:"Selecione um mtodo de pagamento",variant:"destructive"});return}if(a.metodoPagamento==="credito"&&!a.cartaoId){o({title:"Erro",description:"Selecione um carto de crdito",variant:"destructive"});return}if(a.metodoPagamento!=="credito"&&!a.bancoId){o({title:"Erro",description:"Selecione uma conta bancria",variant:"destructive"});return}const g={metodoPagamento:a.metodoPagamento};a.metodoPagamento==="credito"?g.cartaoId=a.cartaoId:g.bancoId=a.bancoId,d.mutate(g)},h=()=>{s({metodoPagamento:"dinheiro",cartaoId:"",bancoId:""}),e()};return l.jsx(ln,{open:t,onOpenChange:h,children:l.jsxs(Gr,{className:"sm:max-w-md",children:[l.jsxs(Kr,{children:[l.jsxs(Qr,{className:"flex items-center gap-2",children:[l.jsx(fi,{className:"w-5 h-5 text-red-500"}),"Confirmar Pagamento"]}),l.jsxs(Li,{children:["Confirme o pagamento de: ",l.jsx("strong",{children:r==null?void 0:r.descricao}),l.jsx("br",{}),"Valor: ",l.jsxs("strong",{children:["R$ ",(m=r==null?void 0:r.valor)==null?void 0:m.toFixed(2)]})]})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"metodoPagamento",children:"Mtodo de Pagamento *"}),l.jsxs(Je,{value:a.metodoPagamento,onValueChange:v=>s({...a,metodoPagamento:v,cartaoId:"",bancoId:""}),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsx(Xe,{children:u.map(v=>{const g=v.icon;return l.jsx(ge,{value:v.value,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(g,{className:"w-4 h-4"}),v.label]})},v.value)})})]})]}),a.metodoPagamento==="credito"&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"cartaoId",children:"Carto de Crdito *"}),l.jsxs(Je,{value:a.cartaoId,onValueChange:v=>s({...a,cartaoId:v}),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione um carto"})}),l.jsx(Xe,{children:i.map(v=>l.jsx(ge,{value:v.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tr,{className:"w-4 h-4"}),v.nome,"  ",v.final,l.jsx(nt,{variant:"outline",className:"ml-2",children:v.bandeira})]})},v.id))})]})]}),a.metodoPagamento!=="credito"&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"bancoId",children:"Conta Bancria *"}),l.jsxs(Je,{value:a.bancoId,onValueChange:v=>s({...a,bancoId:v}),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione uma conta"})}),l.jsx(Xe,{children:n.map(v=>l.jsx(ge,{value:v.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Os,{className:"w-4 h-4"}),v.nome,l.jsx(nt,{variant:"outline",className:"ml-2",children:v.tipo})]})},v.id))})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:h,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",className:"flex-1",disabled:d.isPending,children:d.isPending?"Confirmando...":"Confirmar Pagamento"})]})]})]})})}function kle({pendingExpenses:t,banks:e,creditCards:r,categories:n}){const[i,a]=_.useState(null),[s,o]=_.useState(!1),c=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),u=y=>new Date(y).toLocaleDateString("pt-BR"),d=y=>{const w=n.find(x=>x.id===y);return(w==null?void 0:w.nome)||"Categoria"},f=y=>{const w=n.find(x=>x.id===y);return(w==null?void 0:w.cor)||"#a4b0be"},h=y=>{a(y),o(!0)},m=new Date().getMonth(),v=new Date().getFullYear(),g=t.filter(y=>{const w=new Date(y.data);return w.getMonth()===m&&w.getFullYear()===v});return g.length===0?l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(nr,{className:"w-5 h-5 text-red-500"}),"Pagamentos Pendentes"]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[l.jsx(nr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),l.jsx("p",{children:"Nenhum pagamento pendente neste ms"})]})})]}):l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(nr,{className:"w-5 h-5 text-red-500"}),"Pagamentos Pendentes - ",new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})]})}),l.jsx(Oe,{children:l.jsx("div",{className:"space-y-3",children:g.map(y=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg border-red-200 bg-[#616161]",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:f(y.categoria)}}),l.jsx("span",{className:"font-medium",children:y.descricao}),l.jsx(nt,{variant:"outline",className:"text-xs",children:d(y.categoria)}),y.parcela&&l.jsx(nt,{variant:"secondary",className:"text-xs",children:y.parcela})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{className:"font-medium text-red-600",children:["-",c(y.valor)]}),l.jsx("span",{children:u(y.data)})]})]}),l.jsxs(le,{size:"sm",onClick:()=>h(y),className:"flex items-center gap-1",children:[l.jsx(uN,{className:"w-4 h-4"}),"Confirmar"]})]},y.id))})}),i&&l.jsx(Ole,{isOpen:s,onClose:()=>{o(!1),a(null)},expense:i,banks:e,creditCards:r})]})}const Be=_.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Be.displayName="Input";var VN="Checkbox",[Rle,q4e]=cn(VN),[Mle,Dle]=Rle(VN),yU=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,m]=_.useState(null),v=ut(e,N=>m(N)),g=_.useRef(!1),y=h?d||!!h.closest("form"):!0,[w=!1,x]=Ua({prop:i,defaultProp:a,onChange:u}),b=_.useRef(w);return _.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const T=()=>x(b.current);return N.addEventListener("reset",T),()=>N.removeEventListener("reset",T)}},[h,x]),l.jsxs(Mle,{scope:r,state:w,disabled:o,children:[l.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Go(w)?"mixed":w,"aria-required":s,"data-state":wU(w),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:v,onKeyDown:pe(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:pe(t.onClick,N=>{x(T=>Go(T)?!0:!T),y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),y&&l.jsx($le,{control:h,bubbles:!g.current,name:n,value:c,checked:w,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Go(a)?!1:a})]})});yU.displayName=VN;var xU="CheckboxIndicator",bU=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=Dle(xU,r);return l.jsx(xi,{present:n||Go(a.state)||a.state===!0,children:l.jsx(Me.span,{"data-state":wU(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});bU.displayName=xU;var $le=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,s=_.useRef(null),o=Rb(r),c=Nb(e);_.useEffect(()=>{const d=s.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&m){const v=new Event("click",{bubbles:n});d.indeterminate=Go(r),m.call(d,Go(r)?!1:r),d.dispatchEvent(v)}},[o,r,n]);const u=_.useRef(Go(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:s,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Go(t){return t==="indeterminate"}function wU(t){return Go(t)?"indeterminate":t?"checked":"unchecked"}var _U=yU,Lle=bU;const kr=_.forwardRef(({className:t,...e},r)=>l.jsx(_U,{ref:r,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(Lle,{className:Se("flex items-center justify-center text-current"),children:l.jsx(lN,{className:"h-4 w-4"})})}));kr.displayName=_U.displayName;const BN=_.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));BN.displayName="Textarea";function UN({value:t,onChange:e,onRemove:r,label:n="Comprovante",placeholder:i="Clique para enviar uma imagem...",disabled:a=!1}){const[s,o]=_.useState(!1),[c,u]=_.useState(t||null),d=_.useRef(null),{user:f}=Fr(),{toast:h}=vr(),m=async y=>{var x;const w=(x=y.target.files)==null?void 0:x[0];if(w){if(!w.type.startsWith("image/")){h({title:"Erro",description:"Apenas imagens so permitidas",variant:"destructive"});return}if(w.size>5*1024*1024){h({title:"Erro",description:"Imagem muito grande. Mximo 5MB",variant:"destructive"});return}o(!0);try{const b=new FormData;b.append("comprovante",w);const N=await fetch("/api/upload-comprovante",{method:"POST",headers:{"user-id":(f==null?void 0:f.uid)||""},body:b});if(!N.ok)throw new Error("Erro no upload");const T=await N.json();if(T.success)u(T.url),e(T.url),h({title:"Sucesso",description:T.message});else throw new Error(T.message||"Erro no upload")}catch(b){console.error("Erro no upload:",b),h({title:"Erro",description:"Erro ao enviar imagem",variant:"destructive"})}finally{o(!1),d.current&&(d.current.value="")}}},v=()=>{u(null),r(),d.current&&(d.current.value="")},g=()=>{c&&window.open(c,"_blank")};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(se,{className:"flex items-center gap-2",children:[l.jsx(x2,{className:"w-4 h-4"}),n," (opcional)"]}),c?l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"relative border rounded-lg p-4 bg-muted",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(x2,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Comprovante enviado"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Clique para visualizar"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:g,title:"Visualizar imagem",children:l.jsx(vie,{className:"w-4 h-4"})}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:v,title:"Remover imagem",children:l.jsx(Eb,{className:"w-4 h-4"})})]})]})}),l.jsxs(le,{type:"button",variant:"outline",size:"sm",onClick:()=>{var y;return(y=d.current)==null?void 0:y.click()},disabled:a||s,children:[l.jsx(_2,{className:"w-4 h-4 mr-2"}),"Enviar nova imagem"]}),l.jsx(Be,{ref:d,type:"file",accept:"image/*",onChange:m,disabled:a||s,className:"hidden"})]}):l.jsxs("div",{children:[l.jsx(Be,{ref:d,type:"file",accept:"image/*",onChange:m,disabled:a||s,className:"hidden"}),l.jsx(le,{type:"button",variant:"outline",onClick:()=>{var y;return(y=d.current)==null?void 0:y.click()},disabled:a||s,className:"w-full h-20 border-dashed",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(_2,{className:"w-6 h-6 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:s?"Enviando...":i})]})})]})]})}function Fle({isOpen:t,onClose:e,banks:r,creditCards:n,categories:i}){const[a,s]=_.useState("income"),[o,c]=_.useState({descricao:"",valor:"",data:new Date().toISOString().split("T")[0],categoria:"",bancoId:"",metodoPagamento:"dinheiro",cartaoId:"",recorrente:!1,frequencia:"",comprovante:"",status:"recebido",parcelas:"",valorTotal:"",isParcelado:!1,totalParcelas:"",devedor:"",observacoes:"",dataRecebimento:new Date().toISOString().split("T")[0]}),[u,d]=_.useState({}),{user:f}=Fr(),{toast:h}=vr(),m=Lr(),v=mr({mutationFn:async E=>Zt("POST",a==="income"?"/api/incomes":"/api/expenses",E),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/incomes"]}),m.invalidateQueries({queryKey:["/api/expenses"]}),m.invalidateQueries({queryKey:["/api/banks"]}),m.invalidateQueries({queryKey:["/api/credit-cards"]}),m.invalidateQueries({queryKey:["/api/invoices"]}),h({title:"Sucesso",description:`${a==="income"?"Receita":"Gasto"} adicionado com sucesso!`}),w()},onError:E=>{h({title:"Erro",description:E.message||"Erro ao adicionar transao",variant:"destructive"})}}),g=()=>{const E={};return o.descricao.trim()||(E.descricao="Descrio  obrigatria"),(!o.valor||parseFloat(o.valor)<=0)&&(E.valor="Valor deve ser maior que zero"),o.data||(E.data="Data  obrigatria"),o.categoria||(E.categoria="Categoria  obrigatria"),a==="income"?(o.status==="recebido"&&!o.isParcelado&&!o.bancoId&&(E.bancoId="Conta bancria  obrigatria para receitas j recebidas"),o.recorrente&&!o.frequencia&&(E.frequencia="Frequncia  obrigatria para receitas recorrentes"),o.isParcelado&&(!o.totalParcelas||parseInt(o.totalParcelas)<2)&&(E.totalParcelas="Nmero de parcelas deve ser maior que 1"),o.isParcelado&&!o.devedor.trim()&&(E.devedor="Nome do devedor  obrigatrio para receitas parceladas")):(o.status==="pago"&&!o.metodoPagamento&&(E.metodoPagamento="Mtodo de pagamento  obrigatrio para gastos j pagos"),o.status==="pago"&&o.metodoPagamento==="credito"&&!o.cartaoId&&(E.cartaoId="Carto de crdito  obrigatrio"),o.status==="pago"&&o.metodoPagamento!=="credito"&&!o.bancoId&&(E.bancoId="Conta bancria  obrigatria"),o.recorrente&&!o.frequencia&&(E.frequencia="Frequncia  obrigatria para gastos recorrentes"),o.parcelas&&parseInt(o.parcelas)>1&&(o.valorTotal||(E.valorTotal="Valor total  obrigatrio para parcelamento"))),d(E),Object.keys(E).length===0},y=async E=>{if(E.preventDefault(),!f){h({title:"Erro",description:"Usurio no autenticado",variant:"destructive"});return}if(!g())return;const S={descricao:o.descricao.trim(),valor:parseFloat(o.valor),categoria:o.categoria,data:o.data,recorrente:o.recorrente};if(a==="income"){const j={...S,status:o.isParcelado?"pendente":o.status||"recebido",bancoId:o.bancoId};o.recorrente&&(j.frequencia=o.frequencia),o.comprovante&&(j.comprovante=o.comprovante),o.isParcelado&&(j.totalParcelas=parseInt(o.totalParcelas),j.devedor=o.devedor.trim(),j.valorTotal=parseFloat(o.valor)*parseInt(o.totalParcelas),j.bancoId=null,j.dataRecebimento=o.dataRecebimento,o.observacoes&&(j.observacoes=o.observacoes.trim())),v.mutate(j)}else{const j={...S,metodoPagamento:o.metodoPagamento,status:o.status||"pago"};if(o.metodoPagamento==="credito"?j.cartaoId=o.cartaoId:j.bancoId=o.bancoId,o.recorrente&&(j.frequencia=o.frequencia),o.comprovante&&(j.comprovante=o.comprovante),o.observacoes&&(j.observacoes=o.observacoes),o.parcelas&&parseInt(o.parcelas)>1){const C=parseInt(o.parcelas),I=parseFloat(o.valorTotal),k=I/C,R=`expense_${Date.now()}`;console.log("=== DASHBOARD: Creating installment expenses ==="),console.log("Parcelas:",C),console.log("Valor total:",I),console.log("Valor por parcela:",k);try{for(let O=0;O<C;O++){const $=new Date(j.data);$.setMonth($.getMonth()+O);const D={...j,valor:k,data:$.toISOString().split("T")[0],parcela:`${O+1}/${C}`,numeroParcela:O+1,totalParcelas:C,parcelaGrupoId:R,valorTotal:I};console.log(`Creating installment ${O+1}/${C}:`,D);const V=await Zt("POST","/api/expenses",D);console.log(`Installment ${O+1} created successfully:`,V)}m.invalidateQueries({queryKey:["/api/expenses"]}),m.invalidateQueries({queryKey:["/api/banks"]}),m.invalidateQueries({queryKey:["/api/credit-cards"]}),m.invalidateQueries({queryKey:["/api/invoices"]}),h({title:"Sucesso",description:`Gasto parcelado em ${C}x criado com sucesso!`}),w();return}catch(O){console.error("Error creating installment expenses:",O),h({title:"Erro",description:"Erro ao criar gastos parcelados. Tente novamente.",variant:"destructive"});return}}v.mutate(j)}},w=()=>{c({descricao:"",valor:"",data:new Date().toISOString().split("T")[0],categoria:"",bancoId:"",metodoPagamento:"dinheiro",cartaoId:"",recorrente:!1,frequencia:"",comprovante:"",status:"recebido",parcelas:"",valorTotal:"",isParcelado:!1,totalParcelas:"",devedor:"",observacoes:"",dataRecebimento:new Date().toISOString().split("T")[0]}),d({}),s("income"),e()},x=i.filter(E=>E.tipo===(a==="income"?"receita":"despesa")),b=E=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E),N=[{value:"semanal",label:"Semanal"},{value:"quinzenal",label:"Quinzenal"},{value:"mensal",label:"Mensal"},{value:"bimestral",label:"Bimestral"},{value:"trimestral",label:"Trimestral"},{value:"anual",label:"Anual"}],T=[{value:"dinheiro",label:"Dinheiro",icon:fi},{value:"debito",label:"Dbito",icon:Tr},{value:"credito",label:"Crdito",icon:Tr},{value:"pix",label:"PIX",icon:nr},{value:"transferencia",label:"Transferncia",icon:Os},{value:"boleto",label:"Boleto",icon:Yl}];return l.jsx(ln,{open:t,onOpenChange:w,children:l.jsxs(Gr,{className:"w-[95vw] max-w-2xl max-h-[95vh] overflow-y-auto bg-white dark:bg-gray-900 border-0 shadow-2xl mx-auto",children:[l.jsxs(Kr,{className:"space-y-3 sm:space-y-4 pb-4 sm:pb-6 border-b border-gray-200 dark:border-gray-700",children:[l.jsxs(Qr,{className:"flex items-center gap-2 sm:gap-3 text-lg sm:text-xl font-semibold",children:[l.jsx("div",{className:`p-1.5 sm:p-2 rounded-full ${a==="income"?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:a==="income"?l.jsx(Ir,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}):l.jsx(nr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),l.jsx("span",{className:"text-base sm:text-xl",children:a==="income"?"Adicionar Receita":"Adicionar Gasto"})]}),l.jsxs(Li,{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:["Registre uma nova ",a==="income"?"receita":"despesa"," em seu controle financeiro com todos os detalhes necessrios."]})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4 sm:space-y-6 pt-4 sm:pt-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[l.jsxs(le,{type:"button",variant:a==="income"?"default":"outline",className:`flex-1 h-10 sm:h-12 text-sm sm:text-base ${a==="income"?"bg-green-600 hover:bg-green-700 text-white":"border-2 hover:border-green-500 hover:bg-green-50 dark:hover:bg-green-900/20"}`,onClick:()=>{s("income"),c({...o,status:"recebido",bancoId:"",cartaoId:""})},children:[l.jsx(Ir,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),"Receita"]}),l.jsxs(le,{type:"button",variant:a==="expense"?"default":"outline",className:`flex-1 h-10 sm:h-12 text-sm sm:text-base ${a==="expense"?"bg-red-600 hover:bg-red-700 text-white":"border-2 hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"}`,onClick:()=>{s("expense"),c({...o,status:"pago",metodoPagamento:"dinheiro",bancoId:"",cartaoId:""})},children:[l.jsx(nr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),"Gasto"]})]}),l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"descricao",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(hx,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-500"}),"Descrio *"]}),l.jsx(Be,{id:"descricao",value:o.descricao,onChange:E=>c({...o,descricao:E.target.value}),placeholder:a==="income"?"Ex: Salrio, Freelance, Venda...":"Ex: Supermercado, Gasolina, Aluguel...",className:`h-10 sm:h-11 text-sm sm:text-base ${u.descricao?"border-red-500 focus-visible:ring-red-500":"focus-visible:ring-blue-500"}`}),u.descricao&&l.jsxs("p",{className:"text-xs sm:text-sm text-red-500 mt-1 flex items-center gap-1",children:[l.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),u.descricao]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"valor",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(fi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-500"}),"Valor *"]}),l.jsx(Be,{id:"valor",type:"number",step:"0.01",value:o.valor,onChange:E=>c({...o,valor:E.target.value}),placeholder:"0,00",className:`h-10 sm:h-11 text-sm sm:text-base ${u.valor?"border-red-500 focus-visible:ring-red-500":"focus-visible:ring-blue-500"}`}),u.valor&&l.jsxs("p",{className:"text-xs sm:text-sm text-red-500 mt-1 flex items-center gap-1",children:[l.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),u.valor]})]}),l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"data",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(al,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-500"}),"Data *"]}),l.jsx(Be,{id:"data",type:"date",value:o.data,onChange:E=>c({...o,data:E.target.value}),className:`h-10 sm:h-11 text-sm sm:text-base ${u.data?"border-red-500 focus-visible:ring-red-500":"focus-visible:ring-blue-500"}`}),u.data&&l.jsxs("p",{className:"text-xs sm:text-sm text-red-500 mt-1 flex items-center gap-1",children:[l.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),u.data]})]})]}),l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"categoria",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(hx,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-500"}),"Categoria *"]}),l.jsxs(Je,{value:o.categoria,onValueChange:E=>c({...o,categoria:E}),children:[l.jsx(Ye,{className:`h-10 sm:h-11 text-sm sm:text-base ${u.categoria?"border-red-500 focus:ring-red-500":"focus:ring-blue-500"}`,children:l.jsx(et,{placeholder:"Selecione uma categoria"})}),l.jsx(Xe,{children:x.map(E=>l.jsx(ge,{value:E.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.cor}}),l.jsx("span",{className:"text-sm",children:E.nome})]})},E.id))})]}),u.categoria&&l.jsxs("p",{className:"text-xs sm:text-sm text-red-500 mt-1 flex items-center gap-1",children:[l.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full"}),u.categoria]})]}),a==="income"&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 sm:p-0",children:[l.jsx(kr,{id:"isParcelado",checked:o.isParcelado,onCheckedChange:E=>c({...o,isParcelado:E,totalParcelas:"",devedor:"",observacoes:"",dataRecebimento:new Date().toISOString().split("T")[0],recorrente:!1,status:E?"pendente":"recebido"})}),l.jsxs(se,{htmlFor:"isParcelado",className:"flex items-center gap-1.5 sm:gap-2 text-sm cursor-pointer",children:[l.jsx(Ic,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Receita parcelada"]})]}),!(a==="income"&&o.isParcelado)&&l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"status",className:"text-sm font-medium",children:["Status ",a==="income"?"do Recebimento":"do Pagamento"," *"]}),l.jsxs(Je,{value:o.status,onValueChange:E=>c({...o,status:E,bancoId:E==="pendente"?"":o.bancoId,metodoPagamento:E==="pendente"?"pendente":o.metodoPagamento,cartaoId:""}),children:[l.jsx(Ye,{className:"h-10 sm:h-11 text-sm sm:text-base",children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:a==="income"?"recebido":"pago",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),l.jsxs("span",{className:"text-sm",children:["J ",a==="income"?"recebido":"pago"]})]})}),l.jsx(ge,{value:"pendente",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),l.jsxs("span",{className:"text-sm",children:[a==="income"?"Recebimento":"Pagamento"," pendente"]})]})})]})]})]}),a==="expense"&&o.status==="pago"&&l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsx(se,{htmlFor:"metodoPagamento",className:"text-sm font-medium",children:"Mtodo de Pagamento *"}),l.jsxs(Je,{value:o.metodoPagamento,onValueChange:E=>c({...o,metodoPagamento:E,cartaoId:"",bancoId:""}),children:[l.jsx(Ye,{className:`h-10 sm:h-11 text-sm sm:text-base ${u.metodoPagamento?"border-red-500":""}`,children:l.jsx(et,{})}),l.jsx(Xe,{children:T.map(E=>{const S=E.icon;return l.jsx(ge,{value:E.value,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(S,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),l.jsx("span",{className:"text-sm",children:E.label})]})},E.value)})})]}),u.metodoPagamento&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.metodoPagamento})]}),o.status==="pago"&&o.metodoPagamento==="credito"&&l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsx(se,{htmlFor:"cartaoId",className:"text-sm font-medium",children:"Carto de Crdito *"}),l.jsxs(Je,{value:o.cartaoId,onValueChange:E=>c({...o,cartaoId:E}),children:[l.jsx(Ye,{className:`h-10 sm:h-11 text-sm sm:text-base ${u.cartaoId?"border-red-500":""}`,children:l.jsx(et,{placeholder:"Selecione um carto"})}),l.jsx(Xe,{children:n.map(E=>l.jsx(ge,{value:E.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),l.jsxs("span",{className:"text-sm",children:[E.nome,"  ",E.final]}),l.jsx(nt,{variant:"outline",className:"ml-1 text-xs",children:E.bandeira})]})},E.id))})]}),u.cartaoId&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.cartaoId})]}),(a==="income"&&o.status==="recebido"&&!o.isParcelado||a==="expense"&&o.status==="pago"&&o.metodoPagamento!=="credito")&&l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsx(se,{htmlFor:"bancoId",className:"text-sm font-medium",children:"Conta Bancria *"}),l.jsxs(Je,{value:o.bancoId,onValueChange:E=>c({...o,bancoId:E}),children:[l.jsx(Ye,{className:`h-10 sm:h-11 text-sm sm:text-base ${u.bancoId?"border-red-500":""}`,children:l.jsx(et,{placeholder:"Selecione uma conta"})}),l.jsx(Xe,{children:r.map(E=>l.jsx(ge,{value:E.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Os,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),l.jsx("span",{className:"text-sm",children:E.nome}),l.jsx(nt,{variant:"outline",className:"ml-1 text-xs",children:E.tipo})]})},E.id))})]}),u.bancoId&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.bancoId})]}),a==="income"&&o.isParcelado&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"totalParcelas",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(Ic,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Nmero de Parcelas *"]}),l.jsx(Be,{id:"totalParcelas",type:"number",min:"2",max:"60",value:o.totalParcelas,onChange:E=>c({...o,totalParcelas:E.target.value}),placeholder:"Ex: 10",className:`h-10 sm:h-11 text-sm sm:text-base ${u.totalParcelas?"border-red-500":""}`}),u.totalParcelas&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.totalParcelas})]}),l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"devedor",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(Kp,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Nome do Devedor *"]}),l.jsx(Be,{id:"devedor",value:o.devedor,onChange:E=>c({...o,devedor:E.target.value}),placeholder:"Ex: Joo Silva",className:`h-10 sm:h-11 text-sm sm:text-base ${u.devedor?"border-red-500":""}`}),u.devedor&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.devedor})]})]}),l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"dataRecebimento",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(al,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Data do Primeiro Recebimento *"]}),l.jsx(Be,{id:"dataRecebimento",type:"date",value:o.dataRecebimento,onChange:E=>c({...o,dataRecebimento:E.target.value}),className:`h-10 sm:h-11 text-sm sm:text-base ${u.dataRecebimento?"border-red-500":""}`}),u.dataRecebimento&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.dataRecebimento}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"As prximas parcelas sero automaticamente distribudas mensalmente a partir desta data"})]}),l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"observacoes",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(hE,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Observaes (opcional)"]}),l.jsx(Be,{id:"observacoes",value:o.observacoes,onChange:E=>c({...o,observacoes:E.target.value}),placeholder:"Informaes adicionais sobre o parcelamento...",className:"h-10 sm:h-11 text-sm sm:text-base"})]}),o.valor&&o.totalParcelas&&parseFloat(o.valor)>0&&parseInt(o.totalParcelas)>1&&l.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("div",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[l.jsx("p",{className:"font-medium",children:"Resumo do Parcelamento:"}),l.jsxs("p",{children:[" Valor total: ",b(parseFloat(o.valor)*parseInt(o.totalParcelas))]}),l.jsxs("p",{children:[" Valor por parcela: ",b(parseFloat(o.valor))]}),l.jsxs("p",{children:[" Quantidade de parcelas: ",o.totalParcelas,"x"]}),l.jsx("p",{children:" Status: Todas as parcelas comearo como pendentes"})]})})]}),a==="income"&&!o.isParcelado&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 sm:p-0",children:[l.jsx(kr,{id:"recorrente",checked:o.recorrente,onCheckedChange:E=>c({...o,recorrente:E,frequencia:""})}),l.jsxs(se,{htmlFor:"recorrente",className:"flex items-center gap-1.5 sm:gap-2 text-sm cursor-pointer",children:[l.jsx(d6,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Receita recorrente"]})]}),a==="expense"&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 sm:p-0",children:[l.jsx(kr,{id:"recorrente",checked:o.recorrente,onCheckedChange:E=>c({...o,recorrente:E})}),l.jsx(se,{htmlFor:"recorrente",className:"text-sm cursor-pointer",children:"Gasto recorrente"})]}),o.recorrente&&l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsx(se,{htmlFor:"frequencia",className:"text-sm font-medium",children:"Frequncia *"}),l.jsxs(Je,{value:o.frequencia,onValueChange:E=>c({...o,frequencia:E}),children:[l.jsx(Ye,{className:`h-10 sm:h-11 text-sm sm:text-base ${u.frequencia?"border-red-500":""}`,children:l.jsx(et,{placeholder:"Selecione a frequncia"})}),l.jsx(Xe,{children:N.map(E=>l.jsx(ge,{value:E.value,children:l.jsx("span",{className:"text-sm",children:E.label})},E.value))})]}),u.frequencia&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.frequencia})]}),a==="expense"&&o.status==="pago"&&o.metodoPagamento==="credito"&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsx(se,{htmlFor:"parcelas",className:"text-sm font-medium",children:"Nmero de Parcelas"}),l.jsxs(Je,{value:o.parcelas,onValueChange:E=>c({...o,parcelas:E,valorTotal:""}),children:[l.jsx(Ye,{className:"h-10 sm:h-11 text-sm sm:text-base",children:l.jsx(et,{placeholder:" vista"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"1",children:l.jsx("span",{className:"text-sm",children:" vista"})}),Array.from({length:24},(E,S)=>S+2).map(E=>l.jsx(ge,{value:E.toString(),children:l.jsxs("span",{className:"text-sm",children:[E,"x"]})},E))]})]})]}),o.parcelas&&parseInt(o.parcelas)>1&&l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsx(se,{htmlFor:"valorTotal",className:"text-sm font-medium",children:"Valor Total"}),l.jsx(Be,{id:"valorTotal",type:"number",step:"0.01",value:o.valorTotal,onChange:E=>c({...o,valorTotal:E.target.value}),placeholder:"Valor total parcelado",className:`h-10 sm:h-11 text-sm sm:text-base ${u.valorTotal?"border-red-500":""}`}),u.valorTotal&&l.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1",children:u.valorTotal}),o.valorTotal&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Valor por parcela: ",b(parseFloat(o.valorTotal)/parseInt(o.parcelas))]})]})]}),l.jsx(UN,{value:o.comprovante,onChange:E=>c({...o,comprovante:E}),onRemove:()=>c({...o,comprovante:""}),label:"Comprovante",placeholder:"Clique para enviar uma imagem do comprovante...",disabled:v.isPending}),a==="expense"&&l.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[l.jsxs(se,{htmlFor:"observacoes-extras",className:"flex items-center gap-1.5 sm:gap-2 text-sm font-medium",children:[l.jsx(hE,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Observaes adicionais (opcional)"]}),l.jsx(BN,{id:"observacoes-extras",value:o.observacoes,onChange:E=>c({...o,observacoes:E.target.value}),placeholder:"Nmero da nota fiscal, observaes extras sobre o gasto...",rows:2,className:"text-sm sm:text-base resize-none"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6 border-t border-gray-200 dark:border-gray-700",children:[l.jsx(le,{type:"button",variant:"outline",onClick:w,className:"flex-1 h-10 sm:h-12 text-sm sm:text-base border-2 hover:bg-gray-50 dark:hover:bg-gray-800 order-2 sm:order-1",children:"Cancelar"}),l.jsx(le,{type:"submit",disabled:v.isPending,className:`flex-1 h-10 sm:h-12 text-sm sm:text-base text-white font-medium order-1 sm:order-2 ${a==="expense"?"bg-red-600 hover:bg-red-700 disabled:bg-red-400":"bg-green-600 hover:bg-green-700 disabled:bg-green-400"}`,children:v.isPending?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"text-sm sm:text-base",children:a==="income"?"Salvando...":"Adicionando..."})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[a==="income"?l.jsx(Ir,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):l.jsx(nr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),l.jsx("span",{className:"text-sm sm:text-base",children:a==="income"?"Salvar Receita":"Adicionar Gasto"})]})})]})]})]})})}function SU({isOpen:t,onClose:e}){const[r,n]=_.useState(""),[i,a]=_.useState("corrente"),[s,o]=_.useState(""),[c,u]=_.useState("#5e72e4"),{user:d}=Fr(),{toast:f}=vr(),h=Lr(),m=mr({mutationFn:async y=>Zt("POST","/api/banks",y),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/banks"]}),f({title:"Sucesso",description:"Conta bancria adicionada com sucesso!"}),g()},onError:()=>{f({title:"Erro",description:"Erro ao adicionar conta bancria",variant:"destructive"})}}),v=y=>{if(y.preventDefault(),!d||!r||!s){f({title:"Erro",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}m.mutate({nome:r,tipo:i,saldo:parseFloat(s),cor:c})},g=()=>{n(""),a("corrente"),o(""),u("#5e72e4"),e()};return l.jsx(ln,{open:t,onOpenChange:g,children:l.jsxs(Gr,{className:"sm:max-w-md",children:[l.jsxs(Kr,{children:[l.jsx(Qr,{children:"Adicionar Conta Bancria"}),l.jsx(Li,{children:"Preencha as informaes da sua conta bancria para adicionar ao controle financeiro."})]}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"nome",children:"Nome da Conta"}),l.jsx(Be,{id:"nome",value:r,onChange:y=>n(y.target.value),placeholder:"Ex: Banco do Brasil",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"tipo",children:"Tipo da Conta"}),l.jsxs(Je,{value:i,onValueChange:y=>a(y),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"corrente",children:"Conta Corrente"}),l.jsx(ge,{value:"poupanca",children:"Poupana"}),l.jsx(ge,{value:"digital",children:"Conta Digital"})]})]})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"saldo",children:"Saldo Inicial"}),l.jsx(Be,{id:"saldo",type:"number",step:"0.01",value:s,onChange:y=>o(y.target.value),placeholder:"0,00",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"cor",children:"Cor Identificadora"}),l.jsx(Be,{id:"cor",type:"color",value:c,onChange:y=>u(y.target.value),className:"w-full h-12"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:g,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",className:"flex-1",disabled:m.isPending,children:m.isPending?"Salvando...":"Salvar"})]})]})]})})}function EU({isOpen:t,onClose:e}){const[r,n]=_.useState(""),[i,a]=_.useState("visa"),[s,o]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(""),[h,m]=_.useState(""),[v,g]=_.useState("#5e72e4"),{user:y}=Fr(),{toast:w}=vr(),x=Lr(),b=mr({mutationFn:async E=>Zt("POST","/api/credit-cards",E),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/credit-cards"]}),w({title:"Sucesso",description:"Carto de crdito adicionado com sucesso!"}),T()},onError:()=>{w({title:"Erro",description:"Erro ao adicionar carto de crdito",variant:"destructive"})}}),N=E=>{if(E.preventDefault(),!y||!r||!s||!c||!d||!h){w({title:"Erro",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}if(h.length!==4){w({title:"Erro",description:"Os ltimos 4 dgitos devem ter exatamente 4 nmeros",variant:"destructive"});return}const S=parseInt(c),j=parseInt(d);if(S<1||S>31){w({title:"Erro",description:"Dia de vencimento deve ser entre 1 e 31",variant:"destructive"});return}if(j<1||j>31){w({title:"Erro",description:"Dia de fechamento deve ser entre 1 e 31",variant:"destructive"});return}b.mutate({nome:r,bandeira:i,limite:parseFloat(s),vencimento:S,fechamento:j,final:h,cor:v})},T=()=>{n(""),a("visa"),o(""),u(""),f(""),m(""),g("#5e72e4"),e()};return l.jsx(ln,{open:t,onOpenChange:T,children:l.jsxs(Gr,{className:"sm:max-w-md",children:[l.jsxs(Kr,{children:[l.jsx(Qr,{children:"Adicionar Carto de Crdito"}),l.jsx(Li,{children:"Preencha as informaes do seu carto de crdito para adicionar ao controle financeiro."})]}),l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"nome",children:"Nome do Carto"}),l.jsx(Be,{id:"nome",value:r,onChange:E=>n(E.target.value),placeholder:"Ex: Visa Platinum",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"bandeira",children:"Bandeira"}),l.jsxs(Je,{value:i,onValueChange:E=>a(E),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"visa",children:"Visa"}),l.jsx(ge,{value:"mastercard",children:"Mastercard"}),l.jsx(ge,{value:"elo",children:"Elo"}),l.jsx(ge,{value:"american_express",children:"American Express"}),l.jsx(ge,{value:"hipercard",children:"Hipercard"})]})]})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"limite",children:"Limite"}),l.jsx(Be,{id:"limite",type:"number",step:"0.01",value:s,onChange:E=>o(E.target.value),placeholder:"0,00",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"vencimento",children:"Dia de Vencimento"}),l.jsx(Be,{id:"vencimento",type:"number",min:"1",max:"31",value:c,onChange:E=>u(E.target.value),placeholder:"Ex: 10",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"fechamento",children:"Dia de Fechamento"}),l.jsx(Be,{id:"fechamento",type:"number",min:"1",max:"31",value:d,onChange:E=>f(E.target.value),placeholder:"Ex: 5",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"final",children:"ltimos 4 Dgitos"}),l.jsx(Be,{id:"final",type:"text",maxLength:4,value:h,onChange:E=>m(E.target.value.replace(/\D/g,"")),placeholder:"1234",required:!0})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:T,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",className:"flex-1",disabled:b.isPending,children:b.isPending?"Salvando...":"Salvar"})]})]})]})})}var zN="Progress",qN=100,[Vle,W4e]=cn(zN),[Ble,Ule]=Vle(zN),TU=_.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=zle,...s}=t;(i||i===0)&&!G2(i)&&console.error(qle(`${i}`,"Progress"));const o=G2(i)?i:qN;n!==null&&!K2(n,o)&&console.error(Wle(`${n}`,"Progress"));const c=K2(n,o)?n:null,u=wx(c)?a(c,o):void 0;return l.jsx(Ble,{scope:r,value:c,max:o,children:l.jsx(Me.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":wx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":NU(c,o),"data-value":c??void 0,"data-max":o,...s,ref:e})})});TU.displayName=zN;var jU="ProgressIndicator",AU=_.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Ule(jU,r);return l.jsx(Me.div,{"data-state":NU(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});AU.displayName=jU;function zle(t,e){return`${Math.round(t/e*100)}%`}function NU(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function wx(t){return typeof t=="number"}function G2(t){return wx(t)&&!isNaN(t)&&t>0}function K2(t,e){return wx(t)&&!isNaN(t)&&t<=e&&t>=0}function qle(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qN}\`.`}function Wle(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var CU=TU,Hle=AU;const PU=_.forwardRef(({className:t,value:e,...r},n)=>l.jsx(CU,{ref:n,className:Se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:l.jsx(Hle,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));PU.displayName=CU.displayName;function Gle({currentMonth:t,incomes:e,expenses:r}){const{data:n=[]}=$t({queryKey:["/api/category-goals"]}),i=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0),o=n.map(c=>{let u=0;const d=c.categoryName;c.type==="income"?u=e.filter(m=>m.categoria===d&&m.status==="recebido"&&new Date(m.data)>=i&&new Date(m.data)<=a).reduce((m,v)=>m+v.valor,0):u=r.filter(m=>m.categoria===d&&m.status==="pago"&&new Date(m.data)>=i&&new Date(m.data)<=a).reduce((m,v)=>m+v.valor,0);const f=u/c.monthlyGoal*100,h=c.monthlyGoal-u;return{...c,current:u,progress:Math.min(f,100),remaining:h,status:f>=100?"completed":f>=80?"warning":"on-track"}}).filter(c=>c.isActive);return o.length===0?l.jsxs(Ie,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[l.jsx(vt,{children:l.jsxs(yt,{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(rd,{className:"h-5 w-5"}),"Metas Financeiras"]})}),l.jsx(Oe,{children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx(rd,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma meta configurada ainda"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Configure suas metas financeiras nas configuraes"})]})})]}):l.jsxs(Ie,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[l.jsx(vt,{children:l.jsxs(yt,{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(rd,{className:"h-5 w-5"}),"Metas Financeiras"]})}),l.jsx(Oe,{children:l.jsx("div",{className:"space-y-4",children:o.map(c=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.categoryColor}}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c.categoryName}),l.jsx(nt,{variant:c.type==="income"?"default":"secondary",className:"text-xs",children:c.type==="income"?"Receita":"Gasto"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[c.status==="completed"&&l.jsx(nd,{className:"h-4 w-4 text-green-500"}),c.status==="warning"&&l.jsx(c6,{className:"h-4 w-4 text-yellow-500"}),c.status==="on-track"&&l.jsx(Gp,{className:"h-4 w-4 text-blue-500"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["R$ ",c.current.toFixed(2)," / R$ ",c.monthlyGoal.toFixed(2)]}),l.jsxs("span",{className:`font-medium ${c.progress>=100?"text-green-600 dark:text-green-400":c.progress>=80?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400"}`,children:[c.progress.toFixed(0),"%"]})]}),l.jsx(PU,{value:c.progress,className:"h-2"}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:c.remaining>0?c.type==="income"?`Faltam R$ ${c.remaining.toFixed(2)} para atingir a meta`:`Restam R$ ${c.remaining.toFixed(2)} do oramento`:c.type==="income"?`Meta atingida! Superou em R$ ${Math.abs(c.remaining).toFixed(2)}`:`Oramento estourado em R$ ${Math.abs(c.remaining).toFixed(2)}`})]})]},c.id))})})]})}function Kle(){const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[s,o]=_.useState(!1),[c,u]=_.useState(()=>{const $=new Date;return`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}`}),{user:d}=Fr(),{data:f=[]}=$t({queryKey:["/api/banks"],enabled:!!d}),{data:h=[]}=$t({queryKey:["/api/incomes"],enabled:!!d}),{data:m=[]}=$t({queryKey:["/api/expenses"],enabled:!!d}),{data:v=[]}=$t({queryKey:["/api/credit-cards"],enabled:!!d}),{data:g=[]}=$t({queryKey:["/api/categories"],enabled:!!d}),{data:y=[]}=$t({queryKey:["/api/invoices"],enabled:!!d}),w=$=>{const[D,V]=$.split("-");return new Date(parseInt(D),parseInt(V)-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})},x=$=>{const[D,V]=c.split("-"),L=new Date(parseInt(D),parseInt(V)-1);$==="prev"?L.setMonth(L.getMonth()-1):L.setMonth(L.getMonth()+1);const F=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`;u(F)},b=$=>{const D=new Date($),[V,L]=c.split("-");return D.getFullYear()===parseInt(V)&&D.getMonth()===parseInt(L)-1},N=h.filter($=>b($.data)),T=m.filter($=>b($.data)),E=N.filter($=>$.status==="pendente"),S=T.filter($=>$.status==="pendente"),j=f.reduce(($,D)=>$+D.saldo,0),C=N.reduce(($,D)=>$+D.valor,0),I=T.reduce(($,D)=>$+D.valor,0),k=y.filter($=>!$.pago&&$.mesAno===c).reduce(($,D)=>$+D.valorTotal,0),R=[...N.slice(0,2).map($=>({id:$.id,description:$.descricao,amount:$.valor,date:new Date($.data).toLocaleDateString("pt-BR"),type:"income",category:$.categoria})),...T.slice(0,2).map($=>({id:$.id,description:$.descricao,amount:$.valor,date:new Date($.data).toLocaleDateString("pt-BR"),type:"expense",category:$.categoria}))].sort(($,D)=>new Date(D.date).getTime()-new Date($.date).getTime()).slice(0,4),O=y.filter($=>!$.pago).map($=>{const D=new Date($.dataVencimento),V=new Date,L=Math.ceil((D.getTime()-V.getTime())/(1e3*3600*24));let F="ok";L<0?F="overdue":L<=7&&(F="due_soon");const B=v.find(U=>U.id===$.cartaoId);return{id:$.id,description:`Fatura ${(B==null?void 0:B.nome)||"Carto"}`,amount:$.valorTotal,dueDate:D.toLocaleDateString("pt-BR"),status:F,type:"invoice"}}).sort(($,D)=>new Date($.dueDate).getTime()-new Date(D.dueDate).getTime()).slice(0,5);return l.jsxs("div",{className:"min-h-screen bg-muted",children:[l.jsx(Zc,{onMenuToggle:()=>e(!0)}),l.jsx(Xc,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("main",{className:"lg:ml-64 pt-16 lg:pt-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Dashboard"}),l.jsx("p",{className:"text-blue-100 mt-1 text-sm sm:text-base",children:"Viso geral das suas finanas"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>x("prev"),className:"text-white hover:bg-white hover:bg-opacity-20 hover:text-white dark:text-white dark:hover:bg-white dark:hover:bg-opacity-20 p-2",children:l.jsx(cN,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-md bg-[#00000069]",children:[l.jsx(al,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium text-sm min-w-[120px] sm:min-w-[140px] text-center bg-[#03030300] text-[#ffffff]",children:w(c)})]}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>x("next"),className:"text-white hover:bg-white hover:bg-opacity-20 hover:text-white dark:text-white dark:hover:bg-white dark:hover:bg-opacity-20 p-2",children:l.jsx(Sb,{className:"w-4 h-4"})})]}),l.jsxs(le,{onClick:()=>n(!0),className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white hover:text-white w-full sm:w-auto",children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar"]})]})]})}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsx(qse,{totalBalance:j,monthlyIncome:C,monthlyExpenses:I,openInvoices:k}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[l.jsx(Gle,{currentMonth:new Date(c+"-01"),incomes:h,expenses:m}),l.jsx(Wse,{transactions:R})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[l.jsx(Ile,{pendingIncomes:E,banks:f,categories:g}),l.jsx(kle,{pendingExpenses:S,banks:f,creditCards:v,categories:g})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[l.jsx(Hse,{banks:f,onAddBank:()=>a(!0)}),l.jsx(Gse,{creditCards:v,onAddCreditCard:()=>o(!0),expenses:T,invoices:y,selectedMonth:c})]}),l.jsx(Qse,{bills:O})]})]}),l.jsx("div",{className:"fixed bottom-6 right-6 lg:hidden",children:l.jsx(le,{onClick:()=>n(!0),className:"w-14 h-14 rounded-full shadow-lg",children:l.jsx(Jn,{className:"w-6 h-6"})})}),l.jsx(Fle,{isOpen:r,onClose:()=>n(!1),banks:f,creditCards:v,categories:g}),l.jsx(SU,{isOpen:i,onClose:()=>a(!1)}),l.jsx(EU,{isOpen:s,onClose:()=>o(!1)})]})}function Qle({isOpen:t,onClose:e,bank:r}){var g;const[n,i]=_.useState({}),{toast:a}=vr(),s=Lr(),o=r?{nome:r.nome||"",tipo:r.tipo||"",saldo:((g=r.saldo)==null?void 0:g.toString())||"",cor:r.cor||"#3b82f6"}:{nome:"",tipo:"",saldo:"",cor:"#3b82f6"},[c,u]=_.useState(o);_.useEffect(()=>{var y;r&&t&&(u({nome:r.nome||"",tipo:r.tipo||"",saldo:((y=r.saldo)==null?void 0:y.toString())||"",cor:r.cor||"#3b82f6"}),i({}))},[r,t]);const d=mr({mutationFn:async y=>{if(!r)throw new Error("Bank not found");return Zt("PUT",`/api/banks/${r.id}`,y)},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/banks"]}),a({title:"Sucesso",description:"Conta bancria atualizada com sucesso!"}),h()},onError:y=>{a({title:"Erro",description:y.message||"Erro ao atualizar conta bancria",variant:"destructive"})}}),f=y=>{y.preventDefault();const w={};if(c.nome.trim()||(w.nome="Nome  obrigatrio"),c.tipo||(w.tipo="Tipo  obrigatrio"),c.saldo.trim()?isNaN(Number(c.saldo))&&(w.saldo="Saldo deve ser um nmero vlido"):w.saldo="Saldo  obrigatrio",Object.keys(w).length>0){i(w);return}d.mutate({nome:c.nome.trim(),tipo:c.tipo,saldo:parseFloat(c.saldo),cor:c.cor})},h=()=>{i({}),e(),setTimeout(()=>{u({nome:"",tipo:"",saldo:"",cor:"#3b82f6"})},100)},m=[{value:"corrente",label:"Conta Corrente"},{value:"poupanca",label:"Poupana"},{value:"digital",label:"Banco Digital"},{value:"investimento",label:"Conta Investimento"}],v=[{value:"#3b82f6",label:"Azul"},{value:"#ef4444",label:"Vermelho"},{value:"#10b981",label:"Verde"},{value:"#f59e0b",label:"Amarelo"},{value:"#8b5cf6",label:"Roxo"},{value:"#ec4899",label:"Rosa"},{value:"#6b7280",label:"Cinza"},{value:"#14b8a6",label:"Azul Claro"}];return console.log("Rendering modal with localFormData:",c),l.jsx(ln,{open:t,onOpenChange:h,children:l.jsxs(Gr,{className:"sm:max-w-[425px]",children:[l.jsx(Kr,{children:l.jsx(Qr,{children:"Editar Conta Bancria"})}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"nome",children:"Nome da Conta"}),l.jsx(Be,{id:"nome",type:"text",placeholder:"Ex: Nubank, Banco do Brasil...",value:c.nome,onChange:y=>u({...c,nome:y.target.value}),className:n.nome?"border-red-500":""}),n.nome&&l.jsx("p",{className:"text-sm text-red-500",children:n.nome})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"tipo",children:"Tipo de Conta"}),l.jsxs(Je,{value:c.tipo,onValueChange:y=>u({...c,tipo:y}),children:[l.jsx(Ye,{className:n.tipo?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione o tipo"})}),l.jsx(Xe,{children:m.map(y=>l.jsx(ge,{value:y.value,children:y.label},y.value))})]}),n.tipo&&l.jsx("p",{className:"text-sm text-red-500",children:n.tipo})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"saldo",children:"Saldo Atual"}),l.jsx(Be,{id:"saldo",type:"number",step:"0.01",placeholder:"0.00",value:c.saldo,onChange:y=>u({...c,saldo:y.target.value}),className:n.saldo?"border-red-500":""}),n.saldo&&l.jsx("p",{className:"text-sm text-red-500",children:n.saldo})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"cor",children:"Cor"}),l.jsxs(Je,{value:c.cor,onValueChange:y=>u({...c,cor:y}),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione a cor"})}),l.jsx(Xe,{children:v.map(y=>l.jsx(ge,{value:y.value,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:y.value}}),y.label]})},y.value))})]})]}),l.jsxs("div",{className:"flex space-x-2 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:h,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",disabled:d.isPending,className:"flex-1",children:d.isPending?"Salvando...":"Salvar"})]})]})]})})}function Yle(){const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[s,o]=_.useState(null),{user:c}=Fr(),{toast:u}=vr(),d=Lr(),{data:f=[]}=$t({queryKey:["/api/banks"],enabled:!!c}),h=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w),m=f.reduce((w,x)=>w+x.saldo,0),v=mr({mutationFn:async w=>Zt("DELETE",`/api/banks/${w}`),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/banks"]}),u({title:"Sucesso",description:"Conta bancria excluda com sucesso!"})},onError:w=>{u({title:"Erro",description:w.message||"Erro ao excluir conta bancria",variant:"destructive"})}}),g=w=>{console.log("Banks page - handleEdit called with:",w),a(!1),setTimeout(()=>{o(w),a(!0)},10)},y=w=>{confirm(`Tem certeza que deseja excluir a conta "${w.nome}"?`)&&v.mutate(w.id)};return l.jsxs("div",{className:"min-h-screen bg-muted",children:[l.jsx(Zc,{onMenuToggle:()=>e(!0)}),l.jsx(Xc,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("main",{className:"lg:ml-64 pt-16 lg:pt-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Contas Bancrias"}),l.jsx("p",{className:"text-blue-100 mt-1 text-sm sm:text-base",children:"Gerencie suas contas e saldos"})]}),l.jsxs(le,{onClick:()=>n(!0),className:"bg-card bg-opacity-20 hover:bg-opacity-30 w-full sm:w-auto",children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar Conta"]})]})}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs(Ie,{className:"mb-6",children:[l.jsx(vt,{children:l.jsx(yt,{className:"text-lg",children:"Resumo"})}),l.jsx(Oe,{children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total de Contas"}),l.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:f.length})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Saldo Total"}),l.jsx("p",{className:"text-xl sm:text-2xl font-bold text-secondary",children:h(m)})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Maior Saldo"}),l.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:f.length>0?h(Math.max(...f.map(w=>w.saldo))):h(0)})]})]})})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:f.length===0?l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(px,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma conta bancria cadastrada"}),l.jsxs(le,{onClick:()=>n(!0),children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar Primeira Conta"]})]}):f.map(w=>l.jsx(Ie,{className:"hover:shadow-lg transition-shadow",children:l.jsxs(Oe,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:w.cor},children:l.jsx(px,{className:"text-white w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-foreground",children:w.nome}),l.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:w.tipo})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>g(w),title:"Editar conta",children:l.jsx(fN,{className:"w-4 h-4"})}),l.jsx(le,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>y(w),title:"Excluir conta",disabled:v.isPending,children:l.jsx(Oc,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Saldo Atual"}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:h(w.saldo)})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:l.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"Criada em"}),l.jsx("span",{children:new Date(w.createdAt).toLocaleDateString("pt-BR")})]})})]})},w.id))})]})]}),l.jsx(SU,{isOpen:r,onClose:()=>n(!1)}),l.jsx(Qle,{isOpen:i,onClose:()=>a(!1),bank:s})]})}function Xle({isOpen:t,onClose:e,banks:r,categories:n}){const[i,a]=_.useState({descricao:"",valor:"",data:new Date().toISOString().split("T")[0],categoria:"",bancoId:"",recorrente:!1,frequencia:"",comprovante:"",status:"recebido",isParcelado:!1,totalParcelas:"",devedor:"",observacoes:"",dataRecebimento:new Date().toISOString().split("T")[0]}),[s,o]=_.useState({}),{user:c}=Fr(),{toast:u}=vr(),d=Lr(),f=n.filter(x=>x.tipo==="receita"),h=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),m=mr({mutationFn:async x=>Zt("POST","/api/incomes",x),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/incomes"]}),d.invalidateQueries({queryKey:["/api/banks"]}),u({title:"Sucesso",description:"Receita adicionada com sucesso!"}),y()},onError:x=>{u({title:"Erro",description:x.message||"Erro ao adicionar receita",variant:"destructive"})}}),v=()=>{const x={};return i.descricao.trim()||(x.descricao="Descrio  obrigatria"),(!i.valor||parseFloat(i.valor)<=0)&&(x.valor="Valor deve ser maior que zero"),i.data||(x.data="Data  obrigatria"),i.categoria||(x.categoria="Categoria  obrigatria"),i.status==="recebido"&&!i.bancoId&&(x.bancoId="Conta bancria  obrigatria para receitas j recebidas"),i.recorrente&&!i.frequencia&&(x.frequencia="Frequncia  obrigatria para receitas recorrentes"),i.isParcelado&&(!i.totalParcelas||parseInt(i.totalParcelas)<2)&&(x.totalParcelas="Nmero de parcelas deve ser maior que 1"),i.isParcelado&&!i.devedor.trim()&&(x.devedor="Nome do devedor  obrigatrio para receitas parceladas"),i.isParcelado&&!i.dataRecebimento&&(x.dataRecebimento="Data de recebimento  obrigatria para receitas parceladas"),o(x),Object.keys(x).length===0},g=x=>{if(x.preventDefault(),!c){u({title:"Erro",description:"Usurio no autenticado",variant:"destructive"});return}if(!v())return;const b={descricao:i.descricao.trim(),valor:parseFloat(i.valor),data:i.data,categoria:i.categoria,bancoId:i.bancoId,recorrente:i.recorrente,status:i.isParcelado?"pendente":i.status||"recebido"};i.recorrente&&(b.frequencia=i.frequencia),i.comprovante&&(b.comprovante=i.comprovante),i.isParcelado&&(b.totalParcelas=parseInt(i.totalParcelas),b.devedor=i.devedor.trim(),b.valorTotal=parseFloat(i.valor)*parseInt(i.totalParcelas),b.bancoId=null,b.data=i.dataRecebimento,b.dataRecebimento=i.dataRecebimento,i.observacoes&&(b.observacoes=i.observacoes.trim())),m.mutate(b)},y=()=>{a({descricao:"",valor:"",data:new Date().toISOString().split("T")[0],categoria:"",bancoId:"",recorrente:!1,frequencia:"",comprovante:"",status:"recebido",isParcelado:!1,totalParcelas:"",devedor:"",observacoes:"",dataRecebimento:new Date().toISOString().split("T")[0]}),o({}),e()},w=[{value:"semanal",label:"Semanal"},{value:"quinzenal",label:"Quinzenal"},{value:"mensal",label:"Mensal"},{value:"bimestral",label:"Bimestral"},{value:"trimestral",label:"Trimestral"},{value:"anual",label:"Anual"}];return l.jsx(ln,{open:t,onOpenChange:y,children:l.jsxs(Gr,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs(Kr,{children:[l.jsxs(Qr,{className:"flex items-center gap-2",children:[l.jsx(Ir,{className:"w-5 h-5 text-green-500"}),"Adicionar Receita"]}),l.jsx(Li,{children:"Registre uma nova receita ou entrada em seu controle financeiro."})]}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"descricao",className:"flex items-center gap-2",children:[l.jsx(hx,{className:"w-4 h-4"}),"Descrio *"]}),l.jsx(Be,{id:"descricao",value:i.descricao,onChange:x=>a({...i,descricao:x.target.value}),placeholder:"Ex: Salrio, Freelance, Venda...",className:s.descricao?"border-red-500":""}),s.descricao&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.descricao})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"valor",className:"flex items-center gap-2",children:[l.jsx(fi,{className:"w-4 h-4"}),"Valor *"]}),l.jsx(Be,{id:"valor",type:"number",step:"0.01",value:i.valor,onChange:x=>a({...i,valor:x.target.value}),placeholder:"0,00",className:s.valor?"border-red-500":""}),s.valor&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.valor})]}),l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"data",className:"flex items-center gap-2",children:[l.jsx(al,{className:"w-4 h-4"}),"Data *"]}),l.jsx(Be,{id:"data",type:"date",value:i.data,onChange:x=>a({...i,data:x.target.value}),className:s.data?"border-red-500":""}),s.data&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.data})]})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"categoria",children:"Categoria *"}),l.jsxs(Je,{value:i.categoria,onValueChange:x=>a({...i,categoria:x}),children:[l.jsx(Ye,{className:s.categoria?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione uma categoria"})}),l.jsx(Xe,{children:f.map(x=>l.jsx(ge,{value:x.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.cor}}),x.nome]})},x.id))})]}),s.categoria&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.categoria})]}),!i.isParcelado&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"status",children:"Status do Recebimento *"}),l.jsxs(Je,{value:i.status,onValueChange:x=>a({...i,status:x,bancoId:x==="pendente"?"":i.bancoId}),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"recebido",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"J recebido"]})}),l.jsx(ge,{value:"pendente",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),"Recebimento pendente"]})})]})]})]}),i.status==="recebido"&&!i.isParcelado&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"bancoId",children:"Conta Bancria *"}),l.jsxs(Je,{value:i.bancoId,onValueChange:x=>a({...i,bancoId:x}),children:[l.jsx(Ye,{className:s.bancoId?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione uma conta"})}),l.jsx(Xe,{children:r.map(x=>l.jsx(ge,{value:x.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Os,{className:"w-4 h-4"}),x.nome,l.jsx(nt,{variant:"outline",className:"ml-2",children:x.tipo})]})},x.id))})]}),s.bancoId&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.bancoId})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(kr,{id:"isParcelado",checked:i.isParcelado,onCheckedChange:x=>a({...i,isParcelado:x,totalParcelas:"",devedor:"",observacoes:"",dataRecebimento:new Date().toISOString().split("T")[0],recorrente:!1,status:x?"pendente":"recebido"})}),l.jsxs(se,{htmlFor:"isParcelado",className:"flex items-center gap-2",children:[l.jsx(Ic,{className:"w-4 h-4"}),"Receita parcelada"]})]}),i.isParcelado&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"totalParcelas",className:"flex items-center gap-2",children:[l.jsx(Ic,{className:"w-4 h-4"}),"Nmero de Parcelas *"]}),l.jsx(Be,{id:"totalParcelas",type:"number",min:"2",max:"60",value:i.totalParcelas,onChange:x=>a({...i,totalParcelas:x.target.value}),placeholder:"Ex: 10",className:s.totalParcelas?"border-red-500":""}),s.totalParcelas&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.totalParcelas})]}),l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"devedor",className:"flex items-center gap-2",children:[l.jsx(Kp,{className:"w-4 h-4"}),"Nome do Devedor *"]}),l.jsx(Be,{id:"devedor",value:i.devedor,onChange:x=>a({...i,devedor:x.target.value}),placeholder:"Ex: Joo Silva",className:s.devedor?"border-red-500":""}),s.devedor&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.devedor})]})]}),l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"dataRecebimento",className:"flex items-center gap-2",children:[l.jsx(al,{className:"w-4 h-4"}),"Data do Primeiro Recebimento *"]}),l.jsx(Be,{id:"dataRecebimento",type:"date",value:i.dataRecebimento,onChange:x=>a({...i,dataRecebimento:x.target.value}),className:s.dataRecebimento?"border-red-500":""}),s.dataRecebimento&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.dataRecebimento}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"As prximas parcelas sero automaticamente distribudas mensalmente a partir desta data"})]}),l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"observacoes",className:"flex items-center gap-2",children:[l.jsx(hE,{className:"w-4 h-4"}),"Observaes (opcional)"]}),l.jsx(Be,{id:"observacoes",value:i.observacoes,onChange:x=>a({...i,observacoes:x.target.value}),placeholder:"Informaes adicionais sobre o parcelamento..."})]}),i.valor&&i.totalParcelas&&parseFloat(i.valor)>0&&parseInt(i.totalParcelas)>1&&l.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("p",{children:l.jsx("strong",{children:"Resumo do Parcelamento:"})}),l.jsxs("p",{children:[" Valor total: ",h(parseFloat(i.valor)*parseInt(i.totalParcelas))]}),l.jsxs("p",{children:[" Valor por parcela: ",h(parseFloat(i.valor))]}),l.jsxs("p",{children:[" Quantidade de parcelas: ",i.totalParcelas,"x"]}),l.jsx("p",{children:" Status: Todas as parcelas comearo como pendentes"})]})})]}),!i.isParcelado&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(kr,{id:"recorrente",checked:i.recorrente,onCheckedChange:x=>a({...i,recorrente:x,frequencia:""})}),l.jsxs(se,{htmlFor:"recorrente",className:"flex items-center gap-2",children:[l.jsx(d6,{className:"w-4 h-4"}),"Receita recorrente"]})]}),i.recorrente&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"frequencia",children:"Frequncia *"}),l.jsxs(Je,{value:i.frequencia,onValueChange:x=>a({...i,frequencia:x}),children:[l.jsx(Ye,{className:s.frequencia?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione a frequncia"})}),l.jsx(Xe,{children:w.map(x=>l.jsx(ge,{value:x.value,children:x.label},x.value))})]}),s.frequencia&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.frequencia})]}),l.jsx(UN,{value:i.comprovante,onChange:x=>a({...i,comprovante:x}),onRemove:()=>a({...i,comprovante:""}),label:"Comprovante",placeholder:"Clique para enviar uma imagem do comprovante...",disabled:m.isPending}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",className:"flex-1",disabled:m.isPending,children:m.isPending?"Salvando...":"Salvar"})]})]})]})})}var bg=t=>t.type==="checkbox",Xl=t=>t instanceof Date,kn=t=>t==null;const IU=t=>typeof t=="object";var gr=t=>!kn(t)&&!Array.isArray(t)&&IU(t)&&!Xl(t),Zle=t=>gr(t)&&t.target?bg(t.target)?t.target.checked:t.target.value:t,Jle=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ece=(t,e)=>t.has(Jle(e)),tce=t=>{const e=t.constructor&&t.constructor.prototype;return gr(e)&&e.hasOwnProperty("isPrototypeOf")},WN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(WN&&(t instanceof Blob||n))&&(r||gr(t)))if(e=r?[]:{},!r&&!tce(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=gn(t[i]));else return t;return e}var Lb=t=>Array.isArray(t)?t.filter(Boolean):[],br=t=>t===void 0,Pe=(t,e,r)=>{if(!e||!gr(t))return r;const n=Lb(e.split(/[,[\].]+?/)).reduce((i,a)=>kn(i)?i:i[a],t);return br(n)||n===t?br(t[e])?r:t[e]:n},xa=t=>typeof t=="boolean",HN=t=>/^\w*$/.test(t),OU=t=>Lb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Rt=(t,e,r)=>{let n=-1;const i=HN(e)?[e]:OU(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let c=r;if(n!==s){const u=t[o];c=gr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Q2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var rce=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Zi.all&&(e._proxyFormState[s]=!n||Zi.all),t[s]}});return i},ja=t=>typeof t=="string",nce=(t,e,r,n,i)=>ja(t)?(n&&e.watch.add(t),Pe(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Pe(r,a))):(n&&(e.watchAll=!0),r),kU=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},up=t=>Array.isArray(t)?t:[t],Y2=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},TE=t=>kn(t)||!IU(t);function mo(t,e){if(TE(t)||TE(e))return t===e;if(Xl(t)&&Xl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Xl(a)&&Xl(s)||gr(a)&&gr(s)||Array.isArray(a)&&Array.isArray(s)?!mo(a,s):a!==s)return!1}}return!0}var In=t=>gr(t)&&!Object.keys(t).length,GN=t=>t.type==="file",Ji=t=>typeof t=="function",_x=t=>{if(!WN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},RU=t=>t.type==="select-multiple",KN=t=>t.type==="radio",ice=t=>KN(t)||bg(t),J_=t=>_x(t)&&t.isConnected;function ace(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=br(t)?n++:t[e[n++]];return t}function sce(t){for(const e in t)if(t.hasOwnProperty(e)&&!br(t[e]))return!1;return!0}function Cr(t,e){const r=Array.isArray(e)?e:HN(e)?[e]:OU(e),n=r.length===1?t:ace(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(gr(n)&&In(n)||Array.isArray(n)&&sce(n))&&Cr(t,r.slice(0,-1)),t}var MU=t=>{for(const e in t)if(Ji(t[e]))return!0;return!1};function Sx(t,e={}){const r=Array.isArray(t);if(gr(t)||r)for(const n in t)Array.isArray(t[n])||gr(t[n])&&!MU(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Sx(t[n],e[n])):kn(t[n])||(e[n]=!0);return e}function DU(t,e,r){const n=Array.isArray(t);if(gr(t)||n)for(const i in t)Array.isArray(t[i])||gr(t[i])&&!MU(t[i])?br(e)||TE(r[i])?r[i]=Array.isArray(t[i])?Sx(t[i],[]):{...Sx(t[i])}:DU(t[i],kn(e)?{}:e[i],r[i]):r[i]=!mo(t[i],e[i]);return r}var yh=(t,e)=>DU(t,e,Sx(e));const X2={value:!1,isValid:!1},Z2={value:!0,isValid:!0};var $U=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!br(t[0].attributes.value)?br(t[0].value)||t[0].value===""?Z2:{value:t[0].value,isValid:!0}:Z2:X2}return X2},LU=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>br(t)?t:e?t===""?NaN:t&&+t:r&&ja(t)?new Date(t):n?n(t):t;const J2={isValid:!1,value:null};var FU=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,J2):J2;function eR(t){const e=t.ref;return GN(e)?e.files:KN(e)?FU(t.refs).value:RU(e)?[...e.selectedOptions].map(({value:r})=>r):bg(e)?$U(t.refs).value:LU(br(e.value)?t.ref.value:e.value,t)}var oce=(t,e,r,n)=>{const i={};for(const a of t){const s=Pe(e,a);s&&Rt(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Ex=t=>t instanceof RegExp,xh=t=>br(t)?t:Ex(t)?t.source:gr(t)?Ex(t.value)?t.value.source:t.value:t,tR=t=>({isOnSubmit:!t||t===Zi.onSubmit,isOnBlur:t===Zi.onBlur,isOnChange:t===Zi.onChange,isOnAll:t===Zi.all,isOnTouch:t===Zi.onTouched});const rR="AsyncFunction";var lce=t=>!!t&&!!t.validate&&!!(Ji(t.validate)&&t.validate.constructor.name===rR||gr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rR)),cce=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),nR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const dp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Pe(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(dp(o,e))break}else if(gr(o)&&dp(o,e))break}}};function iR(t,e,r){const n=Pe(t,r);if(n||HN(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=Pe(e,a),o=Pe(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var uce=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return In(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||Zi.all))},dce=(t,e,r)=>!t||!e||t===e||up(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),fce=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,hce=(t,e)=>!Lb(Pe(t,e)).length&&Cr(t,e),pce=(t,e,r)=>{const n=up(Pe(t,r));return Rt(n,"root",e[r]),Rt(t,r,n),t},by=t=>ja(t);function aR(t,e,r="validate"){if(by(t)||Array.isArray(t)&&t.every(by)||xa(t)&&!t)return{type:r,message:by(t)?t:"",ref:e}}var gu=t=>gr(t)&&!Ex(t)?t:{value:t,message:""},sR=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:g,valueAsNumber:y,mount:w}=t._f,x=Pe(r,g);if(!w||e.has(g))return{};const b=o?o[0]:s,N=R=>{i&&b.reportValidity&&(b.setCustomValidity(xa(R)?"":R||""),b.reportValidity())},T={},E=KN(s),S=bg(s),j=E||S,C=(y||GN(s))&&br(s.value)&&br(x)||_x(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,I=kU.bind(null,g,n,T),k=(R,O,$,D=es.maxLength,V=es.minLength)=>{const L=R?O:$;T[g]={type:R?D:V,message:L,ref:s,...I(R?D:V,L)}};if(a?!Array.isArray(x)||!x.length:c&&(!j&&(C||kn(x))||xa(x)&&!x||S&&!$U(o).isValid||E&&!FU(o).isValid)){const{value:R,message:O}=by(c)?{value:!!c,message:c}:gu(c);if(R&&(T[g]={type:es.required,message:O,ref:b,...I(es.required,O)},!n))return N(O),T}if(!C&&(!kn(f)||!kn(h))){let R,O;const $=gu(h),D=gu(f);if(!kn(x)&&!isNaN(x)){const V=s.valueAsNumber||x&&+x;kn($.value)||(R=V>$.value),kn(D.value)||(O=V<D.value)}else{const V=s.valueAsDate||new Date(x),L=U=>new Date(new Date().toDateString()+" "+U),F=s.type=="time",B=s.type=="week";ja($.value)&&x&&(R=F?L(x)>L($.value):B?x>$.value:V>new Date($.value)),ja(D.value)&&x&&(O=F?L(x)<L(D.value):B?x<D.value:V<new Date(D.value))}if((R||O)&&(k(!!R,$.message,D.message,es.max,es.min),!n))return N(T[g].message),T}if((u||d)&&!C&&(ja(x)||a&&Array.isArray(x))){const R=gu(u),O=gu(d),$=!kn(R.value)&&x.length>+R.value,D=!kn(O.value)&&x.length<+O.value;if(($||D)&&(k($,R.message,O.message),!n))return N(T[g].message),T}if(m&&!C&&ja(x)){const{value:R,message:O}=gu(m);if(Ex(R)&&!x.match(R)&&(T[g]={type:es.pattern,message:O,ref:s,...I(es.pattern,O)},!n))return N(O),T}if(v){if(Ji(v)){const R=await v(x,r),O=aR(R,b);if(O&&(T[g]={...O,...I(es.validate,O.message)},!n))return N(O.message),T}else if(gr(v)){let R={};for(const O in v){if(!In(R)&&!n)break;const $=aR(await v[O](x,r),b,O);$&&(R={...$,...I(O,$.message)},N($.message),n&&(T[g]=R))}if(!In(R)&&(T[g]={ref:b,...R},!n))return T}}return N(!0),T};const mce={mode:Zi.onSubmit,reValidateMode:Zi.onChange,shouldFocusError:!0};function gce(t={}){let e={...mce,...t},r={submitCount:0,isDirty:!1,isLoading:Ji(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=gr(e.defaultValues)||gr(e.values)?gn(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:gn(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Y2(),state:Y2()},m=tR(e.mode),v=tR(e.reValidateMode),g=e.criteriaMode===Zi.all,y=q=>K=>{clearTimeout(u),u=setTimeout(q,K)},w=async q=>{if(!e.disabled&&(d.isValid||f.isValid||q)){const K=e.resolver?In((await C()).errors):await k(n,!0);K!==r.isValid&&h.state.next({isValid:K})}},x=(q,K)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((q||Array.from(o.mount)).forEach(ee=>{ee&&(K?Rt(r.validatingFields,ee,K):Cr(r.validatingFields,ee))}),h.state.next({validatingFields:r.validatingFields,isValidating:!In(r.validatingFields)}))},b=(q,K=[],ee,we,de=!0,ae=!0)=>{if(we&&ee&&!e.disabled){if(s.action=!0,ae&&Array.isArray(Pe(n,q))){const Ae=ee(Pe(n,q),we.argA,we.argB);de&&Rt(n,q,Ae)}if(ae&&Array.isArray(Pe(r.errors,q))){const Ae=ee(Pe(r.errors,q),we.argA,we.argB);de&&Rt(r.errors,q,Ae),hce(r.errors,q)}if((d.touchedFields||f.touchedFields)&&ae&&Array.isArray(Pe(r.touchedFields,q))){const Ae=ee(Pe(r.touchedFields,q),we.argA,we.argB);de&&Rt(r.touchedFields,q,Ae)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=yh(i,a)),h.state.next({name:q,isDirty:O(q,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Rt(a,q,K)},N=(q,K)=>{Rt(r.errors,q,K),h.state.next({errors:r.errors})},T=q=>{r.errors=q,h.state.next({errors:r.errors,isValid:!1})},E=(q,K,ee,we)=>{const de=Pe(n,q);if(de){const ae=Pe(a,q,br(ee)?Pe(i,q):ee);br(ae)||we&&we.defaultChecked||K?Rt(a,q,K?ae:eR(de._f)):V(q,ae),s.mount&&w()}},S=(q,K,ee,we,de)=>{let ae=!1,Ae=!1;const pt={name:q};if(!e.disabled){if(!ee||we){(d.isDirty||f.isDirty)&&(Ae=r.isDirty,r.isDirty=pt.isDirty=O(),ae=Ae!==pt.isDirty);const tr=mo(Pe(i,q),K);Ae=!!Pe(r.dirtyFields,q),tr?Cr(r.dirtyFields,q):Rt(r.dirtyFields,q,!0),pt.dirtyFields=r.dirtyFields,ae=ae||(d.dirtyFields||f.dirtyFields)&&Ae!==!tr}if(ee){const tr=Pe(r.touchedFields,q);tr||(Rt(r.touchedFields,q,ee),pt.touchedFields=r.touchedFields,ae=ae||(d.touchedFields||f.touchedFields)&&tr!==ee)}ae&&de&&h.state.next(pt)}return ae?pt:{}},j=(q,K,ee,we)=>{const de=Pe(r.errors,q),ae=(d.isValid||f.isValid)&&xa(K)&&r.isValid!==K;if(e.delayError&&ee?(c=y(()=>N(q,ee)),c(e.delayError)):(clearTimeout(u),c=null,ee?Rt(r.errors,q,ee):Cr(r.errors,q)),(ee?!mo(de,ee):de)||!In(we)||ae){const Ae={...we,...ae&&xa(K)?{isValid:K}:{},errors:r.errors,name:q};r={...r,...Ae},h.state.next(Ae)}},C=async q=>{x(q,!0);const K=await e.resolver(a,e.context,oce(q||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(q),K},I=async q=>{const{errors:K}=await C(q);if(q)for(const ee of q){const we=Pe(K,ee);we?Rt(r.errors,ee,we):Cr(r.errors,ee)}else r.errors=K;return K},k=async(q,K,ee={valid:!0})=>{for(const we in q){const de=q[we];if(de){const{_f:ae,...Ae}=de;if(ae){const pt=o.array.has(ae.name),tr=de._f&&lce(de._f);tr&&d.validatingFields&&x([we],!0);const Br=await sR(de,o.disabled,a,g,e.shouldUseNativeValidation&&!K,pt);if(tr&&d.validatingFields&&x([we]),Br[ae.name]&&(ee.valid=!1,K))break;!K&&(Pe(Br,ae.name)?pt?pce(r.errors,Br,ae.name):Rt(r.errors,ae.name,Br[ae.name]):Cr(r.errors,ae.name))}!In(Ae)&&await k(Ae,K,ee)}}return ee.valid},R=()=>{for(const q of o.unMount){const K=Pe(n,q);K&&(K._f.refs?K._f.refs.every(ee=>!J_(ee)):!J_(K._f.ref))&&ie(q)}o.unMount=new Set},O=(q,K)=>!e.disabled&&(q&&K&&Rt(a,q,K),!mo(Y(),i)),$=(q,K,ee)=>nce(q,o,{...s.mount?a:br(K)?i:ja(q)?{[q]:K}:K},ee,K),D=q=>Lb(Pe(s.mount?a:i,q,e.shouldUnregister?Pe(i,q,[]):[])),V=(q,K,ee={})=>{const we=Pe(n,q);let de=K;if(we){const ae=we._f;ae&&(!ae.disabled&&Rt(a,q,LU(K,ae)),de=_x(ae.ref)&&kn(K)?"":K,RU(ae.ref)?[...ae.ref.options].forEach(Ae=>Ae.selected=de.includes(Ae.value)):ae.refs?bg(ae.ref)?ae.refs.length>1?ae.refs.forEach(Ae=>(!Ae.defaultChecked||!Ae.disabled)&&(Ae.checked=Array.isArray(de)?!!de.find(pt=>pt===Ae.value):de===Ae.value)):ae.refs[0]&&(ae.refs[0].checked=!!de):ae.refs.forEach(Ae=>Ae.checked=Ae.value===de):GN(ae.ref)?ae.ref.value="":(ae.ref.value=de,ae.ref.type||h.state.next({name:q,values:gn(a)})))}(ee.shouldDirty||ee.shouldTouch)&&S(q,de,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&J(q)},L=(q,K,ee)=>{for(const we in K){const de=K[we],ae=`${q}.${we}`,Ae=Pe(n,ae);(o.array.has(q)||gr(de)||Ae&&!Ae._f)&&!Xl(de)?L(ae,de,ee):V(ae,de,ee)}},F=(q,K,ee={})=>{const we=Pe(n,q),de=o.array.has(q),ae=gn(K);Rt(a,q,ae),de?(h.array.next({name:q,values:gn(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ee.shouldDirty&&h.state.next({name:q,dirtyFields:yh(i,a),isDirty:O(q,ae)})):we&&!we._f&&!kn(ae)?L(q,ae,ee):V(q,ae,ee),nR(q,o)&&h.state.next({...r}),h.state.next({name:s.mount?q:void 0,values:gn(a)})},B=async q=>{s.mount=!0;const K=q.target;let ee=K.name,we=!0;const de=Pe(n,ee),ae=Ae=>{we=Number.isNaN(Ae)||Xl(Ae)&&isNaN(Ae.getTime())||mo(Ae,Pe(a,ee,Ae))};if(de){let Ae,pt;const tr=K.type?eR(de._f):Zle(q),Br=q.type===Q2.BLUR||q.type===Q2.FOCUS_OUT,Tl=!cce(de._f)&&!e.resolver&&!Pe(r.errors,ee)&&!de._f.deps||fce(Br,Pe(r.touchedFields,ee),r.isSubmitted,v,m),au=nR(ee,o,Br);Rt(a,ee,tr),Br?(de._f.onBlur&&de._f.onBlur(q),c&&c(0)):de._f.onChange&&de._f.onChange(q);const su=S(ee,tr,Br),Qf=!In(su)||au;if(!Br&&h.state.next({name:ee,type:q.type,values:gn(a)}),Tl)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Br&&w():Br||w()),Qf&&h.state.next({name:ee,...au?{}:su});if(!Br&&au&&h.state.next({...r}),e.resolver){const{errors:Og}=await C([ee]);if(ae(tr),we){const Fw=iR(r.errors,n,ee),ou=iR(Og,n,Fw.name||ee);Ae=ou.error,ee=ou.name,pt=In(Og)}}else x([ee],!0),Ae=(await sR(de,o.disabled,a,g,e.shouldUseNativeValidation))[ee],x([ee]),ae(tr),we&&(Ae?pt=!1:(d.isValid||f.isValid)&&(pt=await k(n,!0)));we&&(de._f.deps&&J(de._f.deps),j(ee,pt,Ae,su))}},U=(q,K)=>{if(Pe(r.errors,K)&&q.focus)return q.focus(),1},J=async(q,K={})=>{let ee,we;const de=up(q);if(e.resolver){const ae=await I(br(q)?q:de);ee=In(ae),we=q?!de.some(Ae=>Pe(ae,Ae)):ee}else q?(we=(await Promise.all(de.map(async ae=>{const Ae=Pe(n,ae);return await k(Ae&&Ae._f?{[ae]:Ae}:Ae)}))).every(Boolean),!(!we&&!r.isValid)&&w()):we=ee=await k(n);return h.state.next({...!ja(q)||(d.isValid||f.isValid)&&ee!==r.isValid?{}:{name:q},...e.resolver||!q?{isValid:ee}:{},errors:r.errors}),K.shouldFocus&&!we&&dp(n,U,q?de:o.mount),we},Y=q=>{const K={...s.mount?a:i};return br(q)?K:ja(q)?Pe(K,q):q.map(ee=>Pe(K,ee))},oe=(q,K)=>({invalid:!!Pe((K||r).errors,q),isDirty:!!Pe((K||r).dirtyFields,q),error:Pe((K||r).errors,q),isValidating:!!Pe(r.validatingFields,q),isTouched:!!Pe((K||r).touchedFields,q)}),H=q=>{q&&up(q).forEach(K=>Cr(r.errors,K)),h.state.next({errors:q?r.errors:{}})},Z=(q,K,ee)=>{const we=(Pe(n,q,{_f:{}})._f||{}).ref,de=Pe(r.errors,q)||{},{ref:ae,message:Ae,type:pt,...tr}=de;Rt(r.errors,q,{...tr,...K,ref:we}),h.state.next({name:q,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&we&&we.focus&&we.focus()},ye=(q,K)=>Ji(q)?h.state.subscribe({next:ee=>q($(void 0,K),ee)}):$(q,K,!0),ue=q=>h.state.subscribe({next:K=>{dce(q.name,K.name,q.exact)&&uce(K,q.formState||d,un,q.reRenderRoot)&&q.callback({values:{...a},...r,...K})}}).unsubscribe,$e=q=>(s.mount=!0,f={...f,...q.formState},ue({...q,formState:f})),ie=(q,K={})=>{for(const ee of q?up(q):o.mount)o.mount.delete(ee),o.array.delete(ee),K.keepValue||(Cr(n,ee),Cr(a,ee)),!K.keepError&&Cr(r.errors,ee),!K.keepDirty&&Cr(r.dirtyFields,ee),!K.keepTouched&&Cr(r.touchedFields,ee),!K.keepIsValidating&&Cr(r.validatingFields,ee),!e.shouldUnregister&&!K.keepDefaultValue&&Cr(i,ee);h.state.next({values:gn(a)}),h.state.next({...r,...K.keepDirty?{isDirty:O()}:{}}),!K.keepIsValid&&w()},ve=({disabled:q,name:K})=>{(xa(q)&&s.mount||q||o.disabled.has(K))&&(q?o.disabled.add(K):o.disabled.delete(K))},xe=(q,K={})=>{let ee=Pe(n,q);const we=xa(K.disabled)||xa(e.disabled);return Rt(n,q,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:q}},name:q,mount:!0,...K}}),o.mount.add(q),ee?ve({disabled:xa(K.disabled)?K.disabled:e.disabled,name:q}):E(q,!0,K.value),{...we?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:xh(K.min),max:xh(K.max),minLength:xh(K.minLength),maxLength:xh(K.maxLength),pattern:xh(K.pattern)}:{},name:q,onChange:B,onBlur:B,ref:de=>{if(de){xe(q,K),ee=Pe(n,q);const ae=br(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Ae=ice(ae),pt=ee._f.refs||[];if(Ae?pt.find(tr=>tr===ae):ae===ee._f.ref)return;Rt(n,q,{_f:{...ee._f,...Ae?{refs:[...pt.filter(J_),ae,...Array.isArray(Pe(i,q))?[{}]:[]],ref:{type:ae.type,name:q}}:{ref:ae}}}),E(q,!1,void 0,ae)}else ee=Pe(n,q,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(ece(o.array,q)&&s.action)&&o.unMount.add(q)}}},X=()=>e.shouldFocusError&&dp(n,U,o.mount),Ze=q=>{xa(q)&&(h.state.next({disabled:q}),dp(n,(K,ee)=>{const we=Pe(n,ee);we&&(K.disabled=we._f.disabled||q,Array.isArray(we._f.refs)&&we._f.refs.forEach(de=>{de.disabled=we._f.disabled||q}))},0,!1))},Le=(q,K)=>async ee=>{let we;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let de=gn(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:Ae}=await C();r.errors=ae,de=Ae}else await k(n);if(o.disabled.size)for(const ae of o.disabled)Rt(de,ae,void 0);if(Cr(r.errors,"root"),In(r.errors)){h.state.next({errors:{}});try{await q(de,ee)}catch(ae){we=ae}}else K&&await K({...r.errors},ee),X(),setTimeout(X);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:In(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},Tt=(q,K={})=>{Pe(n,q)&&(br(K.defaultValue)?F(q,gn(Pe(i,q))):(F(q,K.defaultValue),Rt(i,q,gn(K.defaultValue))),K.keepTouched||Cr(r.touchedFields,q),K.keepDirty||(Cr(r.dirtyFields,q),r.isDirty=K.defaultValue?O(q,gn(Pe(i,q))):O()),K.keepError||(Cr(r.errors,q),d.isValid&&w()),h.state.next({...r}))},jt=(q,K={})=>{const ee=q?gn(q):i,we=gn(ee),de=In(q),ae=de?i:we;if(K.keepDefaultValues||(i=ee),!K.keepValues){if(K.keepDirtyValues){const Ae=new Set([...o.mount,...Object.keys(yh(i,a))]);for(const pt of Array.from(Ae))Pe(r.dirtyFields,pt)?Rt(ae,pt,Pe(a,pt)):F(pt,Pe(ae,pt))}else{if(WN&&br(q))for(const Ae of o.mount){const pt=Pe(n,Ae);if(pt&&pt._f){const tr=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(_x(tr)){const Br=tr.closest("form");if(Br){Br.reset();break}}}}for(const Ae of o.mount)F(Ae,Pe(ae,Ae))}a=gn(ae),h.array.next({values:{...ae}}),h.state.next({values:{...ae}})}o={mount:K.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:de?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!mo(q,i)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:K.keepDirtyValues?K.keepDefaultValues&&a?yh(i,a):r.dirtyFields:K.keepDefaultValues&&q?yh(i,q):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},qt=(q,K)=>jt(Ji(q)?q(a):q,K),Un=(q,K={})=>{const ee=Pe(n,q),we=ee&&ee._f;if(we){const de=we.refs?we.refs[0]:we.ref;de.focus&&(de.focus(),K.shouldSelect&&Ji(de.select)&&de.select())}},un=q=>{r={...r,...q}},ti={control:{register:xe,unregister:ie,getFieldState:oe,handleSubmit:Le,setError:Z,_subscribe:ue,_runSchema:C,_getWatch:$,_getDirty:O,_setValid:w,_setFieldArray:b,_setDisabledField:ve,_setErrors:T,_getFieldArray:D,_reset:jt,_resetDefaultValues:()=>Ji(e.defaultValues)&&e.defaultValues().then(q=>{qt(q,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Ze,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(q){s=q},get _defaultValues(){return i},get _names(){return o},set _names(q){o=q},get _formState(){return r},get _options(){return e},set _options(q){e={...e,...q}}},subscribe:$e,trigger:J,register:xe,handleSubmit:Le,watch:ye,setValue:F,getValues:Y,reset:qt,resetField:Tt,clearErrors:H,unregister:ie,setError:Z,setFocus:Un,getFieldState:oe};return{...ti,formControl:ti}}function VU(t={}){const e=z.useRef(void 0),r=z.useRef(void 0),[n,i]=z.useState({isDirty:!1,isValidating:!1,isLoading:Ji(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ji(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:gce(t),formState:n},t.formControl&&t.defaultValues&&!Ji(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,z.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),z.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),z.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),z.useEffect(()=>{t.values&&!mo(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),z.useEffect(()=>{t.errors&&!In(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),z.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),z.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=rce(n,a),e.current}const oR=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Pe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},BU=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?oR(n.ref,r,t):n.refs&&n.refs.forEach(i=>oR(i,r,t))}},vce=(t,e)=>{e.shouldUseNativeValidation&&BU(t,e);const r={};for(const n in t){const i=Pe(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(yce(e.names||Object.keys(t),n)){const s=Object.assign({},Pe(r,n));Rt(s,"root",a),Rt(r,n,s)}else Rt(r,n,a)}return r},yce=(t,e)=>t.some(r=>r.startsWith(e+"."));var xce=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[s].types,u=c&&c[n.code];r[s]=kU(s,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},UU=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&BU({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:vce(xce(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},xt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(xt||(xt={}));var jE;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(jE||(jE={}));const Te=xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),os=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},ce=xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),bce=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class pi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof pi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}pi.create=t=>new pi(t);const Ud=(t,e)=>{let r;switch(t.code){case ce.invalid_type:t.received===Te.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,xt.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${xt.joinValues(t.keys,", ")}`;break;case ce.invalid_union:r="Invalid input";break;case ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${xt.joinValues(t.options)}`;break;case ce.invalid_enum_value:r=`Invalid enum value. Expected ${xt.joinValues(t.options)}, received '${t.received}'`;break;case ce.invalid_arguments:r="Invalid function arguments";break;case ce.invalid_return_type:r="Invalid function return type";break;case ce.invalid_date:r="Invalid date";break;case ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:xt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ce.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ce.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ce.custom:r="Invalid input";break;case ce.invalid_intersection_types:r="Intersection results could not be merged";break;case ce.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ce.not_finite:r="Number must be finite";break;default:r=e.defaultError,xt.assertNever(t)}return{message:r}};let zU=Ud;function wce(t){zU=t}function Tx(){return zU}const jx=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},_ce=[];function be(t,e){const r=Tx(),n=jx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ud?void 0:Ud].filter(i=>!!i)});t.common.issues.push(n)}class jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return qe;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return jn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return qe;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const qe=Object.freeze({status:"aborted"}),Lu=t=>({status:"dirty",value:t}),Ln=t=>({status:"valid",value:t}),AE=t=>t.status==="aborted",NE=t=>t.status==="dirty",Dc=t=>t.status==="valid",Xp=t=>typeof Promise<"u"&&t instanceof Promise;function Ax(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function qU(t,e,r,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));var Vh,Bh;class qa{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lR=(t,e)=>{if(Dc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pi(t.common.issues);return this._error=r,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var c,u;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:i}}class ot{get description(){return this._def.description}_getType(e){return os(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:os(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new jn,ctx:{common:e.parent.common,data:e.data,parsedType:os(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Xp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:os(e)},a=this._parseSync({data:e,path:i.path,parent:i});return lR(i,a)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:os(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return Dc(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>Dc(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:os(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Xp(i)?i:Promise.resolve(i));return lR(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:ce.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new ha({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $a.create(this,this._def)}nullable(){return fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oa.create(this)}promise(){return qd.create(this,this._def)}or(e){return tm.create([this,e],this._def)}and(e){return rm.create(this,e,this._def)}transform(e){return new ha({...tt(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new om({...tt(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new QN({typeName:ze.ZodBranded,type:this,...tt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new lm({...tt(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return wg.create(this,e)}readonly(){return cm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Sce=/^c[^\s-]{8,}$/i,Ece=/^[0-9a-z]+$/,Tce=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ace=/^[a-z0-9_-]{21}$/i,Nce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Cce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Pce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ice="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let e1;const Oce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Mce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Dce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$ce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Lce=new RegExp(`^${WU}$`);function HU(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Fce(t){return new RegExp(`^${HU(t)}$`)}function GU(t){let e=`${WU}T${HU(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Vce(t,e){return!!((e==="v4"||!e)&&Oce.test(t)||(e==="v6"||!e)&&Rce.test(t))}function Bce(t,e){if(!Nce.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Uce(t,e){return!!((e==="v4"||!e)&&kce.test(t)||(e==="v6"||!e)&&Mce.test(t))}class ra extends ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const a=this._getOrReturnCtx(e);return be(a,{code:ce.invalid_type,expected:Te.string,received:a.parsedType}),qe}const n=new jn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?be(i,{code:ce.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&be(i,{code:ce.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Pce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"email",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")e1||(e1=new RegExp(Ice,"u")),e1.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"emoji",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")jce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"uuid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Ace.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"nanoid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Sce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Ece.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid2",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Tce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ulid",code:ce.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),be(i,{validation:"url",code:ce.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"regex",code:ce.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),be(i,{code:ce.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:ce.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:ce.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?GU(a).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ce.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Lce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ce.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Fce(a).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ce.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?Cce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"duration",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Vce(e.data,a.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ip",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Bce(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"jwt",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Uce(e.data,a.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cidr",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Dce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64",code:ce.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?$ce.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64url",code:ce.invalid_string,message:a.message}),n.dirty()):xt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ce.invalid_string,...ke.errToObj(n)})}_addCheck(e){return new ra({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ke.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ke.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ke.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ke.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ke.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ke.errToObj(r)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ra.create=t=>{var e;return new ra({checks:[],typeName:ze.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...tt(t)})};function zce(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class cl extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const a=this._getOrReturnCtx(e);return be(a,{code:ce.invalid_type,expected:Te.number,received:a.parsedType}),qe}let n;const i=new jn;for(const a of this._def.checks)a.kind==="int"?xt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),be(n,{code:ce.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ce.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ce.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?zce(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),be(n,{code:ce.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),be(n,{code:ce.not_finite,message:a.message}),i.dirty()):xt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ke.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ke.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ke.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ke.toString(r))}setLimit(e,r,n,i){return new cl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ke.toString(i)}]})}_addCheck(e){return new cl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}cl.create=t=>new cl({checks:[],typeName:ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class ul extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let n;const i=new jn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ce.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ce.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),be(n,{code:ce.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):xt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return be(r,{code:ce.invalid_type,expected:Te.bigint,received:r.parsedType}),qe}gte(e,r){return this.setLimit("min",e,!0,ke.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ke.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ke.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ke.toString(r))}setLimit(e,r,n,i){return new ul({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ke.toString(i)}]})}_addCheck(e){return new ul({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ul.create=t=>{var e;return new ul({checks:[],typeName:ze.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...tt(t)})};class Zp extends ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const n=this._getOrReturnCtx(e);return be(n,{code:ce.invalid_type,expected:Te.boolean,received:n.parsedType}),qe}return Ln(e.data)}}Zp.create=t=>new Zp({typeName:ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class $c extends ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const a=this._getOrReturnCtx(e);return be(a,{code:ce.invalid_type,expected:Te.date,received:a.parsedType}),qe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return be(a,{code:ce.invalid_date}),qe}const n=new jn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ce.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ce.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):xt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $c({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}$c.create=t=>new $c({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ze.ZodDate,...tt(t)});class Nx extends ot{_parse(e){if(this._getType(e)!==Te.symbol){const n=this._getOrReturnCtx(e);return be(n,{code:ce.invalid_type,expected:Te.symbol,received:n.parsedType}),qe}return Ln(e.data)}}Nx.create=t=>new Nx({typeName:ze.ZodSymbol,...tt(t)});class Jp extends ot{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return be(n,{code:ce.invalid_type,expected:Te.undefined,received:n.parsedType}),qe}return Ln(e.data)}}Jp.create=t=>new Jp({typeName:ze.ZodUndefined,...tt(t)});class em extends ot{_parse(e){if(this._getType(e)!==Te.null){const n=this._getOrReturnCtx(e);return be(n,{code:ce.invalid_type,expected:Te.null,received:n.parsedType}),qe}return Ln(e.data)}}em.create=t=>new em({typeName:ze.ZodNull,...tt(t)});class zd extends ot{constructor(){super(...arguments),this._any=!0}_parse(e){return Ln(e.data)}}zd.create=t=>new zd({typeName:ze.ZodAny,...tt(t)});class pc extends ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ln(e.data)}}pc.create=t=>new pc({typeName:ze.ZodUnknown,...tt(t)});class Ms extends ot{_parse(e){const r=this._getOrReturnCtx(e);return be(r,{code:ce.invalid_type,expected:Te.never,received:r.parsedType}),qe}}Ms.create=t=>new Ms({typeName:ze.ZodNever,...tt(t)});class Cx extends ot{_parse(e){if(this._getType(e)!==Te.undefined){const n=this._getOrReturnCtx(e);return be(n,{code:ce.invalid_type,expected:Te.void,received:n.parsedType}),qe}return Ln(e.data)}}Cx.create=t=>new Cx({typeName:ze.ZodVoid,...tt(t)});class oa extends ot{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Te.array)return be(r,{code:ce.invalid_type,expected:Te.array,received:r.parsedType}),qe;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(be(r,{code:s?ce.too_big:ce.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(be(r,{code:ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(be(r,{code:ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new qa(r,s,r.path,o)))).then(s=>jn.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new qa(r,s,r.path,o)));return jn.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new oa({...this._def,minLength:{value:e,message:ke.toString(r)}})}max(e,r){return new oa({...this._def,maxLength:{value:e,message:ke.toString(r)}})}length(e,r){return new oa({...this._def,exactLength:{value:e,message:ke.toString(r)}})}nonempty(e){return this.min(1,e)}}oa.create=(t,e)=>new oa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...tt(e)});function Eu(t){if(t instanceof rr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=$a.create(Eu(n))}return new rr({...t._def,shape:()=>e})}else return t instanceof oa?new oa({...t._def,type:Eu(t.element)}):t instanceof $a?$a.create(Eu(t.unwrap())):t instanceof fl?fl.create(Eu(t.unwrap())):t instanceof Wa?Wa.create(t.items.map(e=>Eu(e))):t}class rr extends ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=xt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Te.object){const u=this._getOrReturnCtx(e);return be(u,{code:ce.invalid_type,expected:Te.object,received:u.parsedType}),qe}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ms&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qa(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ms){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(be(i,{code:ce.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qa(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>jn.mergeObjectSync(n,u)):jn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new rr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const c=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=ke.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new rr({...this._def,unknownKeys:"strip"})}passthrough(){return new rr({...this._def,unknownKeys:"passthrough"})}extend(e){return new rr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new rr({...this._def,catchall:e})}pick(e){const r={};return xt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new rr({...this._def,shape:()=>r})}omit(e){const r={};return xt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new rr({...this._def,shape:()=>r})}deepPartial(){return Eu(this)}partial(e){const r={};return xt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new rr({...this._def,shape:()=>r})}required(e){const r={};return xt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof $a;)a=a._def.innerType;r[n]=a}}),new rr({...this._def,shape:()=>r})}keyof(){return KU(xt.objectKeys(this.shape))}}rr.create=(t,e)=>new rr({shape:()=>t,unknownKeys:"strip",catchall:Ms.create(),typeName:ze.ZodObject,...tt(e)});rr.strictCreate=(t,e)=>new rr({shape:()=>t,unknownKeys:"strict",catchall:Ms.create(),typeName:ze.ZodObject,...tt(e)});rr.lazycreate=(t,e)=>new rr({shape:t,unknownKeys:"strip",catchall:Ms.create(),typeName:ze.ZodObject,...tt(e)});class tm extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new pi(o.ctx.common.issues));return be(r,{code:ce.invalid_union,unionErrors:s}),qe}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(c=>new pi(c));return be(r,{code:ce.invalid_union,unionErrors:o}),qe}}get options(){return this._def.options}}tm.create=(t,e)=>new tm({options:t,typeName:ze.ZodUnion,...tt(e)});const ns=t=>t instanceof im?ns(t.schema):t instanceof ha?ns(t.innerType()):t instanceof am?[t.value]:t instanceof dl?t.options:t instanceof sm?xt.objectValues(t.enum):t instanceof om?ns(t._def.innerType):t instanceof Jp?[void 0]:t instanceof em?[null]:t instanceof $a?[void 0,...ns(t.unwrap())]:t instanceof fl?[null,...ns(t.unwrap())]:t instanceof QN||t instanceof cm?ns(t.unwrap()):t instanceof lm?ns(t._def.innerType):[];class Fb extends ot{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return be(r,{code:ce.invalid_type,expected:Te.object,received:r.parsedType}),qe;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(be(r,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const s=ns(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new Fb({typeName:ze.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...tt(n)})}}function CE(t,e){const r=os(t),n=os(e);if(t===e)return{valid:!0,data:t};if(r===Te.object&&n===Te.object){const i=xt.objectKeys(e),a=xt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const c=CE(t[o],e[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===Te.array&&n===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],c=CE(s,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Te.date&&n===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rm extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(AE(a)||AE(s))return qe;const o=CE(a.value,s.value);return o.valid?((NE(a)||NE(s))&&r.dirty(),{status:r.value,value:o.data}):(be(n,{code:ce.invalid_intersection_types}),qe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rm.create=(t,e,r)=>new rm({left:t,right:e,typeName:ze.ZodIntersection,...tt(r)});class Wa extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.array)return be(n,{code:ce.invalid_type,expected:Te.array,received:n.parsedType}),qe;if(n.data.length<this._def.items.length)return be(n,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&n.data.length>this._def.items.length&&(be(n,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new qa(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>jn.mergeArray(r,s)):jn.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Wa({...this._def,rest:e})}}Wa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wa({items:t,typeName:ze.ZodTuple,rest:null,...tt(e)})};class nm extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return be(n,{code:ce.invalid_type,expected:Te.object,received:n.parsedType}),qe;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new qa(n,o,n.path,o)),value:s._parse(new qa(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?jn.mergeObjectAsync(r,i):jn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ot?new nm({keyType:e,valueType:r,typeName:ze.ZodRecord,...tt(n)}):new nm({keyType:ra.create(),valueType:e,typeName:ze.ZodRecord,...tt(r)})}}class Px extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.map)return be(n,{code:ce.invalid_type,expected:Te.map,received:n.parsedType}),qe;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new qa(n,o,n.path,[u,"key"])),value:a._parse(new qa(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return qe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return qe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}Px.create=(t,e,r)=>new Px({valueType:e,keyType:t,typeName:ze.ZodMap,...tt(r)});class Lc extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.set)return be(n,{code:ce.invalid_type,expected:Te.set,received:n.parsedType}),qe;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(be(n,{code:ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(be(n,{code:ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return qe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new qa(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(e,r){return new Lc({...this._def,minSize:{value:e,message:ke.toString(r)}})}max(e,r){return new Lc({...this._def,maxSize:{value:e,message:ke.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Lc.create=(t,e)=>new Lc({valueType:t,minSize:null,maxSize:null,typeName:ze.ZodSet,...tt(e)});class od extends ot{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.function)return be(r,{code:ce.invalid_type,expected:Te.function,received:r.parsedType}),qe;function n(o,c){return jx({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Tx(),Ud].filter(u=>!!u),issueData:{code:ce.invalid_arguments,argumentsError:c}})}function i(o,c){return jx({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Tx(),Ud].filter(u=>!!u),issueData:{code:ce.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof qd){const o=this;return Ln(async function(...c){const u=new pi([]),d=await o._def.args.parseAsync(c,a).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(f,a).catch(m=>{throw u.addIssue(i(f,m)),u})})}else{const o=this;return Ln(function(...c){const u=o._def.args.safeParse(c,a);if(!u.success)throw new pi([n(c,u.error)]);const d=Reflect.apply(s,this,u.data),f=o._def.returns.safeParse(d,a);if(!f.success)throw new pi([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new od({...this._def,args:Wa.create(e).rest(pc.create())})}returns(e){return new od({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new od({args:e||Wa.create([]).rest(pc.create()),returns:r||pc.create(),typeName:ze.ZodFunction,...tt(n)})}}class im extends ot{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}im.create=(t,e)=>new im({getter:t,typeName:ze.ZodLazy,...tt(e)});class am extends ot{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return be(r,{received:r.data,code:ce.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}am.create=(t,e)=>new am({value:t,typeName:ze.ZodLiteral,...tt(e)});function KU(t,e){return new dl({values:t,typeName:ze.ZodEnum,...tt(e)})}class dl extends ot{constructor(){super(...arguments),Vh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return be(r,{expected:xt.joinValues(n),received:r.parsedType,code:ce.invalid_type}),qe}if(Ax(this,Vh)||qU(this,Vh,new Set(this._def.values)),!Ax(this,Vh).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return be(r,{received:r.data,code:ce.invalid_enum_value,options:n}),qe}return Ln(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return dl.create(e,{...this._def,...r})}exclude(e,r=this._def){return dl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Vh=new WeakMap;dl.create=KU;class sm extends ot{constructor(){super(...arguments),Bh.set(this,void 0)}_parse(e){const r=xt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const i=xt.objectValues(r);return be(n,{expected:xt.joinValues(i),received:n.parsedType,code:ce.invalid_type}),qe}if(Ax(this,Bh)||qU(this,Bh,new Set(xt.getValidEnumValues(this._def.values))),!Ax(this,Bh).has(e.data)){const i=xt.objectValues(r);return be(n,{received:n.data,code:ce.invalid_enum_value,options:i}),qe}return Ln(e.data)}get enum(){return this._def.values}}Bh=new WeakMap;sm.create=(t,e)=>new sm({values:t,typeName:ze.ZodNativeEnum,...tt(e)});class qd extends ot{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.promise&&r.common.async===!1)return be(r,{code:ce.invalid_type,expected:Te.promise,received:r.parsedType}),qe;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return Ln(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qd.create=(t,e)=>new qd({type:t,typeName:ze.ZodPromise,...tt(e)});class ha extends ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{be(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return qe;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?qe:c.status==="dirty"||r.value==="dirty"?Lu(c.value):c});{if(r.value==="aborted")return qe;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?qe:o.status==="dirty"||r.value==="dirty"?Lu(o.value):o}}if(i.type==="refinement"){const s=o=>{const c=i.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?qe:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?qe:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Dc(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Dc(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);xt.assertNever(i)}}ha.create=(t,e,r)=>new ha({schema:t,typeName:ze.ZodEffects,effect:e,...tt(r)});ha.createWithPreprocess=(t,e,r)=>new ha({schema:e,effect:{type:"preprocess",transform:t},typeName:ze.ZodEffects,...tt(r)});class $a extends ot{_parse(e){return this._getType(e)===Te.undefined?Ln(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$a.create=(t,e)=>new $a({innerType:t,typeName:ze.ZodOptional,...tt(e)});class fl extends ot{_parse(e){return this._getType(e)===Te.null?Ln(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fl.create=(t,e)=>new fl({innerType:t,typeName:ze.ZodNullable,...tt(e)});class om extends ot{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}om.create=(t,e)=>new om({innerType:t,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class lm extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Xp(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new pi(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}lm.create=(t,e)=>new lm({innerType:t,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class Ix extends ot{_parse(e){if(this._getType(e)!==Te.nan){const n=this._getOrReturnCtx(e);return be(n,{code:ce.invalid_type,expected:Te.nan,received:n.parsedType}),qe}return{status:"valid",value:e.data}}}Ix.create=t=>new Ix({typeName:ze.ZodNaN,...tt(t)});const qce=Symbol("zod_brand");class QN extends ot{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class wg extends ot{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?qe:a.status==="dirty"?(r.dirty(),Lu(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?qe:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new wg({in:e,out:r,typeName:ze.ZodPipeline})}}class cm extends ot{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Dc(i)&&(i.value=Object.freeze(i.value)),i);return Xp(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}cm.create=(t,e)=>new cm({innerType:t,typeName:ze.ZodReadonly,...tt(e)});function cR(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function QU(t,e={},r){return t?zd.create().superRefine((n,i)=>{var a,s;const o=t(n);if(o instanceof Promise)return o.then(c=>{var u,d;if(!c){const f=cR(e,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:h})}});if(!o){const c=cR(e,n),u=(s=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...c,fatal:u})}}):zd.create()}const Wce={object:rr.lazycreate};var ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ze||(ze={}));const Hce=(t,e={message:`Input not instance of ${t.name}`})=>QU(r=>r instanceof t,e),YU=ra.create,XU=cl.create,Gce=Ix.create,Kce=ul.create,ZU=Zp.create,Qce=$c.create,Yce=Nx.create,Xce=Jp.create,Zce=em.create,Jce=zd.create,eue=pc.create,tue=Ms.create,rue=Cx.create,nue=oa.create,iue=rr.create,aue=rr.strictCreate,sue=tm.create,oue=Fb.create,lue=rm.create,cue=Wa.create,uue=nm.create,due=Px.create,fue=Lc.create,hue=od.create,pue=im.create,mue=am.create,gue=dl.create,vue=sm.create,yue=qd.create,uR=ha.create,xue=$a.create,bue=fl.create,wue=ha.createWithPreprocess,_ue=wg.create,Sue=()=>YU().optional(),Eue=()=>XU().optional(),Tue=()=>ZU().optional(),jue={string:t=>ra.create({...t,coerce:!0}),number:t=>cl.create({...t,coerce:!0}),boolean:t=>Zp.create({...t,coerce:!0}),bigint:t=>ul.create({...t,coerce:!0}),date:t=>$c.create({...t,coerce:!0})},Aue=qe;var fr=Object.freeze({__proto__:null,defaultErrorMap:Ud,setErrorMap:wce,getErrorMap:Tx,makeIssue:jx,EMPTY_PATH:_ce,addIssueToContext:be,ParseStatus:jn,INVALID:qe,DIRTY:Lu,OK:Ln,isAborted:AE,isDirty:NE,isValid:Dc,isAsync:Xp,get util(){return xt},get objectUtil(){return jE},ZodParsedType:Te,getParsedType:os,ZodType:ot,datetimeRegex:GU,ZodString:ra,ZodNumber:cl,ZodBigInt:ul,ZodBoolean:Zp,ZodDate:$c,ZodSymbol:Nx,ZodUndefined:Jp,ZodNull:em,ZodAny:zd,ZodUnknown:pc,ZodNever:Ms,ZodVoid:Cx,ZodArray:oa,ZodObject:rr,ZodUnion:tm,ZodDiscriminatedUnion:Fb,ZodIntersection:rm,ZodTuple:Wa,ZodRecord:nm,ZodMap:Px,ZodSet:Lc,ZodFunction:od,ZodLazy:im,ZodLiteral:am,ZodEnum:dl,ZodNativeEnum:sm,ZodPromise:qd,ZodEffects:ha,ZodTransformer:ha,ZodOptional:$a,ZodNullable:fl,ZodDefault:om,ZodCatch:lm,ZodNaN:Ix,BRAND:qce,ZodBranded:QN,ZodPipeline:wg,ZodReadonly:cm,custom:QU,Schema:ot,ZodSchema:ot,late:Wce,get ZodFirstPartyTypeKind(){return ze},coerce:jue,any:Jce,array:nue,bigint:Kce,boolean:ZU,date:Qce,discriminatedUnion:oue,effect:uR,enum:gue,function:hue,instanceof:Hce,intersection:lue,lazy:pue,literal:mue,map:due,nan:Gce,nativeEnum:vue,never:tue,null:Zce,nullable:bue,number:XU,object:iue,oboolean:Tue,onumber:Eue,optional:xue,ostring:Sue,pipeline:_ue,preprocess:wue,promise:yue,record:uue,set:fue,strictObject:aue,string:YU,symbol:Yce,transformer:uR,tuple:cue,undefined:Xce,union:sue,unknown:eue,void:rue,NEVER:Aue,ZodIssueCode:ce,quotelessJson:bce,ZodError:pi}),YN="Switch",[Nue,H4e]=cn(YN),[Cue,Pue]=Nue(YN),JU=_.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,m]=_.useState(null),v=ut(e,b=>m(b)),g=_.useRef(!1),y=h?d||!!h.closest("form"):!0,[w=!1,x]=Ua({prop:i,defaultProp:a,onChange:u});return l.jsxs(Cue,{scope:r,checked:w,disabled:o,children:[l.jsx(Me.button,{type:"button",role:"switch","aria-checked":w,"aria-required":s,"data-state":r9(w),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:v,onClick:pe(t.onClick,b=>{x(N=>!N),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&l.jsx(Iue,{control:h,bubbles:!g.current,name:n,value:c,checked:w,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});JU.displayName=YN;var e9="SwitchThumb",t9=_.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Pue(e9,r);return l.jsx(Me.span,{"data-state":r9(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});t9.displayName=e9;var Iue=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=_.useRef(null),s=Rb(r),o=Nb(e);return _.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[s,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function r9(t){return t?"checked":"unchecked"}var n9=JU,Oue=t9;const fp=_.forwardRef(({className:t,...e},r)=>l.jsx(n9,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:l.jsx(Oue,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fp.displayName=n9.displayName;const kue=fr.object({descricao:fr.string().min(1,"Descrio  obrigatria"),valor:fr.number().min(.01,"Valor deve ser maior que zero"),data:fr.string().min(1,"Data  obrigatria"),categoria:fr.string().min(1,"Categoria  obrigatria"),bancoId:fr.string().nullable(),recorrente:fr.boolean(),frequencia:fr.string().nullable(),status:fr.enum(["pendente","recebido"]),comprovante:fr.string().nullable(),dataRecebimento:fr.string().nullable()});function Rue({isOpen:t,onClose:e,income:r,banks:n,categories:i}){const[a,s]=_.useState(!1),{toast:o}=vr(),c=Lr(),u=VU({resolver:UU(kue),defaultValues:{descricao:"",valor:0,data:"",categoria:"",bancoId:null,recorrente:!1,frequencia:null,status:"pendente",comprovante:null,dataRecebimento:null}});_.useEffect(()=>{if(r){const v=new Date(r.data).toISOString().split("T")[0];let g=null;r.dataRecebimento&&(g=new Date(r.dataRecebimento).toISOString().split("T")[0]),u.reset({descricao:r.descricao||"",valor:r.valor||0,data:v,categoria:r.categoria||"",bancoId:r.bancoId||null,recorrente:r.recorrente||!1,frequencia:r.frequencia||null,status:r.status||"pendente",comprovante:r.comprovante||null,dataRecebimento:g}),s(r.recorrente||!1)}},[r,u]);const d=mr({mutationFn:async m=>await Zt("PUT",`/api/incomes/${r.id}`,{...m,valor:Number(m.valor)}),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/incomes"]}),o({title:"Sucesso",description:"Receita atualizada com sucesso!"}),e()},onError:m=>{o({title:"Erro",description:m.message||"Erro ao atualizar receita",variant:"destructive"})}}),f=m=>{d.mutate(m)},h=()=>{u.reset(),s(!1),e()};return l.jsx(ln,{open:t,onOpenChange:h,children:l.jsxs(Gr,{className:"sm:max-w-[500px]",children:[l.jsx(Kr,{children:l.jsx(Qr,{children:"Editar Receita"})}),l.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"descricao",children:"Descrio"}),l.jsx(Be,{id:"descricao",...u.register("descricao"),placeholder:"Descrio da receita"}),u.formState.errors.descricao&&l.jsx("p",{className:"text-sm text-red-500",children:u.formState.errors.descricao.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"valor",children:"Valor"}),l.jsx(Be,{id:"valor",type:"number",step:"0.01",...u.register("valor",{valueAsNumber:!0}),placeholder:"0.00"}),u.formState.errors.valor&&l.jsx("p",{className:"text-sm text-red-500",children:u.formState.errors.valor.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"data",children:"Data"}),l.jsx(Be,{id:"data",type:"date",...u.register("data")}),u.formState.errors.data&&l.jsx("p",{className:"text-sm text-red-500",children:u.formState.errors.data.message})]}),(r==null?void 0:r.totalParcelas)&&(r==null?void 0:r.totalParcelas)>1&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"dataRecebimento",children:"Data de Recebimento"}),l.jsx(Be,{id:"dataRecebimento",type:"date",...u.register("dataRecebimento")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Data prevista para recebimento desta parcela"}),u.formState.errors.dataRecebimento&&l.jsx("p",{className:"text-sm text-red-500",children:u.formState.errors.dataRecebimento.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"categoria",children:"Categoria"}),l.jsxs(Je,{value:u.watch("categoria"),onValueChange:m=>u.setValue("categoria",m),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione uma categoria"})}),l.jsx(Xe,{children:i.map(m=>l.jsx(ge,{value:m.id,children:m.nome},m.id))})]}),u.formState.errors.categoria&&l.jsx("p",{className:"text-sm text-red-500",children:u.formState.errors.categoria.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"status",children:"Status"}),l.jsxs(Je,{value:u.watch("status"),onValueChange:m=>u.setValue("status",m),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Status da receita"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"pendente",children:"Pendente"}),l.jsx(ge,{value:"recebido",children:"Recebido"})]})]}),u.formState.errors.status&&l.jsx("p",{className:"text-sm text-red-500",children:u.formState.errors.status.message})]}),u.watch("status")==="recebido"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"bancoId",children:"Banco"}),l.jsxs(Je,{value:u.watch("bancoId")||"",onValueChange:m=>u.setValue("bancoId",m||null),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione um banco"})}),l.jsx(Xe,{children:n.map(m=>l.jsx(ge,{value:m.id,children:m.nome},m.id))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fp,{id:"recorrente",checked:a,onCheckedChange:m=>{s(m),u.setValue("recorrente",m),m||u.setValue("frequencia",null)}}),l.jsx(se,{htmlFor:"recorrente",children:"Receita recorrente"})]}),a&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"frequencia",children:"Frequncia"}),l.jsxs(Je,{value:u.watch("frequencia")||"",onValueChange:m=>u.setValue("frequencia",m),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione a frequncia"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"mensal",children:"Mensal"}),l.jsx(ge,{value:"trimestral",children:"Trimestral"}),l.jsx(ge,{value:"semestral",children:"Semestral"}),l.jsx(ge,{value:"anual",children:"Anual"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"comprovante",children:"Comprovante (URL)"}),l.jsx(Be,{id:"comprovante",...u.register("comprovante"),placeholder:"https://exemplo.com/comprovante.pdf"})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:h,children:"Cancelar"}),l.jsx(le,{type:"submit",disabled:d.isPending,children:d.isPending?"Salvando...":"Salvar Alteraes"})]})]})]})})}function Mue({isOpen:t,onClose:e,income:r,banks:n}){const[i,a]=_.useState(null),[s,o]=_.useState(!1);vr(),Lr();const{data:c=[],isLoading:u}=$t({queryKey:["/api/incomes/installments",r==null?void 0:r.parcelaGrupoId],queryFn:()=>Zt("GET",`/api/incomes/installments/${r==null?void 0:r.parcelaGrupoId}`),enabled:t&&!!(r!=null&&r.parcelaGrupoId)}),d=Array.isArray(c)?c:[],f=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),h=b=>new Date(b).toLocaleDateString("pt-BR"),m=b=>b==="recebido"?l.jsx(nt,{className:"bg-green-100 text-green-800 border-green-200",children:"Recebido"}):l.jsx(nt,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Pendente"}),v=b=>{a(b),o(!0)},g=d.filter(b=>b.status==="pendente"),y=d.filter(b=>b.status==="recebido"),w=y.reduce((b,N)=>b+N.valor,0),x=g.reduce((b,N)=>b+N.valor,0);return l.jsxs(l.Fragment,{children:[l.jsx(ln,{open:t,onOpenChange:e,children:l.jsxs(Gr,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Kr,{children:[l.jsxs(Qr,{className:"flex items-center gap-2",children:[l.jsx(Ic,{className:"w-5 h-5 text-blue-500"}),"Receita Parcelada - ",r==null?void 0:r.descricao]}),l.jsx(Li,{children:"Visualize e gerencie todas as parcelas desta receita parcelada"})]}),u?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs(Ie,{children:[l.jsx(vt,{className:"pb-2",children:l.jsx(yt,{className:"text-sm font-medium text-muted-foreground",children:"Devedor"})}),l.jsx(Oe,{className:"pt-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kp,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-semibold",children:r==null?void 0:r.devedor})]})})]}),l.jsxs(Ie,{children:[l.jsx(vt,{className:"pb-2",children:l.jsx(yt,{className:"text-sm font-medium text-muted-foreground",children:"Valor Total"})}),l.jsx(Oe,{className:"pt-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fi,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-semibold text-lg",children:f((r==null?void 0:r.valorTotal)||0)})]})})]}),l.jsxs(Ie,{children:[l.jsx(vt,{className:"pb-2",children:l.jsx(yt,{className:"text-sm font-medium text-muted-foreground",children:"Recebido"})}),l.jsx(Oe,{className:"pt-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uN,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"font-semibold text-green-600",children:f(w)})]})})]}),l.jsxs(Ie,{children:[l.jsx(vt,{className:"pb-2",children:l.jsx(yt,{className:"text-sm font-medium text-muted-foreground",children:"Pendente"})}),l.jsx(Oe,{className:"pt-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(v2,{className:"w-4 h-4 text-yellow-500"}),l.jsx("span",{className:"font-semibold text-yellow-600",children:f(x)})]})})]})]}),(r==null?void 0:r.observacoes)&&l.jsxs(Ie,{children:[l.jsx(vt,{className:"pb-2",children:l.jsx(yt,{className:"text-sm font-medium text-muted-foreground",children:"Observaes"})}),l.jsx(Oe,{className:"pt-0",children:l.jsx("p",{className:"text-foreground",children:r.observacoes})})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Parcelas (",d.length,")"]}),l.jsx("div",{className:"space-y-3",children:d.map(b=>{var N;return l.jsx(Ie,{className:"hover:shadow-md transition-shadow",children:l.jsx(Oe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ic,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:b.parcela})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(al,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{children:h(b.data)})]}),b.dataRecebimento&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(v2,{className:"w-4 h-4 text-blue-400"}),l.jsxs("span",{className:"text-blue-600 text-sm",children:["Prev: ",h(b.dataRecebimento)]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fi,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-semibold",children:f(b.valor)})]}),m(b.status),b.bancoId&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Os,{className:"w-4 h-4"}),l.jsx("span",{children:(N=n.find(T=>T.id===b.bancoId))==null?void 0:N.nome})]})]}),b.status==="pendente"&&l.jsx(le,{size:"sm",onClick:()=>v(b),className:"ml-4",children:"Confirmar Recebimento"})]})})},b.id)})})]}),l.jsxs(Ie,{children:[l.jsx(vt,{className:"pb-2",children:l.jsx(yt,{className:"text-sm font-medium text-muted-foreground",children:"Progresso do Recebimento"})}),l.jsxs(Oe,{className:"pt-0",children:[l.jsx("div",{className:"w-full bg-muted rounded-full h-3 mb-2",children:l.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${d.length>0?y.length/d.length*100:0}%`}})}),l.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[l.jsxs("span",{children:[y.length," de ",d.length," parcelas recebidas"]}),l.jsxs("span",{children:[d.length>0?Math.round(y.length/d.length*100):0,"%"]})]})]})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsx(le,{variant:"outline",onClick:e,children:"Fechar"})})]})]})}),i&&l.jsx(vU,{isOpen:s,onClose:()=>{o(!1),a(null)},income:i,banks:n})]})}var t1="rovingFocusGroup.onEntryFocus",Due={bubbles:!1,cancelable:!0},Vb="RovingFocusGroup",[PE,i9,$ue]=xb(Vb),[Lue,Df]=cn(Vb,[$ue]),[Fue,Vue]=Lue(Vb),a9=_.forwardRef((t,e)=>l.jsx(PE.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(PE.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Bue,{...t,ref:e})})}));a9.displayName=Vb;var Bue=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=_.useRef(null),m=ut(e,h),v=yg(a),[g=null,y]=Ua({prop:s,defaultProp:o,onChange:c}),[w,x]=_.useState(!1),b=on(u),N=i9(r),T=_.useRef(!1),[E,S]=_.useState(0);return _.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(t1,b),()=>j.removeEventListener(t1,b)},[b]),l.jsx(Fue,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(j=>y(j),[y]),onItemShiftTab:_.useCallback(()=>x(!0),[]),onFocusableItemAdd:_.useCallback(()=>S(j=>j+1),[]),onFocusableItemRemove:_.useCallback(()=>S(j=>j-1),[]),children:l.jsx(Me.div,{tabIndex:w||E===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{T.current=!0}),onFocus:pe(t.onFocus,j=>{const C=!T.current;if(j.target===j.currentTarget&&C&&!w){const I=new CustomEvent(t1,Due);if(j.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=N().filter(V=>V.focusable),R=k.find(V=>V.active),O=k.find(V=>V.id===g),D=[R,O,...k].filter(Boolean).map(V=>V.ref.current);l9(D,d)}}T.current=!1}),onBlur:pe(t.onBlur,()=>x(!1))})})}),s9="RovingFocusGroupItem",o9=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...s}=t,o=Ma(),c=a||o,u=Vue(s9,r),d=u.currentTabStopId===c,f=i9(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return _.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),l.jsx(PE.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:l.jsx(Me.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:pe(t.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:pe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=que(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const x=w.indexOf(v.currentTarget);w=u.loop?Wue(w,x+1):w.slice(x+1)}setTimeout(()=>l9(w))}})})})});o9.displayName=s9;var Uue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function que(t,e,r){const n=zue(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Uue[n]}function l9(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Wue(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var XN=a9,ZN=o9,IE=["Enter"," "],Hue=["ArrowDown","PageUp","Home"],c9=["ArrowUp","PageDown","End"],Gue=[...Hue,...c9],Kue={ltr:[...IE,"ArrowRight"],rtl:[...IE,"ArrowLeft"]},Que={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_g="Menu",[um,Yue,Xue]=xb(_g),[Jc,u9]=cn(_g,[Xue,Rf,Df]),Bb=Rf(),d9=Df(),[Zue,eu]=Jc(_g),[Jue,Sg]=Jc(_g),f9=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=t,o=Bb(e),[c,u]=_.useState(null),d=_.useRef(!1),f=on(a),h=yg(i);return _.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(W6,{...o,children:l.jsx(Zue,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(Jue,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};f9.displayName=_g;var ede="MenuAnchor",JN=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Bb(r);return l.jsx(SN,{...i,...n,ref:e})});JN.displayName=ede;var eC="MenuPortal",[tde,h9]=Jc(eC,{forceMount:void 0}),p9=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=eu(eC,e);return l.jsx(tde,{scope:e,forceMount:r,children:l.jsx(xi,{present:r||a.open,children:l.jsx(mg,{asChild:!0,container:i,children:n})})})};p9.displayName=eC;var ki="MenuContent",[rde,tC]=Jc(ki),m9=_.forwardRef((t,e)=>{const r=h9(ki,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=eu(ki,t.__scopeMenu),s=Sg(ki,t.__scopeMenu);return l.jsx(um.Provider,{scope:t.__scopeMenu,children:l.jsx(xi,{present:n||a.open,children:l.jsx(um.Slot,{scope:t.__scopeMenu,children:s.modal?l.jsx(nde,{...i,ref:e}):l.jsx(ide,{...i,ref:e})})})})}),nde=_.forwardRef((t,e)=>{const r=eu(ki,t.__scopeMenu),n=_.useRef(null),i=ut(e,n);return _.useEffect(()=>{const a=n.current;if(a)return CN(a)},[]),l.jsx(rC,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ide=_.forwardRef((t,e)=>{const r=eu(ki,t.__scopeMenu);return l.jsx(rC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ade=Pc("MenuContent.ScrollLock"),rC=_.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...g}=t,y=eu(ki,r),w=Sg(ki,r),x=Bb(r),b=d9(r),N=Yue(r),[T,E]=_.useState(null),S=_.useRef(null),j=ut(e,S,y.onContentChange),C=_.useRef(0),I=_.useRef(""),k=_.useRef(0),R=_.useRef(null),O=_.useRef("right"),$=_.useRef(0),D=v?kb:_.Fragment,V=v?{as:ade,allowPinchZoom:!0}:void 0,L=B=>{var ue,$e;const U=I.current+B,J=N().filter(ie=>!ie.disabled),Y=document.activeElement,oe=(ue=J.find(ie=>ie.ref.current===Y))==null?void 0:ue.textValue,H=J.map(ie=>ie.textValue),Z=vde(H,U,oe),ye=($e=J.find(ie=>ie.textValue===Z))==null?void 0:$e.ref.current;(function ie(ve){I.current=ve,window.clearTimeout(C.current),ve!==""&&(C.current=window.setTimeout(()=>ie(""),1e3))})(U),ye&&setTimeout(()=>ye.focus())};_.useEffect(()=>()=>window.clearTimeout(C.current),[]),NN();const F=_.useCallback(B=>{var J,Y;return O.current===((J=R.current)==null?void 0:J.side)&&xde(B,(Y=R.current)==null?void 0:Y.area)},[]);return l.jsx(rde,{scope:r,searchRef:I,onItemEnter:_.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:_.useCallback(B=>{var U;F(B)||((U=S.current)==null||U.focus(),E(null))},[F]),onTriggerLeave:_.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:k,onPointerGraceIntentChange:_.useCallback(B=>{R.current=B},[]),children:l.jsx(D,{...V,children:l.jsx(Ib,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,B=>{var U;B.preventDefault(),(U=S.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(XN,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:E,onEntryFocus:pe(c,B=>{w.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(EN,{role:"menu","aria-orientation":"vertical","data-state":I9(y.open),"data-radix-menu-content":"",dir:w.dir,...x,...g,ref:j,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,B=>{const J=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Y=B.ctrlKey||B.altKey||B.metaKey,oe=B.key.length===1;J&&(B.key==="Tab"&&B.preventDefault(),!Y&&oe&&L(B.key));const H=S.current;if(B.target!==H||!Gue.includes(B.key))return;B.preventDefault();const ye=N().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);c9.includes(B.key)&&ye.reverse(),mde(ye)}),onBlur:pe(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:pe(t.onPointerMove,dm(B=>{const U=B.target,J=$.current!==B.clientX;if(B.currentTarget.contains(U)&&J){const Y=B.clientX>$.current?"right":"left";O.current=Y,$.current=B.clientX}}))})})})})})})});m9.displayName=ki;var sde="MenuGroup",nC=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Me.div,{role:"group",...n,ref:e})});nC.displayName=sde;var ode="MenuLabel",g9=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Me.div,{...n,ref:e})});g9.displayName=ode;var Ox="MenuItem",dR="menu.itemSelect",Ub=_.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=_.useRef(null),s=Sg(Ox,t.__scopeMenu),o=tC(Ox,t.__scopeMenu),c=ut(e,a),u=_.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(dR,{bubbles:!0,cancelable:!0});f.addEventListener(dR,m=>n==null?void 0:n(m),{once:!0}),iN(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(v9,{...i,ref:c,disabled:r,onClick:pe(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(t.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||IE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ub.displayName=Ox;var v9=_.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,s=tC(Ox,r),o=d9(r),c=_.useRef(null),u=ut(e,c),[d,f]=_.useState(!1),[h,m]=_.useState("");return _.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[a.children]),l.jsx(um.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:l.jsx(ZN,{asChild:!0,...o,focusable:!n,children:l.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:pe(t.onPointerMove,dm(v=>{n?s.onItemLeave(v):(s.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,dm(v=>s.onItemLeave(v))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),lde="MenuCheckboxItem",y9=_.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return l.jsx(S9,{scope:t.__scopeMenu,checked:r,children:l.jsx(Ub,{role:"menuitemcheckbox","aria-checked":kx(r)?"mixed":r,...i,ref:e,"data-state":aC(r),onSelect:pe(i.onSelect,()=>n==null?void 0:n(kx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});y9.displayName=lde;var x9="MenuRadioGroup",[cde,ude]=Jc(x9,{value:void 0,onValueChange:()=>{}}),b9=_.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=on(n);return l.jsx(cde,{scope:t.__scopeMenu,value:r,onValueChange:a,children:l.jsx(nC,{...i,ref:e})})});b9.displayName=x9;var w9="MenuRadioItem",_9=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=ude(w9,t.__scopeMenu),a=r===i.value;return l.jsx(S9,{scope:t.__scopeMenu,checked:a,children:l.jsx(Ub,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":aC(a),onSelect:pe(n.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,r)},{checkForDefaultPrevented:!1})})})});_9.displayName=w9;var iC="MenuItemIndicator",[S9,dde]=Jc(iC,{checked:!1}),E9=_.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=dde(iC,r);return l.jsx(xi,{present:n||kx(a.checked)||a.checked===!0,children:l.jsx(Me.span,{...i,ref:e,"data-state":aC(a.checked)})})});E9.displayName=iC;var fde="MenuSeparator",T9=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});T9.displayName=fde;var hde="MenuArrow",j9=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Bb(r);return l.jsx(TN,{...i,...n,ref:e})});j9.displayName=hde;var pde="MenuSub",[G4e,A9]=Jc(pde),Uh="MenuSubTrigger",N9=_.forwardRef((t,e)=>{const r=eu(Uh,t.__scopeMenu),n=Sg(Uh,t.__scopeMenu),i=A9(Uh,t.__scopeMenu),a=tC(Uh,t.__scopeMenu),s=_.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=_.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(JN,{asChild:!0,...u,children:l.jsx(v9,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":I9(r.open),...t,ref:yb(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,dm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,dm(f=>{var m,v;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(v=r.content)==null?void 0:v.dataset.side,y=g==="right",w=y?-5:5,x=h[y?"left":"right"],b=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||Kue[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});N9.displayName=Uh;var C9="MenuSubContent",P9=_.forwardRef((t,e)=>{const r=h9(ki,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=eu(ki,t.__scopeMenu),s=Sg(ki,t.__scopeMenu),o=A9(C9,t.__scopeMenu),c=_.useRef(null),u=ut(e,c);return l.jsx(um.Provider,{scope:t.__scopeMenu,children:l.jsx(xi,{present:n||a.open,children:l.jsx(um.Slot,{scope:t.__scopeMenu,children:l.jsx(rC,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Que[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=o.trigger)==null||m.focus(),d.preventDefault())})})})})})});P9.displayName=C9;function I9(t){return t?"open":"closed"}function kx(t){return t==="indeterminate"}function aC(t){return kx(t)?"indeterminate":t?"checked":"unchecked"}function mde(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function gde(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function vde(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=gde(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function yde(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,c=e[a].y,u=e[s].x,d=e[s].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(i=!i)}return i}function xde(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return yde(r,e)}function dm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var bde=f9,wde=JN,_de=p9,Sde=m9,Ede=nC,Tde=g9,jde=Ub,Ade=y9,Nde=b9,Cde=_9,Pde=E9,Ide=T9,Ode=j9,kde=N9,Rde=P9,sC="DropdownMenu",[Mde,K4e]=cn(sC,[u9]),Bn=u9(),[Dde,O9]=Mde(sC),k9=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,c=Bn(e),u=_.useRef(null),[d=!1,f]=Ua({prop:i,defaultProp:a,onChange:s});return l.jsx(Dde,{scope:e,triggerId:Ma(),triggerRef:u,contentId:Ma(),open:d,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(bde,{...c,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};k9.displayName=sC;var R9="DropdownMenuTrigger",M9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=O9(R9,r),s=Bn(r);return l.jsx(wde,{asChild:!0,...s,children:l.jsx(Me.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:yb(e,a.triggerRef),onPointerDown:pe(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:pe(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});M9.displayName=R9;var $de="DropdownMenuPortal",D9=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Bn(e);return l.jsx(_de,{...n,...r})};D9.displayName=$de;var $9="DropdownMenuContent",L9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=O9($9,r),a=Bn(r),s=_.useRef(!1);return l.jsx(Sde,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var c;s.current||(c=i.triggerRef.current)==null||c.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L9.displayName=$9;var Lde="DropdownMenuGroup",Fde=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Ede,{...i,...n,ref:e})});Fde.displayName=Lde;var Vde="DropdownMenuLabel",F9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Tde,{...i,...n,ref:e})});F9.displayName=Vde;var Bde="DropdownMenuItem",V9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(jde,{...i,...n,ref:e})});V9.displayName=Bde;var Ude="DropdownMenuCheckboxItem",B9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Ade,{...i,...n,ref:e})});B9.displayName=Ude;var zde="DropdownMenuRadioGroup",qde=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Nde,{...i,...n,ref:e})});qde.displayName=zde;var Wde="DropdownMenuRadioItem",U9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Cde,{...i,...n,ref:e})});U9.displayName=Wde;var Hde="DropdownMenuItemIndicator",z9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Pde,{...i,...n,ref:e})});z9.displayName=Hde;var Gde="DropdownMenuSeparator",q9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Ide,{...i,...n,ref:e})});q9.displayName=Gde;var Kde="DropdownMenuArrow",Qde=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Ode,{...i,...n,ref:e})});Qde.displayName=Kde;var Yde="DropdownMenuSubTrigger",W9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(kde,{...i,...n,ref:e})});W9.displayName=Yde;var Xde="DropdownMenuSubContent",H9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Bn(r);return l.jsx(Rde,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});H9.displayName=Xde;var Zde=k9,Jde=M9,efe=D9,G9=L9,K9=F9,Q9=V9,Y9=B9,X9=U9,Z9=z9,J9=q9,ez=W9,tz=H9;const tfe=Zde,rfe=Jde,nfe=_.forwardRef(({className:t,inset:e,children:r,...n},i)=>l.jsxs(ez,{ref:i,className:Se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,l.jsx(Sb,{className:"ml-auto h-4 w-4"})]}));nfe.displayName=ez.displayName;const ife=_.forwardRef(({className:t,...e},r)=>l.jsx(tz,{ref:r,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ife.displayName=tz.displayName;const rz=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(efe,{children:l.jsx(G9,{ref:n,sideOffset:e,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));rz.displayName=G9.displayName;const OE=_.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(Q9,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));OE.displayName=Q9.displayName;const afe=_.forwardRef(({className:t,children:e,checked:r,...n},i)=>l.jsxs(Y9,{ref:i,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Z9,{children:l.jsx(lN,{className:"h-4 w-4"})})}),e]}));afe.displayName=Y9.displayName;const sfe=_.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(X9,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Z9,{children:l.jsx(u6,{className:"h-2 w-2 fill-current"})})}),e]}));sfe.displayName=X9.displayName;const ofe=_.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(K9,{ref:n,className:Se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));ofe.displayName=K9.displayName;const lfe=_.forwardRef(({className:t,...e},r)=>l.jsx(J9,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));lfe.displayName=J9.displayName;var nz="AlertDialog",[cfe,Q4e]=cn(nz,[hB]),Us=hB(),iz=t=>{const{__scopeAlertDialog:e,...r}=t,n=Us(e);return l.jsx(CB,{...n,...r,modal:!0})};iz.displayName=nz;var ufe="AlertDialogTrigger",dfe=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Us(r);return l.jsx(Xoe,{...i,...n,ref:e})});dfe.displayName=ufe;var ffe="AlertDialogPortal",az=t=>{const{__scopeAlertDialog:e,...r}=t,n=Us(e);return l.jsx(PB,{...n,...r})};az.displayName=ffe;var hfe="AlertDialogOverlay",sz=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Us(r);return l.jsx(RN,{...i,...n,ref:e})});sz.displayName=hfe;var ld="AlertDialogContent",[pfe,mfe]=cfe(ld),gfe=$5("AlertDialogContent"),oz=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Us(r),s=_.useRef(null),o=ut(e,s),c=_.useRef(null);return l.jsx(Goe,{contentName:ld,titleName:lz,docsSlug:"alert-dialog",children:l.jsx(pfe,{scope:r,cancelRef:c,children:l.jsxs(MN,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:pe(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(gfe,{children:n}),l.jsx(yfe,{contentRef:s})]})})})});oz.displayName=ld;var lz="AlertDialogTitle",cz=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Us(r);return l.jsx(DN,{...i,...n,ref:e})});cz.displayName=lz;var uz="AlertDialogDescription",dz=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Us(r);return l.jsx($N,{...i,...n,ref:e})});dz.displayName=uz;var vfe="AlertDialogAction",fz=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Us(r);return l.jsx(LN,{...i,...n,ref:e})});fz.displayName=vfe;var hz="AlertDialogCancel",pz=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=mfe(hz,r),a=Us(r),s=ut(e,i);return l.jsx(LN,{...a,...n,ref:s})});pz.displayName=hz;var yfe=({contentRef:t})=>{const e=`\`${ld}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ld}\` by passing a \`${uz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ld}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},xfe=iz,bfe=az,mz=sz,gz=oz,vz=fz,yz=pz,xz=cz,bz=dz;const wfe=xfe,_fe=bfe,wz=_.forwardRef(({className:t,...e},r)=>l.jsx(mz,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));wz.displayName=mz.displayName;const _z=_.forwardRef(({className:t,...e},r)=>l.jsxs(_fe,{children:[l.jsx(wz,{}),l.jsx(gz,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));_z.displayName=gz.displayName;const Sz=({className:t,...e})=>l.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",t),...e});Sz.displayName="AlertDialogHeader";const Ez=({className:t,...e})=>l.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ez.displayName="AlertDialogFooter";const Tz=_.forwardRef(({className:t,...e},r)=>l.jsx(xz,{ref:r,className:Se("text-lg font-semibold",t),...e}));Tz.displayName=xz.displayName;const jz=_.forwardRef(({className:t,...e},r)=>l.jsx(bz,{ref:r,className:Se("text-sm text-muted-foreground",t),...e}));jz.displayName=bz.displayName;const Az=_.forwardRef(({className:t,...e},r)=>l.jsx(vz,{ref:r,className:Se(AN(),t),...e}));Az.displayName=vz.displayName;const Nz=_.forwardRef(({className:t,...e},r)=>l.jsx(yz,{ref:r,className:Se(AN({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Nz.displayName=yz.displayName;function Sfe({isOpen:t,onClose:e,onConfirm:r,transaction:n,type:i,isLoading:a=!1}){var o;const s=i==="income"?"receita":"gasto";return l.jsx(ln,{open:t,onOpenChange:e,children:l.jsxs(Gr,{className:"sm:max-w-md",children:[l.jsxs(Kr,{children:[l.jsxs(Qr,{className:"flex items-center gap-2",children:[l.jsx(p6,{className:"w-5 h-5 text-orange-500"}),"Excluir ",s.charAt(0).toUpperCase()+s.slice(1)," Parcelada"]}),l.jsxs(Li,{children:["Esta ",s," faz parte de um parcelamento. Como deseja proceder?"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ic,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:n==null?void 0:n.descricao})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsxs("p",{children:["Parcela: ",n==null?void 0:n.parcela]}),l.jsxs("p",{children:["Valor: R$ ",(o=n==null?void 0:n.valor)==null?void 0:o.toFixed(2)]}),(n==null?void 0:n.totalParcelas)&&l.jsxs("p",{children:["Total de parcelas: ",n.totalParcelas]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(le,{variant:"outline",className:"w-full justify-start h-auto p-4 border-orange-200 hover:bg-orange-50",onClick:()=>r(!1),disabled:a,children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:"Excluir apenas esta parcela"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Remove apenas a parcela ",n==null?void 0:n.parcela,", mantendo as demais"]})]})}),l.jsx(le,{variant:"outline",className:"w-full justify-start h-auto p-4 border-red-200 hover:bg-red-50",onClick:()=>r(!0),disabled:a,children:l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-red-600",children:"Excluir todas as parcelas"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Remove todas as ",n==null?void 0:n.totalParcelas," parcelas deste parcelamento"]})]})})]}),l.jsx("div",{className:"flex justify-end gap-2",children:l.jsx(le,{variant:"outline",onClick:e,disabled:a,children:"Cancelar"})})]})]})})}function Po({transaction:t,type:e,onEdit:r}){const[n,i]=_.useState(!1),[a,s]=_.useState(!1),{toast:o}=vr(),c=Lr(),u=(t==null?void 0:t.totalParcelas)&&(t==null?void 0:t.totalParcelas)>1,d=mr({mutationFn:async()=>{const v=e==="income"?`/api/incomes/${t.id}`:`/api/expenses/${t.id}`;return Zt("DELETE",v)},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/${e==="income"?"incomes":"expenses"}`]}),c.invalidateQueries({queryKey:["/api/banks"]}),c.invalidateQueries({queryKey:["/api/credit-cards"]}),c.invalidateQueries({queryKey:["/api/invoices"]}),o({title:"Sucesso",description:`${e==="income"?"Receita":"Gasto"} excludo com sucesso!`}),i(!1)},onError:()=>{o({title:"Erro",description:`Erro ao excluir ${e==="income"?"receita":"gasto"}`,variant:"destructive"})}}),f=mr({mutationFn:async v=>{const g=e==="income"?"/api/incomes":"/api/expenses";return v?Zt("DELETE",`${g}/installments/${t.parcelaGrupoId}`):Zt("DELETE",`${g}/${t.id}`)},onSuccess:(v,g)=>{c.invalidateQueries({queryKey:[`/api/${e==="income"?"incomes":"expenses"}`]}),c.invalidateQueries({queryKey:["/api/banks"]}),c.invalidateQueries({queryKey:["/api/credit-cards"]}),c.invalidateQueries({queryKey:["/api/invoices"]}),o({title:"Sucesso",description:g?"Todas as parcelas foram excludas com sucesso!":"Parcela excluda com sucesso!"}),s(!1)},onError:()=>{o({title:"Erro",description:`Erro ao excluir ${e==="income"?"receita":"gasto"}`,variant:"destructive"})}}),h=()=>{u?s(!0):i(!0)},m=v=>{f.mutate(v)};return l.jsxs(l.Fragment,{children:[l.jsxs(tfe,{children:[l.jsx(rfe,{asChild:!0,children:l.jsx(le,{variant:"ghost",size:"sm",children:l.jsx(gie,{className:"w-4 h-4"})})}),l.jsxs(rz,{align:"end",children:[l.jsxs(OE,{onClick:()=>r==null?void 0:r(t),children:[l.jsx(fN,{className:"w-4 h-4 mr-2"}),"Editar"]}),l.jsxs(OE,{onClick:h,className:"text-red-600",children:[l.jsx(Tie,{className:"w-4 h-4 mr-2"}),"Excluir"]})]})]}),l.jsx(wfe,{open:n,onOpenChange:i,children:l.jsxs(_z,{children:[l.jsxs(Sz,{children:[l.jsx(Tz,{children:"Confirmar Excluso"}),l.jsxs(jz,{children:["Tem certeza que deseja excluir ",e==="income"?"esta receita":"este gasto","? Esta ao no pode ser desfeita."]})]}),l.jsxs(Ez,{children:[l.jsx(Nz,{children:"Cancelar"}),l.jsx(Az,{onClick:h,disabled:d.isPending,className:"bg-red-600 hover:bg-red-700",children:d.isPending?"Excluindo...":"Excluir"})]})]})}),l.jsx(Sfe,{isOpen:a,onClose:()=>s(!1),onConfirm:m,transaction:t,type:e,isLoading:f.isPending})]})}function Efe(){const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(null),[s,o]=_.useState([]),[c,u]=_.useState(!1),[d,f]=_.useState(null),{user:h}=Fr(),{toast:m}=vr(),v=Lr(),{data:g=[]}=$t({queryKey:["/api/incomes"],enabled:!!h}),{data:y=[]}=$t({queryKey:["/api/banks"],enabled:!!h}),{data:w=[]}=$t({queryKey:["/api/categories"],enabled:!!h}),x=g.reduce((D,V)=>{if(V.parcelaGrupoId){const L=D.find(F=>F.isGroup&&F.parcelaGrupoId===V.parcelaGrupoId);L?(L.items.push(V),L.totalValue+=V.valor):D.push({id:V.parcelaGrupoId,isGroup:!0,parcelaGrupoId:V.parcelaGrupoId,descricao:V.descricao,categoria:V.categoria,devedor:V.devedor,totalValue:V.valor,totalParcelas:V.totalParcelas,data:V.data,items:[V],status:V.status})}else D.push(V);return D},[]),[b,N]=_.useState(new Set),T=D=>{const V=new Set(b);V.has(D)?V.delete(D):V.add(D),N(V)},E=D=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D),S=D=>{switch(D){case"recebido":return l.jsx(nt,{variant:"default",className:"bg-secondary",children:"Recebido"});case"pendente":return l.jsx(nt,{variant:"secondary",children:"Pendente"});case"atrasado":return l.jsx(nt,{variant:"destructive",children:"Atrasado"});default:return l.jsx(nt,{variant:"outline",children:D})}},j=D=>{const V=y.find(L=>L.id===D);return(V==null?void 0:V.nome)||"Banco no encontrado"},C=g.filter(D=>D.status==="recebido").reduce((D,V)=>D+V.valor,0),I=g.filter(D=>D.status==="pendente").reduce((D,V)=>D+V.valor,0),k=mr({mutationFn:async D=>{const V=D.map(L=>Zt("DELETE",`/api/incomes/${L}`));return Promise.all(V)},onSuccess:()=>{v.invalidateQueries({queryKey:["/api/incomes"]}),o([]),u(!1),m({title:"Sucesso",description:"Receitas excludas com sucesso!"})},onError:()=>{m({title:"Erro",description:"Erro ao excluir receitas. Tente novamente.",variant:"destructive"})}}),R=D=>{if(u(D),D){const V=x.flatMap(L=>L.isGroup?L.items.map(F=>F.id):[L.id]);o(V)}else o([])},O=(D,V)=>{V?o(L=>[...L,D]):(o(L=>L.filter(F=>F!==D)),u(!1))},$=()=>{s.length!==0&&confirm(`Deseja realmente excluir ${s.length} receita(s) selecionada(s)?`)&&k.mutate(s)};return l.jsxs("div",{className:"min-h-screen bg-muted",children:[l.jsx(Zc,{onMenuToggle:()=>e(!0)}),l.jsx(Xc,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("main",{className:"lg:ml-64 pt-16 lg:pt-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-secondary to-green-600 text-white p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Receitas"}),l.jsx("p",{className:"text-green-100 mt-1 text-sm sm:text-base",children:"Gerencie suas receitas e ganhos"})]}),l.jsxs(le,{className:"bg-card bg-opacity-20 hover:bg-opacity-30 w-full sm:w-auto",onClick:()=>n(!0),children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Nova Receita"]})]})}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6",children:[l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Total Recebido"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-secondary truncate",children:E(C)})]}),l.jsx(Ir,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary flex-shrink-0 ml-2"})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Pendente"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-yellow-600 truncate",children:E(I)})]}),l.jsx(Ir,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600 flex-shrink-0 ml-2"})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Total de Receitas"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-foreground truncate",children:g.length})]}),l.jsx(Ir,{className:"w-6 h-6 sm:w-8 sm:h-8 text-muted-foreground flex-shrink-0 ml-2"})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Mdia Mensal"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-foreground truncate",children:E(g.length>0?C/Math.max(1,g.length):0)})]}),l.jsx(Ir,{className:"w-6 h-6 sm:w-8 sm:h-8 text-muted-foreground flex-shrink-0 ml-2"})]})})})]}),l.jsx(Ie,{className:"mb-6",children:l.jsx(Oe,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(f6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Buscar receitas...",className:"w-full pl-10 pr-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),l.jsxs(le,{variant:"outline",children:[l.jsx(dN,{className:"w-4 h-4 mr-2"}),"Filtros"]})]}),g.length>0&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kr,{id:"select-all-incomes",checked:c,onCheckedChange:R}),l.jsxs("label",{htmlFor:"select-all-incomes",className:"text-sm font-medium cursor-pointer",children:["Selecionar todos (",x.length,")"]})]}),s.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.length," selecionado(s)"]}),l.jsxs(le,{variant:"destructive",size:"sm",onClick:$,disabled:k.isPending,children:[l.jsx(Oc,{className:"w-4 h-4 mr-1"}),"Excluir Selecionados"]})]})]})]})})}),l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsx(yt,{children:"Receitas"})}),l.jsx(Oe,{children:g.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ir,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma receita cadastrada"}),l.jsxs(le,{onClick:()=>n(!0),children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar Primeira Receita"]})]}):l.jsx("div",{className:"space-y-2",children:x.map(D=>l.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:D.isGroup?l.jsxs("div",{className:"p-3",children:[l.jsxs("div",{className:"hidden md:flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(kr,{id:`group-${D.id}`,checked:D.items.every(V=>s.includes(V.id)),onCheckedChange:V=>{o(V?L=>[...L,...D.items.map(F=>F.id)]:L=>L.filter(F=>!D.items.some(B=>B.id===F)))},className:"data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"})}),l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 p-3 rounded-full",children:l.jsx(Kp,{className:"w-5 h-5 text-green-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100 truncate",children:D.descricao}),l.jsxs(nt,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 border-blue-200 dark:border-blue-800 whitespace-nowrap",children:[D.items.length,"/",D.totalParcelas," parcelas"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 overflow-hidden",children:[l.jsx("span",{className:"font-medium",children:"Devedor:"}),l.jsx("span",{className:"truncate",children:D.devedor}),l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"whitespace-nowrap",children:new Date(D.data).toLocaleDateString("pt-BR")})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-green-600 dark:text-green-400 text-xl",children:E(D.totalValue)}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:D.categoria})]}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>T(D.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(nr,{className:`w-4 h-4 transition-transform ${b.has(D.id)?"rotate-180":""}`})})]})]}),l.jsxs("div",{className:"md:hidden",children:[l.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[l.jsx("div",{className:"flex items-center pt-1",children:l.jsx(kr,{id:`group-mobile-${D.id}`,checked:D.items.every(V=>s.includes(V.id)),onCheckedChange:V=>{o(V?L=>[...L,...D.items.map(F=>F.id)]:L=>L.filter(F=>!D.items.some(B=>B.id===F)))},className:"data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 p-2 rounded-full",children:l.jsx(Kp,{className:"w-4 h-4 text-green-600"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 truncate text-sm",children:D.descricao}),l.jsxs(nt,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 border-blue-200 dark:border-blue-800 text-xs whitespace-nowrap",children:[D.items.length,"/",D.totalParcelas]})]}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:D.categoria})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-green-600 dark:text-green-400 text-sm",children:E(D.totalValue)}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(D.data).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})]}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>T(D.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(nr,{className:`w-3 h-3 transition-transform ${b.has(D.id)?"rotate-180":""}`})})]})]}),l.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 truncate ml-6",children:["Devedor: ",D.devedor]})]}),b.has(D.id)&&l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"space-y-2",children:D.items.map(V=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"hidden md:flex items-center justify-between p-2",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(kr,{id:`income-${V.id}`,checked:s.includes(V.id),onCheckedChange:L=>O(V.id,L),className:"data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsxs(nt,{variant:"outline",className:"text-xs whitespace-nowrap",children:[V.parcela," parcela"]}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:new Date(V.data).toLocaleDateString("pt-BR")})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[S(V.status),l.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:E(V.valor)}),l.jsx(Po,{transaction:V,type:"income",onEdit:L=>{a(L)}})]})]}),l.jsx("div",{className:"md:hidden p-2",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"flex items-center pt-1",children:l.jsx(kr,{id:`income-mobile-${V.id}`,checked:s.includes(V.id),onCheckedChange:L=>O(V.id,L),className:"data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"flex items-center gap-2 min-w-0",children:l.jsxs(nt,{variant:"outline",className:"text-xs whitespace-nowrap",children:[V.parcela,""]})}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[S(V.status),l.jsx("span",{className:"font-medium text-green-600 dark:text-green-400 text-sm",children:E(V.valor)}),l.jsx(Po,{transaction:V,type:"income",onEdit:L=>{a(L)}})]})]}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:new Date(V.data).toLocaleDateString("pt-BR")})]})]})})]},V.id))})})]}):l.jsx("div",{className:"p-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center pt-1",children:l.jsx(kr,{id:`income-${D.id}`,checked:s.includes(D.id),onCheckedChange:V=>O(D.id,V),className:"data-[state=checked]:bg-green-500 data-[state=checked]:border-green-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-2.5 rounded-full",children:l.jsx(Ir,{className:"w-4 h-4 text-green-500"})}),D.comprovante&&l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{window.open(D.comprovante,"_blank")},className:"p-1.5 h-8 w-8 hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Ver comprovante",children:l.jsx($u,{className:"w-4 h-4 text-blue-600"})})]}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:D.descricao})}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[l.jsx("span",{className:"font-medium",children:D.bancoId?j(D.bancoId):"Sem banco"}),l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"whitespace-nowrap",children:new Date(D.data).toLocaleDateString("pt-BR")})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[S(D.status),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:E(D.valor)}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-[120px]",children:D.categoria})]}),l.jsx(Po,{transaction:D,type:"income",onEdit:V=>{a(V)}})]})]}),l.jsxs("div",{className:"md:hidden",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[l.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-1.5 rounded-full",children:l.jsx(Ir,{className:"w-3 h-3 text-green-500"})}),l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 truncate text-sm overflow-hidden",children:D.descricao})})]}),l.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[D.comprovante&&l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{window.open(D.comprovante,"_blank")},className:"p-1 h-6 w-6 hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Ver comprovante",children:l.jsx($u,{className:"w-3 h-3 text-blue-600"})}),l.jsx(Po,{transaction:D,type:"income",onEdit:V=>{a(V)}})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1 mr-2",children:[S(D.status),l.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate max-w-[80px]",children:D.categoria})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsx("p",{className:"font-bold text-green-600 dark:text-green-400 text-sm",children:E(D.valor)}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(D.data).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})]})]}),l.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400 truncate overflow-hidden",children:D.bancoId?j(D.bancoId):"Sem banco"})]})]})]})})},D.id))})})]})]})]}),l.jsx(Xle,{isOpen:r,onClose:()=>n(!1),banks:y,categories:w}),i&&l.jsx(Rue,{isOpen:!!i,onClose:()=>a(null),income:i,banks:y,categories:w}),d&&l.jsx(Mue,{isOpen:!!d,onClose:()=>f(null),income:d,banks:y})]})}function Tfe({isOpen:t,onClose:e,banks:r,creditCards:n,categories:i}){const[a,s]=_.useState({descricao:"",valor:"",data:new Date().toISOString().split("T")[0],categoria:"",metodoPagamento:"dinheiro",cartaoId:"",bancoId:"",recorrente:!1,frequencia:"",comprovante:"",parcelas:"",valorTotal:"",status:"pago"}),[o,c]=_.useState({}),{user:u}=Fr(),{toast:d}=vr(),f=Lr(),h=i.filter(b=>b.tipo==="despesa"),m=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),v=mr({mutationFn:async b=>(console.log("=== CLIENT: Sending expense data ==="),console.log("Expense data:",JSON.stringify(b,null,2)),Zt("POST","/api/expenses",b)),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/expenses"]}),f.invalidateQueries({queryKey:["/api/banks"]}),f.invalidateQueries({queryKey:["/api/credit-cards"]}),f.invalidateQueries({queryKey:["/api/invoices"]}),d({title:"Sucesso",description:"Gasto adicionado com sucesso!"}),w()},onError:b=>{d({title:"Erro",description:b.message||"Erro ao adicionar gasto",variant:"destructive"})}}),g=()=>{const b={};if(a.descricao.trim()||(b.descricao="Descrio  obrigatria"),(!a.valor||parseFloat(a.valor)<=0)&&(b.valor="Valor deve ser maior que zero"),a.data||(b.data="Data  obrigatria"),a.categoria||(b.categoria="Categoria  obrigatria"),a.status==="pago"&&!a.metodoPagamento&&(b.metodoPagamento="Mtodo de pagamento  obrigatrio para gastos j pagos"),a.status==="pago"&&a.metodoPagamento==="credito"&&!a.cartaoId&&(b.cartaoId="Carto de crdito  obrigatrio"),a.status==="pago"&&a.metodoPagamento!=="credito"&&!a.bancoId&&(b.bancoId="Conta bancria  obrigatria"),a.recorrente&&!a.frequencia&&(b.frequencia="Frequncia  obrigatria para gastos recorrentes"),a.parcelas&&parseInt(a.parcelas)>1)if(!a.valorTotal)b.valorTotal="Valor total  obrigatrio para parcelamento";else{const N=parseInt(a.parcelas),T=parseFloat(a.valorTotal),E=parseFloat(a.valor);T<E&&(b.valorTotal="Valor total deve ser maior que o valor da parcela");const S=T/N;Math.abs(S-E)>.01&&(b.valor="Valor da parcela no confere com o valor total dividido pelo nmero de parcelas")}return c(b),Object.keys(b).length===0},y=async b=>{if(b.preventDefault(),!u){d({title:"Erro",description:"Usurio no autenticado",variant:"destructive"});return}if(!g())return;const N={descricao:a.descricao.trim(),valor:parseFloat(a.valor),data:a.data,categoria:a.categoria,metodoPagamento:a.metodoPagamento,recorrente:a.recorrente,status:a.status||"pago"};if(a.metodoPagamento==="credito"?N.cartaoId=a.cartaoId:N.bancoId=a.bancoId,a.recorrente&&(N.frequencia=a.frequencia),a.comprovante&&(N.comprovante=a.comprovante),a.parcelas&&parseInt(a.parcelas)>1){const T=parseInt(a.parcelas),E=parseFloat(a.valorTotal),S=E/T,j=`expense_${Date.now()}`;console.log("=== CLIENT: Creating installment expenses ==="),console.log("Parcelas:",T),console.log("Valor total:",E),console.log("Valor por parcela:",S);try{for(let C=0;C<T;C++){const I=new Date(N.data);I.setMonth(I.getMonth()+C);const k={...N,valor:S,data:I.toISOString().split("T")[0],parcela:`${C+1}/${T}`,numeroParcela:C+1,totalParcelas:T,parcelaGrupoId:j,valorTotal:E};console.log(`Creating installment ${C+1}/${T}:`,k);const R=await Zt("POST","/api/expenses",k);console.log(`Installment ${C+1} created successfully:`,R)}f.invalidateQueries({queryKey:["/api/expenses"]}),d({title:"Sucesso",description:`Gasto parcelado em ${T}x criado com sucesso!`}),w();return}catch(C){console.error("Error creating installment expenses:",C),d({title:"Erro",description:"Erro ao criar gastos parcelados. Tente novamente.",variant:"destructive"});return}}v.mutate(N)},w=()=>{s({descricao:"",valor:"",data:new Date().toISOString().split("T")[0],categoria:"",metodoPagamento:"dinheiro",cartaoId:"",bancoId:"",recorrente:!1,frequencia:"",comprovante:"",parcelas:"",valorTotal:"",status:"pago"}),c({}),e()},x=[{value:"dinheiro",label:"Dinheiro",icon:fi},{value:"debito",label:"Dbito",icon:Tr},{value:"credito",label:"Crdito",icon:Tr},{value:"pix",label:"PIX",icon:nr},{value:"transferencia",label:"Transferncia",icon:Os},{value:"boleto",label:"Boleto",icon:Yl}];return l.jsx(ln,{open:t,onOpenChange:w,children:l.jsxs(Gr,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[l.jsxs(Kr,{children:[l.jsxs(Qr,{className:"flex items-center gap-2",children:[l.jsx(nr,{className:"w-5 h-5 text-red-500"}),"Adicionar Gasto"]}),l.jsx(Li,{children:"Registre um novo gasto ou despesa em seu controle financeiro."})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"descricao",className:"flex items-center gap-2",children:[l.jsx(hx,{className:"w-4 h-4"}),"Descrio *"]}),l.jsx(Be,{id:"descricao",value:a.descricao,onChange:b=>s({...a,descricao:b.target.value}),placeholder:"Ex: Supermercado, Gasolina, Aluguel...",className:o.descricao?"border-red-500":""}),o.descricao&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.descricao})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"valor",className:"flex items-center gap-2",children:[l.jsx(fi,{className:"w-4 h-4"}),"Valor *"]}),l.jsx(Be,{id:"valor",type:"number",step:"0.01",value:a.valor,onChange:b=>s({...a,valor:b.target.value}),placeholder:"0,00",className:o.valor?"border-red-500":""}),o.valor&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.valor})]}),l.jsxs("div",{children:[l.jsxs(se,{htmlFor:"data",className:"flex items-center gap-2",children:[l.jsx(al,{className:"w-4 h-4"}),"Data *"]}),l.jsx(Be,{id:"data",type:"date",value:a.data,onChange:b=>s({...a,data:b.target.value}),className:o.data?"border-red-500":""}),o.data&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.data})]})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"categoria",children:"Categoria *"}),l.jsxs(Je,{value:a.categoria,onValueChange:b=>s({...a,categoria:b}),children:[l.jsx(Ye,{className:o.categoria?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione uma categoria"})}),l.jsx(Xe,{children:h.map(b=>l.jsx(ge,{value:b.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b.cor}}),b.nome]})},b.id))})]}),o.categoria&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.categoria})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"status",children:"Status do Pagamento *"}),l.jsxs(Je,{value:a.status,onValueChange:b=>s({...a,status:b,metodoPagamento:b==="pendente"?"pendente":"dinheiro",cartaoId:"",bancoId:""}),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"pago",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"J pago"]})}),l.jsx(ge,{value:"pendente",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),"Pagamento pendente"]})})]})]})]}),a.status==="pago"&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"metodoPagamento",children:"Mtodo de Pagamento *"}),l.jsxs(Je,{value:a.metodoPagamento,onValueChange:b=>s({...a,metodoPagamento:b,cartaoId:"",bancoId:""}),children:[l.jsx(Ye,{className:o.metodoPagamento?"border-red-500":"",children:l.jsx(et,{})}),l.jsx(Xe,{children:x.map(b=>{const N=b.icon;return l.jsx(ge,{value:b.value,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(N,{className:"w-4 h-4"}),b.label]})},b.value)})})]}),o.metodoPagamento&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.metodoPagamento})]}),a.status==="pago"&&a.metodoPagamento==="credito"&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"cartaoId",children:"Carto de Crdito *"}),l.jsxs(Je,{value:a.cartaoId,onValueChange:b=>s({...a,cartaoId:b}),children:[l.jsx(Ye,{className:o.cartaoId?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione um carto"})}),l.jsx(Xe,{children:n.map(b=>l.jsx(ge,{value:b.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tr,{className:"w-4 h-4"}),b.nome,"  ",b.final,l.jsx(nt,{variant:"outline",className:"ml-2",children:b.bandeira})]})},b.id))})]}),o.cartaoId&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.cartaoId})]}),a.status==="pago"&&a.metodoPagamento!=="credito"&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"bancoId",children:"Conta Bancria *"}),l.jsxs(Je,{value:a.bancoId,onValueChange:b=>s({...a,bancoId:b}),children:[l.jsx(Ye,{className:o.bancoId?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione uma conta"})}),l.jsx(Xe,{children:r.map(b=>l.jsx(ge,{value:b.id,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Os,{className:"w-4 h-4"}),b.nome,l.jsx(nt,{variant:"outline",className:"ml-2",children:b.tipo})]})},b.id))})]}),o.bancoId&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.bancoId})]}),a.status==="pago"&&a.metodoPagamento==="credito"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"parcelas",children:"Nmero de Parcelas"}),l.jsxs(Je,{value:a.parcelas,onValueChange:b=>s({...a,parcelas:b,valorTotal:""}),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:" vista"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"1",children:" vista"}),Array.from({length:24},(b,N)=>N+2).map(b=>l.jsxs(ge,{value:b.toString(),children:[b,"x"]},b))]})]})]}),a.parcelas&&parseInt(a.parcelas)>1&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"valorTotal",children:"Valor Total"}),l.jsx(Be,{id:"valorTotal",type:"number",step:"0.01",value:a.valorTotal,onChange:b=>s({...a,valorTotal:b.target.value}),placeholder:"Valor total parcelado",className:o.valorTotal?"border-red-500":""}),o.valorTotal&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.valorTotal}),a.valorTotal&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Valor por parcela: ",m(parseFloat(a.valorTotal)/parseInt(a.parcelas))]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(kr,{id:"recorrente",checked:a.recorrente,onCheckedChange:b=>s({...a,recorrente:b})}),l.jsx(se,{htmlFor:"recorrente",children:"Gasto recorrente"})]}),a.recorrente&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"frequencia",children:"Frequncia *"}),l.jsxs(Je,{value:a.frequencia,onValueChange:b=>s({...a,frequencia:b}),children:[l.jsx(Ye,{className:o.frequencia?"border-red-500":"",children:l.jsx(et,{placeholder:"Selecione a frequncia"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"mensal",children:"Mensal"}),l.jsx(ge,{value:"semanal",children:"Semanal"}),l.jsx(ge,{value:"quinzenal",children:"Quinzenal"}),l.jsx(ge,{value:"anual",children:"Anual"})]})]}),o.frequencia&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.frequencia})]}),l.jsx(UN,{value:a.comprovante,onChange:b=>s({...a,comprovante:b}),onRemove:()=>s({...a,comprovante:""}),label:"Comprovante",placeholder:"Clique para enviar uma imagem do comprovante...",disabled:v.isPending}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:w,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",disabled:v.isPending,className:"flex-1 bg-red-500 hover:bg-red-600",children:v.isPending?"Adicionando...":"Adicionar Gasto"})]})]})]})})}const jfe=fr.object({descricao:fr.string().min(1,"Descrio  obrigatria"),valor:fr.number().min(.01,"Valor deve ser maior que zero"),data:fr.string().min(1,"Data  obrigatria"),categoria:fr.string().min(1,"Categoria  obrigatria"),metodoPagamento:fr.string().min(1,"Mtodo de pagamento  obrigatrio"),bancoId:fr.string().nullable(),cartaoId:fr.string().nullable(),status:fr.enum(["pendente","pago"]),observacoes:fr.string().nullable()});function Afe({isOpen:t,onClose:e,expense:r,banks:n,creditCards:i,categories:a}){const[s,o]=_.useState(""),{toast:c}=vr(),u=Lr(),d=VU({resolver:UU(jfe),defaultValues:{descricao:"",valor:0,data:"",categoria:"",metodoPagamento:"",bancoId:null,cartaoId:null,status:"pendente",observacoes:null}});_.useEffect(()=>{if(r){const y=new Date(r.data).toISOString().split("T")[0];d.reset({descricao:r.descricao||"",valor:r.valor||0,data:y,categoria:r.categoria||"",metodoPagamento:r.metodoPagamento||"",bancoId:r.bancoId||null,cartaoId:r.cartaoId||null,status:r.status||"pendente",observacoes:r.observacoes||null}),o(r.metodoPagamento||"")}},[r,d]);const f=mr({mutationFn:async g=>await Zt("PUT",`/api/expenses/${r.id}`,{...g,valor:Number(g.valor)}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/expenses"]}),u.invalidateQueries({queryKey:["/api/banks"]}),u.invalidateQueries({queryKey:["/api/credit-cards"]}),u.invalidateQueries({queryKey:["/api/invoices"]}),c({title:"Sucesso",description:"Gasto atualizado com sucesso!"}),e()},onError:g=>{c({title:"Erro",description:g.message||"Erro ao atualizar gasto",variant:"destructive"})}}),h=g=>{f.mutate(g)},m=()=>{d.reset(),o(""),e()},v=g=>{o(g),d.setValue("metodoPagamento",g),g==="credito"?d.setValue("bancoId",null):d.setValue("cartaoId",null)};return l.jsx(ln,{open:t,onOpenChange:m,children:l.jsxs(Gr,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[l.jsx(Kr,{children:l.jsx(Qr,{children:"Editar Gasto"})}),l.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"descricao",children:"Descrio"}),l.jsx(Be,{id:"descricao",...d.register("descricao"),placeholder:"Descrio do gasto"}),d.formState.errors.descricao&&l.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.descricao.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"valor",children:"Valor"}),l.jsx(Be,{id:"valor",type:"number",step:"0.01",...d.register("valor",{valueAsNumber:!0}),placeholder:"0,00"}),d.formState.errors.valor&&l.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.valor.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"data",children:"Data"}),l.jsx(Be,{id:"data",type:"date",...d.register("data")}),d.formState.errors.data&&l.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.data.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"categoria",children:"Categoria"}),l.jsxs(Je,{value:d.watch("categoria"),onValueChange:g=>d.setValue("categoria",g),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione uma categoria"})}),l.jsx(Xe,{children:a.filter(g=>g.tipo==="despesa").map(g=>l.jsx(ge,{value:g.id,children:g.nome},g.id))})]}),d.formState.errors.categoria&&l.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.categoria.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"metodoPagamento",children:"Mtodo de Pagamento"}),l.jsxs(Je,{value:s,onValueChange:v,children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione o mtodo"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"dinheiro",children:"Dinheiro"}),l.jsx(ge,{value:"debito",children:"Dbito"}),l.jsx(ge,{value:"credito",children:"Crdito"}),l.jsx(ge,{value:"pix",children:"PIX"}),l.jsx(ge,{value:"transferencia",children:"Transferncia"}),l.jsx(ge,{value:"boleto",children:"Boleto"})]})]}),d.formState.errors.metodoPagamento&&l.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.metodoPagamento.message})]}),s==="credito"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"cartaoId",children:"Carto de Crdito"}),l.jsxs(Je,{value:d.watch("cartaoId")||"",onValueChange:g=>d.setValue("cartaoId",g),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione o carto"})}),l.jsx(Xe,{children:i.map(g=>l.jsxs(ge,{value:g.id,children:[g.nome," **** ",g.final]},g.id))})]})]}),s&&s!=="credito"&&s!=="dinheiro"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"bancoId",children:"Banco"}),l.jsxs(Je,{value:d.watch("bancoId")||"",onValueChange:g=>d.setValue("bancoId",g),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione o banco"})}),l.jsx(Xe,{children:n.map(g=>l.jsx(ge,{value:g.id,children:g.nome},g.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"status",children:"Status"}),l.jsxs(Je,{value:d.watch("status"),onValueChange:g=>d.setValue("status",g),children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione o status"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"pendente",children:"Pendente"}),l.jsx(ge,{value:"pago",children:"Pago"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"observacoes",children:"Observaes"}),l.jsx(BN,{id:"observacoes",...d.register("observacoes"),placeholder:"Observaes adicionais (opcional)",rows:3})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:m,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",className:"flex-1",disabled:f.isPending,children:f.isPending?"Salvando...":"Salvar"})]})]})]})})}function Nfe(){const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState([]),[s,o]=_.useState(!1),[c,u]=_.useState(null),[d,f]=_.useState(!1),[h,m]=_.useState(null),[v,g]=_.useState(!1),{user:y}=Fr(),{toast:w}=vr(),x=Lr(),{data:b=[],isLoading:N,error:T}=$t({queryKey:["/api/expenses"],enabled:!!y}),{data:E=[]}=$t({queryKey:["/api/banks"],enabled:!!y}),{data:S=[]}=$t({queryKey:["/api/credit-cards"],enabled:!!y}),{data:j=[]}=$t({queryKey:["/api/categories"],enabled:!!y}),C=b.reduce((H,Z)=>{if(Z.parcelaGrupoId){const ye=H.find(ue=>ue.isGroup&&ue.parcelaGrupoId===Z.parcelaGrupoId);ye?(ye.items.push(Z),ye.totalValue+=Z.valor):H.push({id:Z.parcelaGrupoId,isGroup:!0,parcelaGrupoId:Z.parcelaGrupoId,descricao:Z.descricao,categoria:Z.categoria,metodoPagamento:Z.metodoPagamento,cartaoId:Z.cartaoId,bancoId:Z.bancoId,totalValue:Z.valor,totalParcelas:Z.totalParcelas,data:Z.data,items:[Z],status:Z.status})}else H.push(Z);return H},[]),I=H=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(H),k=H=>{switch(H){case"pago":return l.jsx(nt,{variant:"default",className:"bg-secondary",children:"Pago"});case"pendente":return l.jsx(nt,{variant:"secondary",children:"Pendente"});case"atrasado":return l.jsx(nt,{variant:"destructive",children:"Atrasado"});default:return l.jsx(nt,{variant:"outline",children:H})}},R=H=>({dinheiro:"Dinheiro",debito:"Dbito",credito:"Crdito",pix:"PIX",transferencia:"Transferncia",boleto:"Boleto",pendente:"Pendente"})[H]||H,O=H=>{const Z=E.find(ye=>ye.id===H);return(Z==null?void 0:Z.nome)||""},$=H=>{const Z=S.find(ye=>ye.id===H);return Z?`${Z.nome} **** ${Z.final}`:""},D=b.filter(H=>H.status==="pago").reduce((H,Z)=>H+Z.valor,0),V=b.filter(H=>H.status==="pendente").reduce((H,Z)=>H+Z.valor,0),[L,F]=_.useState(new Set),B=H=>{const Z=new Set(L);Z.has(H)?Z.delete(H):Z.add(H),F(Z)},U=mr({mutationFn:async H=>{const Z=H.map(ye=>Zt("DELETE",`/api/expenses/${ye}`));return Promise.all(Z)},onSuccess:()=>{x.invalidateQueries({queryKey:["/api/expenses"]}),a([]),o(!1),w({title:"Sucesso",description:"Despesas excludas com sucesso!"})},onError:()=>{w({title:"Erro",description:"Erro ao excluir despesas. Tente novamente.",variant:"destructive"})}}),J=H=>{if(o(H),H){const Z=C.flatMap(ye=>ye.isGroup?ye.items.map(ue=>ue.id):[ye.id]);a(Z)}else a([])},Y=(H,Z)=>{Z?a(ye=>[...ye,H]):(a(ye=>ye.filter(ue=>ue!==H)),o(!1))},oe=()=>{i.length!==0&&confirm(`Deseja realmente excluir ${i.length} despesa(s) selecionada(s)?`)&&U.mutate(i)};return l.jsxs("div",{className:"min-h-screen bg-muted",children:[l.jsx(Zc,{onMenuToggle:()=>e(!0)}),l.jsx(Xc,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("main",{className:"lg:ml-64 pt-16 lg:pt-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Despesas"}),l.jsx("p",{className:"text-red-100 mt-1 text-sm sm:text-base",children:"Gerencie suas despesas e gastos"})]}),l.jsxs(le,{className:"bg-card bg-opacity-20 hover:bg-opacity-30 w-full sm:w-auto",onClick:()=>n(!0),children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Novo Gasto"]})]})}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6",children:[l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Total Pago"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-red-600 truncate",children:I(D)})]}),l.jsx(nr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600 flex-shrink-0 ml-2"})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Pendente"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-yellow-600 truncate",children:I(V)})]}),l.jsx(nr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600 flex-shrink-0 ml-2"})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Total de Gastos"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-foreground truncate",children:b.length})]}),l.jsx(nr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-muted-foreground flex-shrink-0 ml-2"})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Mdia por Gasto"}),l.jsx("p",{className:"text-lg sm:text-xl font-bold text-foreground truncate",children:I(b.length>0?D/Math.max(1,b.length):0)})]}),l.jsx(nr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-muted-foreground flex-shrink-0 ml-2"})]})})})]}),l.jsx(Ie,{className:"mb-6",children:l.jsx(Oe,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(f6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Buscar gastos...",className:"w-full pl-10 pr-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),l.jsxs(le,{variant:"outline",children:[l.jsx(dN,{className:"w-4 h-4 mr-2"}),"Filtros"]})]}),b.length>0&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kr,{id:"select-all",checked:s,onCheckedChange:J}),l.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium cursor-pointer",children:["Selecionar todos (",C.length,")"]})]}),i.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.length," selecionado(s)"]}),l.jsxs(le,{variant:"destructive",size:"sm",onClick:oe,disabled:U.isPending,children:[l.jsx(Oc,{className:"w-4 h-4 mr-1"}),"Excluir Selecionados"]})]})]})]})})}),l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsx(yt,{children:"Gastos"})}),l.jsx(Oe,{children:b.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(nr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum gasto cadastrado"}),l.jsxs(le,{onClick:()=>n(!0),children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar Primeiro Gasto"]})]}):l.jsx("div",{className:"space-y-2",children:C.map(H=>l.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:H.isGroup?l.jsxs("div",{className:"p-3",children:[l.jsxs("div",{className:"hidden md:flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(kr,{id:`group-${H.id}`,checked:H.items.every(Z=>i.includes(Z.id)),onCheckedChange:Z=>{a(Z?ye=>[...ye,...H.items.map(ue=>ue.id)]:ye=>ye.filter(ue=>!H.items.some($e=>$e.id===ue)))},className:"data-[state=checked]:bg-red-500 data-[state=checked]:border-red-500"})}),l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 p-3 rounded-full",children:l.jsx(Tr,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100 truncate",children:H.descricao}),l.jsxs(nt,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 border-blue-200 dark:border-blue-800 whitespace-nowrap",children:[H.items.length,"/",H.totalParcelas," parcelas"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 overflow-hidden",children:[l.jsx("span",{className:"font-medium",children:R(H.metodoPagamento)}),H.metodoPagamento==="credito"&&H.cartaoId&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"truncate",children:$(H.cartaoId)})]}),H.metodoPagamento!=="credito"&&H.bancoId&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"truncate",children:O(H.bancoId)})]}),l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"whitespace-nowrap",children:new Date(H.data).toLocaleDateString("pt-BR")})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-xl",children:I(H.totalValue)}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:H.categoria})]}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>B(H.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(nr,{className:`w-4 h-4 transition-transform ${L.has(H.id)?"rotate-180":""}`})})]})]}),l.jsxs("div",{className:"md:hidden",children:[l.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[l.jsx("div",{className:"flex items-center pt-1",children:l.jsx(kr,{id:`group-mobile-${H.id}`,checked:H.items.every(Z=>i.includes(Z.id)),onCheckedChange:Z=>{a(Z?ye=>[...ye,...H.items.map(ue=>ue.id)]:ye=>ye.filter(ue=>!H.items.some($e=>$e.id===ue)))},className:"data-[state=checked]:bg-red-500 data-[state=checked]:border-red-500"})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 p-2 rounded-full",children:l.jsx(Tr,{className:"w-4 h-4 text-red-600"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 truncate text-sm",children:H.descricao}),l.jsxs(nt,{variant:"outline",className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 border-blue-200 dark:border-blue-800 text-xs whitespace-nowrap",children:[H.items.length,"/",H.totalParcelas]})]}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:H.categoria})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-sm",children:I(H.totalValue)}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(H.data).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})]}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>B(H.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(nr,{className:`w-3 h-3 transition-transform ${L.has(H.id)?"rotate-180":""}`})})]})]}),l.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 truncate ml-6",children:[R(H.metodoPagamento),H.metodoPagamento==="credito"&&H.cartaoId&&l.jsxs("span",{children:["  ",$(H.cartaoId)]}),H.metodoPagamento!=="credito"&&H.bancoId&&l.jsxs("span",{children:["  ",O(H.bancoId)]})]})]}),L.has(H.id)&&l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"space-y-2",children:H.items.map(Z=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"hidden md:flex items-center justify-between p-2",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(kr,{id:`expense-${Z.id}`,checked:i.includes(Z.id),onCheckedChange:ye=>Y(Z.id,ye),className:"data-[state=checked]:bg-red-500 data-[state=checked]:border-red-500"})}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsxs(nt,{variant:"outline",className:"text-xs whitespace-nowrap",children:[Z.parcela," parcela"]}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:new Date(Z.data).toLocaleDateString("pt-BR")}),Z.comprovante&&l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{m(Z.comprovante),g(!0)},className:"p-1 h-6 w-6 hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Ver comprovante",children:l.jsx($u,{className:"w-3 h-3 text-blue-600"})})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[k(Z.status),l.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:I(Z.valor)}),l.jsx(Po,{transaction:Z,type:"expense",onEdit:ye=>{u(ye),f(!0)}})]})]}),l.jsx("div",{className:"md:hidden p-2",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"flex items-center pt-1",children:l.jsx(kr,{id:`expense-mobile-${Z.id}`,checked:i.includes(Z.id),onCheckedChange:ye=>Y(Z.id,ye),className:"data-[state=checked]:bg-red-500 data-[state=checked]:border-red-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsxs(nt,{variant:"outline",className:"text-xs whitespace-nowrap",children:[Z.parcela,""]}),Z.comprovante&&l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{m(Z.comprovante),g(!0)},className:"p-1 h-5 w-5 hover:bg-blue-50 dark:hover:bg-blue-900/20 ml-[-4px] mr-[-4px]",title:"Ver comprovante",children:l.jsx($u,{className:"w-3 h-3 text-blue-600"})})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[k(Z.status),l.jsx("span",{className:"font-medium text-red-600 dark:text-red-400 text-sm",children:I(Z.valor)}),l.jsx(Po,{transaction:Z,type:"expense",onEdit:ye=>{u(ye),f(!0)}})]})]}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:new Date(Z.data).toLocaleDateString("pt-BR")})]})]})})]},Z.id))})})]}):l.jsx("div",{className:"p-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center pt-1",children:l.jsx(kr,{id:`expense-${H.id}`,checked:i.includes(H.id),onCheckedChange:Z=>Y(H.id,Z),className:"data-[state=checked]:bg-red-500 data-[state=checked]:border-red-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-2.5 rounded-full",children:l.jsx(nr,{className:"w-4 h-4 text-red-500"})}),H.comprovante&&l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{m(H.comprovante),g(!0)},className:"p-1.5 h-8 w-8 hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Ver comprovante",children:l.jsx($u,{className:"w-4 h-4 text-blue-600"})})]}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"flex items-center gap-2 mb-1",children:l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:H.descricao})}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[l.jsx("span",{className:"font-medium",children:R(H.metodoPagamento)}),H.metodoPagamento==="credito"&&H.cartaoId&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"truncate",children:$(H.cartaoId)})]}),H.metodoPagamento!=="credito"&&H.bancoId&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"truncate",children:O(H.bancoId)})]}),l.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:""}),l.jsx("span",{className:"whitespace-nowrap",children:new Date(H.data).toLocaleDateString("pt-BR")})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[k(H.status),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-lg",children:I(H.valor)}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-[120px]",children:H.categoria})]}),l.jsx(Po,{transaction:H,type:"expense",onEdit:Z=>{u(Z),f(!0)}})]})]}),l.jsxs("div",{className:"md:hidden",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-1.5 rounded-full",children:l.jsx(nr,{className:"w-3 h-3 text-red-500"})}),l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 truncate text-sm overflow-hidden",children:H.descricao})})]}),l.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[H.comprovante&&l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{m(H.comprovante),g(!0)},className:"p-1 h-6 w-6 hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Ver comprovante",children:l.jsx($u,{className:"w-3 h-3 text-blue-600"})}),l.jsx(Po,{transaction:H,type:"expense",onEdit:Z=>{u(Z),f(!0)}})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1 mr-2",children:[k(H.status),l.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate max-w-[80px]",children:H.categoria})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsx("p",{className:"font-bold text-red-600 dark:text-red-400 text-sm",children:I(H.valor)}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(H.data).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})]})]}),l.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400 truncate",children:R(H.metodoPagamento)}),(H.metodoPagamento==="credito"&&H.cartaoId||H.metodoPagamento!=="credito"&&H.bancoId)&&l.jsx("div",{className:"mt-1 pt-1 border-t border-gray-200 dark:border-gray-700",children:l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate overflow-hidden",children:H.metodoPagamento==="credito"&&H.cartaoId?$(H.cartaoId):O(H.bancoId)})})]})]})]})})},H.id))})})]})]})]}),l.jsx(Tfe,{isOpen:r,onClose:()=>n(!1),banks:E,creditCards:S,categories:j}),l.jsx(Afe,{isOpen:d,onClose:()=>{f(!1),u(null)},expense:c,banks:E,creditCards:S,categories:j}),l.jsx(ln,{open:v,onOpenChange:g,children:l.jsxs(Gr,{className:"max-w-4xl max-h-[90vh] overflow-hidden","aria-describedby":"receipt-description",children:[l.jsxs(Kr,{children:[l.jsx(Qr,{children:"Visualizar Comprovante"}),l.jsx("p",{id:"receipt-description",className:"sr-only",children:"Modal para visualizar o comprovante da transao"})]}),l.jsx("div",{className:"flex items-center justify-center p-4",children:h&&l.jsx("img",{src:h,alt:"Comprovante",className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-lg",onError:H=>{console.error("Erro ao carregar imagem:",H),H.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><rect fill="%23f3f4f6" width="200" height="200"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%236b7280">Erro ao carregar imagem</text></svg>'}})}),l.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[l.jsx(le,{variant:"outline",onClick:()=>g(!1),children:"Fechar"}),h&&l.jsx(le,{onClick:()=>window.open(h,"_blank"),children:"Abrir em Nova Aba"})]})]})})]})}function Cfe({isOpen:t,onClose:e,creditCard:r}){const[n,i]=_.useState(""),[a,s]=_.useState("visa"),[o,c]=_.useState(""),[u,d]=_.useState(""),[f,h]=_.useState(""),[m,v]=_.useState(""),{toast:g}=vr(),y=Lr();_.useEffect(()=>{var N,T,E;r&&(i(r.nome||""),s(r.bandeira||"visa"),c(((N=r.limite)==null?void 0:N.toString())||""),d(((T=r.vencimento)==null?void 0:T.toString())||""),h(((E=r.fechamento)==null?void 0:E.toString())||""),v(r.final||""))},[r]);const w=mr({mutationFn:async N=>Zt("PUT",`/api/credit-cards/${r.id}`,N),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/credit-cards"]}),g({title:"Sucesso",description:"Carto de crdito atualizado com sucesso!"}),b()},onError:()=>{g({title:"Erro",description:"Erro ao atualizar carto de crdito",variant:"destructive"})}}),x=N=>{if(N.preventDefault(),!n||!o||!u||!f||!m){g({title:"Erro",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}if(m.length!==4){g({title:"Erro",description:"Os ltimos 4 dgitos devem ter exatamente 4 nmeros",variant:"destructive"});return}const T=parseInt(u),E=parseInt(f);if(T<1||T>31){g({title:"Erro",description:"Dia de vencimento deve ser entre 1 e 31",variant:"destructive"});return}if(E<1||E>31){g({title:"Erro",description:"Dia de fechamento deve ser entre 1 e 31",variant:"destructive"});return}w.mutate({nome:n,bandeira:a,limite:parseFloat(o),vencimento:T,fechamento:E,final:m})},b=()=>{i(""),s("visa"),c(""),d(""),h(""),v(""),e()};return l.jsx(ln,{open:t,onOpenChange:b,children:l.jsxs(Gr,{className:"sm:max-w-md",children:[l.jsxs(Kr,{children:[l.jsx(Qr,{children:"Editar Carto de Crdito"}),l.jsx(Li,{children:"Edite as informaes do seu carto de crdito."})]}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"nome",children:"Nome do Carto"}),l.jsx(Be,{id:"nome",value:n,onChange:N=>i(N.target.value),placeholder:"Ex: Visa Platinum",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"bandeira",children:"Bandeira"}),l.jsxs(Je,{value:a,onValueChange:N=>s(N),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"visa",children:"Visa"}),l.jsx(ge,{value:"mastercard",children:"Mastercard"}),l.jsx(ge,{value:"elo",children:"Elo"}),l.jsx(ge,{value:"american_express",children:"American Express"}),l.jsx(ge,{value:"hipercard",children:"Hipercard"})]})]})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"limite",children:"Limite"}),l.jsx(Be,{id:"limite",type:"number",step:"0.01",value:o,onChange:N=>c(N.target.value),placeholder:"0,00",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"vencimento",children:"Dia de Vencimento"}),l.jsx(Be,{id:"vencimento",type:"number",min:"1",max:"31",value:u,onChange:N=>d(N.target.value),placeholder:"Ex: 10",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"fechamento",children:"Dia de Fechamento"}),l.jsx(Be,{id:"fechamento",type:"number",min:"1",max:"31",value:f,onChange:N=>h(N.target.value),placeholder:"Ex: 5",required:!0})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"final",children:"ltimos 4 Dgitos"}),l.jsx(Be,{id:"final",type:"text",maxLength:4,value:m,onChange:N=>v(N.target.value.replace(/\D/g,"")),placeholder:"1234",required:!0})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:b,className:"flex-1",children:"Cancelar"}),l.jsx(le,{type:"submit",className:"flex-1",disabled:w.isPending,children:w.isPending?"Salvando...":"Salvar"})]})]})]})})}var oC="Radio",[Pfe,Cz]=cn(oC),[Ife,Ofe]=Pfe(oC),Pz=_.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:s,value:o="on",onCheck:c,form:u,...d}=t,[f,h]=_.useState(null),m=ut(e,y=>h(y)),v=_.useRef(!1),g=f?u||!!f.closest("form"):!0;return l.jsxs(Ife,{scope:r,checked:i,disabled:s,children:[l.jsx(Me.button,{type:"button",role:"radio","aria-checked":i,"data-state":kz(i),"data-disabled":s?"":void 0,disabled:s,value:o,...d,ref:m,onClick:pe(t.onClick,y=>{i||c==null||c(),g&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),g&&l.jsx(kfe,{control:f,bubbles:!v.current,name:n,value:o,checked:i,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});Pz.displayName=oC;var Iz="RadioIndicator",Oz=_.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=Ofe(Iz,r);return l.jsx(xi,{present:n||a.checked,children:l.jsx(Me.span,{"data-state":kz(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});Oz.displayName=Iz;var kfe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=_.useRef(null),s=Rb(r),o=Nb(e);return _.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[s,r,n]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kz(t){return t?"checked":"unchecked"}var Rfe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lC="RadioGroup",[Mfe,Y4e]=cn(lC,[Df,Cz]),Rz=Df(),Mz=Cz(),[Dfe,$fe]=Mfe(lC),Dz=_.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:s=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=t,m=Rz(r),v=yg(u),[g,y]=Ua({prop:a,defaultProp:i,onChange:f});return l.jsx(Dfe,{scope:r,name:n,required:s,disabled:o,value:g,onValueChange:y,children:l.jsx(XN,{asChild:!0,...m,orientation:c,dir:v,loop:d,children:l.jsx(Me.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":o?"":void 0,dir:v,...h,ref:e})})})});Dz.displayName=lC;var $z="RadioGroupItem",Lz=_.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=$fe($z,r),s=a.disabled||n,o=Rz(r),c=Mz(r),u=_.useRef(null),d=ut(e,u),f=a.value===i.value,h=_.useRef(!1);return _.useEffect(()=>{const m=g=>{Rfe.includes(g.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),l.jsx(ZN,{asChild:!0,...o,focusable:!s,active:f,children:l.jsx(Pz,{disabled:s,required:a.required,checked:f,...c,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:pe(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:pe(i.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});Lz.displayName=$z;var Lfe="RadioGroupIndicator",Fz=_.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=Mz(r);return l.jsx(Oz,{...i,...n,ref:e})});Fz.displayName=Lfe;var Vz=Dz,Bz=Lz,Ffe=Fz;const Uz=_.forwardRef(({className:t,...e},r)=>l.jsx(Vz,{className:Se("grid gap-2",t),...e,ref:r}));Uz.displayName=Vz.displayName;const kE=_.forwardRef(({className:t,...e},r)=>l.jsx(Bz,{ref:r,className:Se("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(Ffe,{className:"flex items-center justify-center",children:l.jsx(u6,{className:"h-2.5 w-2.5 fill-current text-current"})})}));kE.displayName=Bz.displayName;function Vfe({isOpen:t,onClose:e,creditCard:r,hasExpenses:n}){var d;const[i,a]=_.useState("card-only"),{toast:s}=vr(),o=Lr(),c=mr({mutationFn:async()=>Zt("DELETE",`/api/credit-cards/${r.id}?deleteExpenses=${i==="card-and-expenses"}`),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/credit-cards"]}),o.invalidateQueries({queryKey:["/api/expenses"]}),o.invalidateQueries({queryKey:["/api/invoices"]}),s({title:"Sucesso",description:i==="card-and-expenses"?"Carto e gastos excludos com sucesso!":"Carto excludo com sucesso! Os gastos foram mantidos."}),e()},onError:()=>{s({title:"Erro",description:"Erro ao excluir carto de crdito",variant:"destructive"})}}),u=()=>{c.mutate()};return l.jsx(ln,{open:t,onOpenChange:e,children:l.jsxs(Gr,{className:"sm:max-w-md",children:[l.jsxs(Kr,{children:[l.jsxs(Qr,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(p6,{className:"w-5 h-5"}),"Excluir Carto de Crdito"]}),l.jsx(Li,{children:"Esta ao no pode ser desfeita. Escolha como proceder com os gastos associados a este carto."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx(Tr,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:r==null?void 0:r.nome}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[(d=r==null?void 0:r.bandeira)==null?void 0:d.toUpperCase()," **** ",r==null?void 0:r.final]})]})]}),n&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(se,{className:"text-sm font-medium",children:"O que fazer com os gastos deste carto?"}),l.jsxs(Uz,{value:i,onValueChange:f=>a(f),children:[l.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[l.jsx(kE,{value:"card-only",id:"card-only",className:"mt-1"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(se,{htmlFor:"card-only",className:"font-medium cursor-pointer",children:"Manter gastos (Recomendado)"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:['Os gastos sero mantidos com o nome "Carto Excludo - ',r==null?void 0:r.final,'". Isso preserva o histrico financeiro.']})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg border-red-200 bg-red-50",children:[l.jsx(kE,{value:"card-and-expenses",id:"card-and-expenses",className:"mt-1"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(se,{htmlFor:"card-and-expenses",className:"font-medium cursor-pointer text-red-700",children:"Excluir tudo"}),l.jsx("p",{className:"text-sm text-red-600",children:"Remove o carto e TODOS os gastos associados permanentemente. Esta opo apagar seu histrico financeiro."})]})]})]})]}),!n&&l.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-green-700",children:"Este carto no possui gastos associados. Pode ser excludo sem impacto no histrico."})}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx(le,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancelar"}),l.jsx(le,{onClick:u,variant:"destructive",className:"flex-1",disabled:c.isPending,children:c.isPending?"Excluindo...":l.jsxs(l.Fragment,{children:[l.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Excluir"]})})]})]})]})})}function Bfe(){var V;const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[s,o]=_.useState(!1),[c,u]=_.useState(null),[d,f]=_.useState(null),[h,m]=_.useState(null),[v,g]=_.useState(()=>{const L=new Date;return`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`}),{user:y}=Fr(),{data:w=[]}=$t({queryKey:["/api/credit-cards"],enabled:!!y}),{data:x=[]}=$t({queryKey:["/api/invoices"],enabled:!!y}),{data:b=[]}=$t({queryKey:["/api/expenses"],enabled:!!y}),N=L=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L),T=L=>{switch(L){case"visa":return"bg-blue-600";case"mastercard":return"bg-red-600";case"elo":return"bg-yellow-600";case"american_express":return"bg-green-600";case"hipercard":return"bg-orange-600";default:return"bg-gray-600"}},E=w.reduce((L,F)=>L+F.limite,0),S=L=>new Date(L).toLocaleDateString("pt-BR"),j=()=>h?x.filter(L=>L.cartaoId===h&&L.mesAno===v):[],C=()=>{if(!h)return[];const L=w.find(U=>U.id===h);if(!L)return[];const F=L.fechamento;return b.filter(U=>{if(U.cartaoId!==h||U.metodoPagamento!=="credito")return!1;const J=new Date(U.data),Y=J.getDate(),oe=J.getMonth(),H=J.getFullYear();let Z=oe,ye=H;return Y>F&&(Z++,Z>11&&(Z=0,ye++)),`${ye}-${String(Z+1).padStart(2,"0")}`===v})},I=L=>{const[F,B]=v.split("-").map(Number),U=new Date(F,B-1);L==="prev"?U.setMonth(U.getMonth()-1):U.setMonth(U.getMonth()+1),g(`${U.getFullYear()}-${String(U.getMonth()+1).padStart(2,"0")}`)},k=L=>{const[F,B]=L.split("-");return new Date(parseInt(F),parseInt(B)-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})},R=L=>{const F=new Date,B=`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`,U=w.find(Y=>Y.id===L);if(!U)return 0;const J=U.fechamento;return b.filter(Y=>{if(Y.cartaoId!==L||Y.metodoPagamento!=="credito")return!1;const oe=new Date(Y.data),H=oe.getDate(),Z=oe.getMonth(),ye=oe.getFullYear();let ue=Z,$e=ye;return H>J&&(ue++,ue>11&&(ue=0,$e++)),`${$e}-${String(ue+1).padStart(2,"0")}`===B}).reduce((Y,oe)=>Y+oe.valor,0)},O=L=>x.filter(B=>B.cartaoId===L&&!B.pago).reduce((B,U)=>B+U.valorTotal,0),$=()=>w.reduce((L,F)=>L+O(F.id),0),D=L=>b.some(F=>F.cartaoId===L);return l.jsxs("div",{className:"min-h-screen bg-muted",children:[l.jsx(Zc,{onMenuToggle:()=>e(!0)}),l.jsx(Xc,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("main",{className:"lg:ml-64 pt-16 lg:pt-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Cartes de Crdito"}),l.jsx("p",{className:"text-purple-100 mt-1 text-sm sm:text-base",children:"Gerencie seus cartes e faturas"})]}),l.jsxs(le,{onClick:()=>n(!0),className:"bg-card bg-opacity-20 hover:bg-opacity-30 w-full sm:w-auto",children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar Carto"]})]})}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs(Ie,{className:"mb-6",children:[l.jsx(vt,{children:l.jsx(yt,{className:"text-lg",children:"Resumo"})}),l.jsx(Oe,{children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total de Cartes"}),l.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:w.length})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Limite Total"}),l.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:N(E)})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Limite Utilizado"}),l.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-600",children:N($())})]})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:w.length===0?l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(Tr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum carto de crdito cadastrado"}),l.jsxs(le,{onClick:()=>n(!0),children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar Primeiro Carto"]})]}):w.map(L=>{const F=O(L.id),B=L.limite-F,U=F/L.limite*100;return l.jsx(Ie,{className:"hover:shadow-lg transition-shadow",children:l.jsxs(Oe,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-12 h-12 ${T(L.bandeira)} rounded-lg flex items-center justify-center mr-3`,children:l.jsx(Tr,{className:"text-white w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-foreground",children:L.nome}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[L.bandeira.toUpperCase()," **** ",L.final]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{u(L),a(!0)},children:l.jsx(fN,{className:"w-4 h-4"})}),l.jsx(le,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>{f(L),o(!0)},children:l.jsx(Oc,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Limite Total"}),l.jsx("span",{className:"font-medium",children:N(L.limite)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Limite Disponvel"}),l.jsx("span",{className:"font-medium text-secondary",children:N(B)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Vencimento"}),l.jsxs("span",{className:"font-medium",children:["Todo dia ",L.vencimento]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Fatura Atual"}),l.jsx("span",{className:"font-medium text-red-600",children:N(R(L.id))})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-muted-foreground",children:"Limite utilizado"}),l.jsxs("span",{className:"text-foreground font-medium",children:[U.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${U>70?"bg-red-500":U>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${U}%`}})})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx("span",{children:"Criado em "}),l.jsx("span",{children:new Date(L.createdAt).toLocaleDateString("pt-BR")})]}),l.jsxs(le,{size:"sm",variant:"outline",onClick:()=>m(h===L.id?null:L.id),className:"flex items-center gap-1",children:[l.jsx(Yl,{className:"w-4 h-4"}),h===L.id?"Ocultar":"Ver Faturas"]})]})})]})},L.id)})}),h&&l.jsxs(Ie,{className:"mt-6",children:[l.jsx(vt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(Yl,{className:"w-5 h-5"}),"Faturas - ",(V=w.find(L=>L.id===h))==null?void 0:V.nome]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{variant:"outline",size:"sm",onClick:()=>I("prev"),className:"p-2",children:l.jsx(cN,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-accent rounded-md",children:[l.jsx(al,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium text-sm min-w-[120px] text-center",children:k(v)})]}),l.jsx(le,{variant:"outline",size:"sm",onClick:()=>I("next"),className:"p-2",children:l.jsx(Sb,{className:"w-4 h-4"})})]})]})}),l.jsx(Oe,{children:j().length===0&&C().length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Yl,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),l.jsxs("p",{children:["Nenhuma fatura ou gasto encontrado para ",k(v)]})]}):l.jsxs("div",{className:"space-y-4",children:[j().map(L=>l.jsx("div",{className:"border rounded-lg p-4 bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yl,{className:"w-4 h-4 text-blue-600"}),l.jsxs("span",{className:"font-medium text-blue-900",children:["Fatura ",k(v)]})]}),l.jsx(nt,{variant:L.pago?"default":"destructive",children:L.pago?"Pago":"Pendente"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-semibold text-lg text-blue-900",children:N(L.valorTotal)}),l.jsxs("div",{className:"text-sm text-blue-600",children:["Vence em ",S(L.dataVencimento)]})]})]})},L.id)),C().length>0&&l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(fi,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("h4",{className:"font-medium text-foreground",children:["Gastos de ",k(v)]}),l.jsxs(nt,{variant:"outline",className:"ml-auto",children:[C().length," ",C().length===1?"item":"itens"]})]}),l.jsx("div",{className:"space-y-2",children:C().sort((L,F)=>new Date(L.data).getTime()-new Date(F.data).getTime()).map(L=>l.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-muted rounded-md",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:L.descricao}),L.parcela&&l.jsx(nt,{variant:"secondary",className:"text-xs",children:L.parcela}),l.jsx(nt,{variant:L.status==="pago"?"default":"destructive",className:"text-xs",children:L.status==="pago"?"Pago":"Pendente"})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:S(L.data)})]})}),l.jsx("span",{className:"font-medium",children:N(L.valor)})]},L.id))}),l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium text-foreground",children:"Total do ms:"}),l.jsx("span",{className:"font-bold text-lg text-red-600",children:N(C().reduce((L,F)=>L+F.valor,0))})]})})]})]})})]})]})]})]}),l.jsx(EU,{isOpen:r,onClose:()=>n(!1)}),l.jsx(Cfe,{isOpen:i,onClose:()=>{a(!1),u(null)},creditCard:c}),l.jsx(Vfe,{isOpen:s,onClose:()=>{o(!1),f(null)},creditCard:d,hasExpenses:d?D(d.id):!1})]})}var Ufe=Array.isArray,ei=Ufe,zfe=typeof Qg=="object"&&Qg&&Qg.Object===Object&&Qg,zz=zfe,qfe=zz,Wfe=typeof self=="object"&&self&&self.Object===Object&&self,Hfe=qfe||Wfe||Function("return this")(),Ka=Hfe,Gfe=Ka,Kfe=Gfe.Symbol,Eg=Kfe,fR=Eg,qz=Object.prototype,Qfe=qz.hasOwnProperty,Yfe=qz.toString,bh=fR?fR.toStringTag:void 0;function Xfe(t){var e=Qfe.call(t,bh),r=t[bh];try{t[bh]=void 0;var n=!0}catch{}var i=Yfe.call(t);return n&&(e?t[bh]=r:delete t[bh]),i}var Zfe=Xfe,Jfe=Object.prototype,ehe=Jfe.toString;function the(t){return ehe.call(t)}var rhe=the,hR=Eg,nhe=Zfe,ihe=rhe,ahe="[object Null]",she="[object Undefined]",pR=hR?hR.toStringTag:void 0;function ohe(t){return t==null?t===void 0?she:ahe:pR&&pR in Object(t)?nhe(t):ihe(t)}var zs=ohe;function lhe(t){return t!=null&&typeof t=="object"}var qs=lhe,che=zs,uhe=qs,dhe="[object Symbol]";function fhe(t){return typeof t=="symbol"||uhe(t)&&che(t)==dhe}var $f=fhe,hhe=ei,phe=$f,mhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ghe=/^\w*$/;function vhe(t,e){if(hhe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||phe(t)?!0:ghe.test(t)||!mhe.test(t)||e!=null&&t in Object(e)}var cC=vhe;function yhe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wl=yhe;const Lf=Pt(wl);var xhe=zs,bhe=wl,whe="[object AsyncFunction]",_he="[object Function]",She="[object GeneratorFunction]",Ehe="[object Proxy]";function The(t){if(!bhe(t))return!1;var e=xhe(t);return e==_he||e==She||e==whe||e==Ehe}var uC=The;const Ge=Pt(uC);var jhe=Ka,Ahe=jhe["__core-js_shared__"],Nhe=Ahe,r1=Nhe,mR=function(){var t=/[^.]+$/.exec(r1&&r1.keys&&r1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Che(t){return!!mR&&mR in t}var Phe=Che,Ihe=Function.prototype,Ohe=Ihe.toString;function khe(t){if(t!=null){try{return Ohe.call(t)}catch{}try{return t+""}catch{}}return""}var Wz=khe,Rhe=uC,Mhe=Phe,Dhe=wl,$he=Wz,Lhe=/[\\^$.*+?()[\]{}|]/g,Fhe=/^\[object .+?Constructor\]$/,Vhe=Function.prototype,Bhe=Object.prototype,Uhe=Vhe.toString,zhe=Bhe.hasOwnProperty,qhe=RegExp("^"+Uhe.call(zhe).replace(Lhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Whe(t){if(!Dhe(t)||Mhe(t))return!1;var e=Rhe(t)?qhe:Fhe;return e.test($he(t))}var Hhe=Whe;function Ghe(t,e){return t==null?void 0:t[e]}var Khe=Ghe,Qhe=Hhe,Yhe=Khe;function Xhe(t,e){var r=Yhe(t,e);return Qhe(r)?r:void 0}var tu=Xhe,Zhe=tu,Jhe=Zhe(Object,"create"),zb=Jhe,gR=zb;function epe(){this.__data__=gR?gR(null):{},this.size=0}var tpe=epe;function rpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var npe=rpe,ipe=zb,ape="__lodash_hash_undefined__",spe=Object.prototype,ope=spe.hasOwnProperty;function lpe(t){var e=this.__data__;if(ipe){var r=e[t];return r===ape?void 0:r}return ope.call(e,t)?e[t]:void 0}var cpe=lpe,upe=zb,dpe=Object.prototype,fpe=dpe.hasOwnProperty;function hpe(t){var e=this.__data__;return upe?e[t]!==void 0:fpe.call(e,t)}var ppe=hpe,mpe=zb,gpe="__lodash_hash_undefined__";function vpe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mpe&&e===void 0?gpe:e,this}var ype=vpe,xpe=tpe,bpe=npe,wpe=cpe,_pe=ppe,Spe=ype;function Ff(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ff.prototype.clear=xpe;Ff.prototype.delete=bpe;Ff.prototype.get=wpe;Ff.prototype.has=_pe;Ff.prototype.set=Spe;var Epe=Ff;function Tpe(){this.__data__=[],this.size=0}var jpe=Tpe;function Ape(t,e){return t===e||t!==t&&e!==e}var dC=Ape,Npe=dC;function Cpe(t,e){for(var r=t.length;r--;)if(Npe(t[r][0],e))return r;return-1}var qb=Cpe,Ppe=qb,Ipe=Array.prototype,Ope=Ipe.splice;function kpe(t){var e=this.__data__,r=Ppe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ope.call(e,r,1),--this.size,!0}var Rpe=kpe,Mpe=qb;function Dpe(t){var e=this.__data__,r=Mpe(e,t);return r<0?void 0:e[r][1]}var $pe=Dpe,Lpe=qb;function Fpe(t){return Lpe(this.__data__,t)>-1}var Vpe=Fpe,Bpe=qb;function Upe(t,e){var r=this.__data__,n=Bpe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var zpe=Upe,qpe=jpe,Wpe=Rpe,Hpe=$pe,Gpe=Vpe,Kpe=zpe;function Vf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vf.prototype.clear=qpe;Vf.prototype.delete=Wpe;Vf.prototype.get=Hpe;Vf.prototype.has=Gpe;Vf.prototype.set=Kpe;var Wb=Vf,Qpe=tu,Ype=Ka,Xpe=Qpe(Ype,"Map"),fC=Xpe,vR=Epe,Zpe=Wb,Jpe=fC;function eme(){this.size=0,this.__data__={hash:new vR,map:new(Jpe||Zpe),string:new vR}}var tme=eme;function rme(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var nme=rme,ime=nme;function ame(t,e){var r=t.__data__;return ime(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Hb=ame,sme=Hb;function ome(t){var e=sme(this,t).delete(t);return this.size-=e?1:0,e}var lme=ome,cme=Hb;function ume(t){return cme(this,t).get(t)}var dme=ume,fme=Hb;function hme(t){return fme(this,t).has(t)}var pme=hme,mme=Hb;function gme(t,e){var r=mme(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var vme=gme,yme=tme,xme=lme,bme=dme,wme=pme,_me=vme;function Bf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bf.prototype.clear=yme;Bf.prototype.delete=xme;Bf.prototype.get=bme;Bf.prototype.has=wme;Bf.prototype.set=_me;var hC=Bf,Hz=hC,Sme="Expected a function";function pC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Sme);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(pC.Cache||Hz),r}pC.Cache=Hz;var Gz=pC;const Eme=Pt(Gz);var Tme=Gz,jme=500;function Ame(t){var e=Tme(t,function(n){return r.size===jme&&r.clear(),n}),r=e.cache;return e}var Nme=Ame,Cme=Nme,Pme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ime=/\\(\\)?/g,Ome=Cme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Pme,function(r,n,i,a){e.push(i?a.replace(Ime,"$1"):n||r)}),e}),kme=Ome;function Rme(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var mC=Rme,yR=Eg,Mme=mC,Dme=ei,$me=$f,Lme=1/0,xR=yR?yR.prototype:void 0,bR=xR?xR.toString:void 0;function Kz(t){if(typeof t=="string")return t;if(Dme(t))return Mme(t,Kz)+"";if($me(t))return bR?bR.call(t):"";var e=t+"";return e=="0"&&1/t==-Lme?"-0":e}var Fme=Kz,Vme=Fme;function Bme(t){return t==null?"":Vme(t)}var Qz=Bme,Ume=ei,zme=cC,qme=kme,Wme=Qz;function Hme(t,e){return Ume(t)?t:zme(t,e)?[t]:qme(Wme(t))}var Yz=Hme,Gme=$f,Kme=1/0;function Qme(t){if(typeof t=="string"||Gme(t))return t;var e=t+"";return e=="0"&&1/t==-Kme?"-0":e}var Gb=Qme,Yme=Yz,Xme=Gb;function Zme(t,e){e=Yme(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Xme(e[r++])];return r&&r==n?t:void 0}var gC=Zme,Jme=gC;function ege(t,e,r){var n=t==null?void 0:Jme(t,e);return n===void 0?r:n}var Xz=ege;const mi=Pt(Xz);function tge(t){return t==null}var rge=tge;const ct=Pt(rge);var nge=zs,ige=ei,age=qs,sge="[object String]";function oge(t){return typeof t=="string"||!ige(t)&&age(t)&&nge(t)==sge}var lge=oge;const Fc=Pt(lge);var Zz={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC=Symbol.for("react.element"),yC=Symbol.for("react.portal"),Kb=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),Yb=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),cge=Symbol.for("react.server_context"),Jb=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),uge=Symbol.for("react.offscreen"),Jz;Jz=Symbol.for("react.module.reference");function Fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vC:switch(t=t.type,t){case Kb:case Yb:case Qb:case ew:case tw:return t;default:switch(t=t&&t.$$typeof,t){case cge:case Zb:case Jb:case nw:case rw:case Xb:return t;default:return e}}case yC:return e}}}kt.ContextConsumer=Zb;kt.ContextProvider=Xb;kt.Element=vC;kt.ForwardRef=Jb;kt.Fragment=Kb;kt.Lazy=nw;kt.Memo=rw;kt.Portal=yC;kt.Profiler=Yb;kt.StrictMode=Qb;kt.Suspense=ew;kt.SuspenseList=tw;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(t){return Fi(t)===Zb};kt.isContextProvider=function(t){return Fi(t)===Xb};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vC};kt.isForwardRef=function(t){return Fi(t)===Jb};kt.isFragment=function(t){return Fi(t)===Kb};kt.isLazy=function(t){return Fi(t)===nw};kt.isMemo=function(t){return Fi(t)===rw};kt.isPortal=function(t){return Fi(t)===yC};kt.isProfiler=function(t){return Fi(t)===Yb};kt.isStrictMode=function(t){return Fi(t)===Qb};kt.isSuspense=function(t){return Fi(t)===ew};kt.isSuspenseList=function(t){return Fi(t)===tw};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kb||t===Yb||t===Qb||t===ew||t===tw||t===uge||typeof t=="object"&&t!==null&&(t.$$typeof===nw||t.$$typeof===rw||t.$$typeof===Xb||t.$$typeof===Zb||t.$$typeof===Jb||t.$$typeof===Jz||t.getModuleId!==void 0)};kt.typeOf=Fi;Zz.exports=kt;var dge=Zz.exports,fge=zs,hge=qs,pge="[object Number]";function mge(t){return typeof t=="number"||hge(t)&&fge(t)==pge}var e8=mge;const gge=Pt(e8);var vge=e8;function yge(t){return vge(t)&&t!=+t}var xge=yge;const Tg=Pt(xge);var Rn=function(e){return e===0?0:e>0?1:-1},Zl=function(e){return Fc(e)&&e.indexOf("%")===e.length-1},he=function(e){return gge(e)&&!Tg(e)},bge=function(e){return ct(e)},Mr=function(e){return he(e)||Fc(e)},wge=0,jg=function(e){var r=++wge;return"".concat(e||"").concat(r)},Mn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!Fc(e))return n;var a;if(Zl(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Tg(a)&&(a=n),i&&a>r&&(a=r),a},go=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},_ge=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},oo=function(e,r){return he(e)&&he(r)?function(n){return e+n*(r-e)}:function(){return r}};function RE(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):mi(n,e))===r})}var Sge=function(e,r){return he(e)&&he(r)?e-r:Fc(e)&&Fc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function cd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ME(t){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}var Ege=["viewBox","children"],Tge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wR=["points","pathLength"],n1={svg:Ege,polygon:wR,polyline:wR},xC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),!Lf(n))return null;var i={};return Object.keys(n).forEach(function(a){xC.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},jge=function(e,r,n){return function(i){return e(r,n,i),null}},Vc=function(e,r,n){if(!Lf(e)||ME(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];xC.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=jge(s,r,n))}),i},Age=["children"],Nge=["children"];function _R(t,e){if(t==null)return{};var r=Cge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var SR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ER=null,i1=null,bC=function t(e){if(e===ER&&Array.isArray(i1))return i1;var r=[];return _.Children.forEach(e,function(n){ct(n)||(dge.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),i1=r,ER=e,r};function Ri(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return xs(i)}):n=[xs(e)],bC(t).forEach(function(i){var a=mi(i,"type.displayName")||mi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function si(t,e){var r=Ri(t,e);return r&&r[0]}var TR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!he(n)||n<=0||!he(i)||i<=0)},Pge=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ige=function(e){return e&&e.type&&Fc(e.type)&&Pge.indexOf(e.type)>=0},Oge=function(e,r,n,i){var a,s=(a=n1==null?void 0:n1[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ge(e)&&(i&&s.includes(r)||Tge.includes(r))||n&&xC.includes(r)},We=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(_.isValidElement(e)&&(i=e.props),!Lf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Oge((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},DE=function t(e,r){if(e===r)return!0;var n=_.Children.count(e);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return jR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!jR(a,s))return!1}return!0},jR=function(e,r){if(ct(e)&&ct(r))return!0;if(!ct(e)&&!ct(r)){var n=e.props||{},i=n.children,a=_R(n,Age),s=r.props||{},o=s.children,c=_R(s,Nge);return i&&o?cd(a,c)&&DE(i,o):!i&&!o?cd(a,c):!1}return!1},AR=function(e,r){var n=[],i={};return bC(e).forEach(function(a,s){if(Ige(a))n.push(a);else if(a){var o=xs(a.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},kge=function(e){var r=e&&e.type;return r&&SR[r]?SR[r]:null},Rge=function(e,r){return bC(r).indexOf(e)},Mge=["children","width","height","viewBox","className","style","title","desc"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$E.apply(this,arguments)}function Dge(t,e){if(t==null)return{};var r=$ge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $ge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,c=t.desc,u=Dge(t,Mge),d=i||{width:r,height:n,x:0,y:0},f=it("recharts-surface",a);return z.createElement("svg",$E({},We(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,o),z.createElement("desc",null,c),e)}var Lge=["children","className"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FE.apply(this,arguments)}function Fge(t,e){if(t==null)return{};var r=Vge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var It=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=Fge(t,Lge),a=it("recharts-layer",n);return z.createElement("g",FE({className:a},We(i,!0),{ref:e}),r)}),la=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Bge(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var Uge=Bge,zge=Uge;function qge(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:zge(t,e,r)}var Wge=qge,Hge="\\ud800-\\udfff",Gge="\\u0300-\\u036f",Kge="\\ufe20-\\ufe2f",Qge="\\u20d0-\\u20ff",Yge=Gge+Kge+Qge,Xge="\\ufe0e\\ufe0f",Zge="\\u200d",Jge=RegExp("["+Zge+Hge+Yge+Xge+"]");function eve(t){return Jge.test(t)}var t8=eve;function tve(t){return t.split("")}var rve=tve,r8="\\ud800-\\udfff",nve="\\u0300-\\u036f",ive="\\ufe20-\\ufe2f",ave="\\u20d0-\\u20ff",sve=nve+ive+ave,ove="\\ufe0e\\ufe0f",lve="["+r8+"]",VE="["+sve+"]",BE="\\ud83c[\\udffb-\\udfff]",cve="(?:"+VE+"|"+BE+")",n8="[^"+r8+"]",i8="(?:\\ud83c[\\udde6-\\uddff]){2}",a8="[\\ud800-\\udbff][\\udc00-\\udfff]",uve="\\u200d",s8=cve+"?",o8="["+ove+"]?",dve="(?:"+uve+"(?:"+[n8,i8,a8].join("|")+")"+o8+s8+")*",fve=o8+s8+dve,hve="(?:"+[n8+VE+"?",VE,i8,a8,lve].join("|")+")",pve=RegExp(BE+"(?="+BE+")|"+hve+fve,"g");function mve(t){return t.match(pve)||[]}var gve=mve,vve=rve,yve=t8,xve=gve;function bve(t){return yve(t)?xve(t):vve(t)}var wve=bve,_ve=Wge,Sve=t8,Eve=wve,Tve=Qz;function jve(t){return function(e){e=Tve(e);var r=Sve(e)?Eve(e):void 0,n=r?r[0]:e.charAt(0),i=r?_ve(r,1).join(""):e.slice(1);return n[t]()+i}}var Ave=jve,Nve=Ave,Cve=Nve("toUpperCase"),Pve=Cve;const iw=Pt(Pve);function Vt(t){return function(){return t}}const l8=Math.cos,Mx=Math.sin,ma=Math.sqrt,Dx=Math.PI,aw=2*Dx,UE=Math.PI,zE=2*UE,Fl=1e-6,Ive=zE-Fl;function c8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Ove(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c8;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class kve{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c8:Ove(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-e,u=i-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Fl)if(!(Math.abs(f*c-u*d)>Fl)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-s,v=i-o,g=c*c+u*u,y=m*m+v*v,w=Math.sqrt(g),x=Math.sqrt(h),b=a*Math.tan((UE-Math.acos((g+h-y)/(2*w*x)))/2),N=b/x,T=b/w;Math.abs(N-1)>Fl&&this._append`L${e+N*d},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=e+T*c},${this._y1=r+T*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=e+o,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fl||Math.abs(this._y1-d)>Fl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%zE+zE),h>Ive?this._append`A${n},${n},0,1,${f},${e-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Fl&&this._append`A${n},${n},0,${+(h>=UE)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function wC(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new kve(e)}function _C(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u8(t){this._context=t}u8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sw(t){return new u8(t)}function d8(t){return t[0]}function f8(t){return t[1]}function h8(t,e){var r=Vt(!0),n=null,i=sw,a=null,s=wC(o);t=typeof t=="function"?t:t===void 0?d8:Vt(t),e=typeof e=="function"?e:e===void 0?f8:Vt(e);function o(c){var u,d=(c=_C(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(m)return a=null,m+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Vt(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Vt(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Vt(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Nv(t,e,r){var n=null,i=Vt(!0),a=null,s=sw,o=null,c=wC(u);t=typeof t=="function"?t:t===void 0?d8:Vt(+t),e=typeof e=="function"?e:Vt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?f8:Vt(+r);function u(f){var h,m,v,g=(f=_C(f)).length,y,w=!1,x,b=new Array(g),N=new Array(g);for(a==null&&(o=s(x=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===w)if(w=!w)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=m;--v)o.point(b[v],N[v]);o.lineEnd(),o.areaEnd()}w&&(b[h]=+t(y,h,f),N[h]=+e(y,h,f),o.point(n?+n(y,h,f):b[h],r?+r(y,h,f):N[h]))}if(x)return o=null,x+""||null}function d(){return h8().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Vt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class p8{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Rve(t){return new p8(t,!0)}function Mve(t){return new p8(t,!1)}const SC={draw(t,e){const r=ma(e/Dx);t.moveTo(r,0),t.arc(0,0,r,0,aw)}},Dve={draw(t,e){const r=ma(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},m8=ma(1/3),$ve=m8*2,Lve={draw(t,e){const r=ma(e/$ve),n=r*m8;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Fve={draw(t,e){const r=ma(e),n=-r/2;t.rect(n,n,r,r)}},Vve=.8908130915292852,g8=Mx(Dx/10)/Mx(7*Dx/10),Bve=Mx(aw/10)*g8,Uve=-l8(aw/10)*g8,zve={draw(t,e){const r=ma(e*Vve),n=Bve*r,i=Uve*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=aw*a/5,o=l8(s),c=Mx(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},a1=ma(3),qve={draw(t,e){const r=-ma(e/(a1*3));t.moveTo(0,r*2),t.lineTo(-a1*r,-r),t.lineTo(a1*r,-r),t.closePath()}},bi=-.5,wi=ma(3)/2,qE=1/ma(12),Wve=(qE/2+1)*3,Hve={draw(t,e){const r=ma(e/Wve),n=r/2,i=r*qE,a=n,s=r*qE+r,o=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(bi*n-wi*i,wi*n+bi*i),t.lineTo(bi*a-wi*s,wi*a+bi*s),t.lineTo(bi*o-wi*c,wi*o+bi*c),t.lineTo(bi*n+wi*i,bi*i-wi*n),t.lineTo(bi*a+wi*s,bi*s-wi*a),t.lineTo(bi*o+wi*c,bi*c-wi*o),t.closePath()}};function Gve(t,e){let r=null,n=wC(i);t=typeof t=="function"?t:Vt(t||SC),e=typeof e=="function"?e:Vt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Vt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Vt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function $x(){}function Lx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function v8(t){this._context=t}v8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kve(t){return new v8(t)}function y8(t){this._context=t}y8.prototype={areaStart:$x,areaEnd:$x,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qve(t){return new y8(t)}function x8(t){this._context=t}x8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yve(t){return new x8(t)}function b8(t){this._context=t}b8.prototype={areaStart:$x,areaEnd:$x,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xve(t){return new b8(t)}function NR(t){return t<0?-1:1}function CR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(NR(a)+NR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function PR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function s1(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Fx(t){this._context=t}Fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s1(this,this._t0,PR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,s1(this,PR(this,r=CR(this,t,e)),r);break;default:s1(this,this._t0,r=CR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function w8(t){this._context=new _8(t)}(w8.prototype=Object.create(Fx.prototype)).point=function(t,e){Fx.prototype.point.call(this,e,t)};function _8(t){this._context=t}_8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Zve(t){return new Fx(t)}function Jve(t){return new w8(t)}function S8(t){this._context=t}S8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=IR(t),i=IR(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function IR(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function eye(t){return new S8(t)}function ow(t,e){this._context=t,this._t=e}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function tye(t){return new ow(t,.5)}function rye(t){return new ow(t,0)}function nye(t){return new ow(t,1)}function Wd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function WE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function iye(t,e){return t[e]}function aye(t){const e=[];return e.key=t,e}function sye(){var t=Vt([]),e=WE,r=Wd,n=iye;function i(a){var s=Array.from(t.apply(this,arguments),aye),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=_C(e(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Vt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Vt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?WE:typeof a=="function"?a:Vt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Wd,i):r},i}function oye(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Wd(t,e)}}function lye(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Wd(t,e)}}function cye(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<o;++v){var g=t[e[v]],y=g[n][1]||0,w=g[n-1][1]||0;m+=y-w}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Wd(t,e)}}function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var uye=["type","size","sizeType"];function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HE.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){dye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dye(t,e,r){return e=fye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fye(t){var e=hye(t,"string");return fm(e)=="symbol"?e:e+""}function hye(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pye(t,e){if(t==null)return{};var r=mye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var E8={symbolCircle:SC,symbolCross:Dve,symbolDiamond:Lve,symbolSquare:Fve,symbolStar:zve,symbolTriangle:qve,symbolWye:Hve},gye=Math.PI/180,vye=function(e){var r="symbol".concat(iw(e));return E8[r]||SC},yye=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*gye;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xye=function(e,r){E8["symbol".concat(iw(e))]=r},EC=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,c=pye(e,uye),u=kR(kR({},c),{},{type:n,size:a,sizeType:o}),d=function(){var y=vye(n),w=Gve().type(y).size(yye(a,o,n));return w()},f=u.className,h=u.cx,m=u.cy,v=We(u,!0);return h===+h&&m===+m&&a===+a?z.createElement("path",HE({},v,{className:it("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};EC.registerSymbol=xye;function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GE.apply(this,arguments)}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){hm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j8(n.key),n)}}function Sye(t,e,r){return e&&_ye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eye(t,e,r){return e=Vx(e),Tye(t,T8()?Reflect.construct(e,r||[],Vx(t).constructor):e.apply(t,r))}function Tye(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(t)}function jye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(t)}function Aye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KE(t,e)}function hm(t,e,r){return e=j8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j8(t){var e=Nye(t,"string");return Hd(e)=="symbol"?e:e+""}function Nye(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _i=32,TC=function(t){function e(){return wye(this,e),Eye(this,e,arguments)}return Aye(e,t),Sye(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=_i/2,s=_i/6,o=_i/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:_i,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(_i,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=bye({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(EC,{fill:c,cx:a,cy:a,size:_i,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:_i,height:_i},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,v){var g=m.formatter||c,y=it(hm(hm({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=Ge(m.value)?null:m.value;la(!Ge(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return z.createElement("li",GE({className:y,style:f,key:"legend-item-".concat(v)},Vc(n.props,m,v)),z.createElement(LE,{width:s,height:s,viewBox:d,style:h},n.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(w,m,v):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(_.PureComponent);hm(TC,"displayName","Legend");hm(TC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Cye=Wb;function Pye(){this.__data__=new Cye,this.size=0}var Iye=Pye;function Oye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var kye=Oye;function Rye(t){return this.__data__.get(t)}var Mye=Rye;function Dye(t){return this.__data__.has(t)}var $ye=Dye,Lye=Wb,Fye=fC,Vye=hC,Bye=200;function Uye(t,e){var r=this.__data__;if(r instanceof Lye){var n=r.__data__;if(!Fye||n.length<Bye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vye(n)}return r.set(t,e),this.size=r.size,this}var zye=Uye,qye=Wb,Wye=Iye,Hye=kye,Gye=Mye,Kye=$ye,Qye=zye;function Uf(t){var e=this.__data__=new qye(t);this.size=e.size}Uf.prototype.clear=Wye;Uf.prototype.delete=Hye;Uf.prototype.get=Gye;Uf.prototype.has=Kye;Uf.prototype.set=Qye;var A8=Uf,Yye="__lodash_hash_undefined__";function Xye(t){return this.__data__.set(t,Yye),this}var Zye=Xye;function Jye(t){return this.__data__.has(t)}var exe=Jye,txe=hC,rxe=Zye,nxe=exe;function Bx(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new txe;++e<r;)this.add(t[e])}Bx.prototype.add=Bx.prototype.push=rxe;Bx.prototype.has=nxe;var N8=Bx;function ixe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var C8=ixe;function axe(t,e){return t.has(e)}var P8=axe,sxe=N8,oxe=C8,lxe=P8,cxe=1,uxe=2;function dxe(t,e,r,n,i,a){var s=r&cxe,o=t.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=r&uxe?new sxe:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var v=t[f],g=e[f];if(n)var y=s?n(g,v,f,e,t,a):n(v,g,f,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!oxe(e,function(w,x){if(!lxe(m,x)&&(v===w||i(v,w,r,n,a)))return m.push(x)})){h=!1;break}}else if(!(v===g||i(v,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var I8=dxe,fxe=Ka,hxe=fxe.Uint8Array,pxe=hxe;function mxe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var gxe=mxe;function vxe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var jC=vxe,MR=Eg,DR=pxe,yxe=dC,xxe=I8,bxe=gxe,wxe=jC,_xe=1,Sxe=2,Exe="[object Boolean]",Txe="[object Date]",jxe="[object Error]",Axe="[object Map]",Nxe="[object Number]",Cxe="[object RegExp]",Pxe="[object Set]",Ixe="[object String]",Oxe="[object Symbol]",kxe="[object ArrayBuffer]",Rxe="[object DataView]",$R=MR?MR.prototype:void 0,o1=$R?$R.valueOf:void 0;function Mxe(t,e,r,n,i,a,s){switch(r){case Rxe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case kxe:return!(t.byteLength!=e.byteLength||!a(new DR(t),new DR(e)));case Exe:case Txe:case Nxe:return yxe(+t,+e);case jxe:return t.name==e.name&&t.message==e.message;case Cxe:case Ixe:return t==e+"";case Axe:var o=bxe;case Pxe:var c=n&_xe;if(o||(o=wxe),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;n|=Sxe,s.set(t,e);var d=xxe(o(t),o(e),n,i,a,s);return s.delete(t),d;case Oxe:if(o1)return o1.call(t)==o1.call(e)}return!1}var Dxe=Mxe;function $xe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var O8=$xe,Lxe=O8,Fxe=ei;function Vxe(t,e,r){var n=e(t);return Fxe(t)?n:Lxe(n,r(t))}var Bxe=Vxe;function Uxe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var zxe=Uxe;function qxe(){return[]}var Wxe=qxe,Hxe=zxe,Gxe=Wxe,Kxe=Object.prototype,Qxe=Kxe.propertyIsEnumerable,LR=Object.getOwnPropertySymbols,Yxe=LR?function(t){return t==null?[]:(t=Object(t),Hxe(LR(t),function(e){return Qxe.call(t,e)}))}:Gxe,Xxe=Yxe;function Zxe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Jxe=Zxe,e0e=zs,t0e=qs,r0e="[object Arguments]";function n0e(t){return t0e(t)&&e0e(t)==r0e}var i0e=n0e,FR=i0e,a0e=qs,k8=Object.prototype,s0e=k8.hasOwnProperty,o0e=k8.propertyIsEnumerable,l0e=FR(function(){return arguments}())?FR:function(t){return a0e(t)&&s0e.call(t,"callee")&&!o0e.call(t,"callee")},AC=l0e,Ux={exports:{}};function c0e(){return!1}var u0e=c0e;Ux.exports;(function(t,e){var r=Ka,n=u0e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;t.exports=u})(Ux,Ux.exports);var R8=Ux.exports,d0e=9007199254740991,f0e=/^(?:0|[1-9]\d*)$/;function h0e(t,e){var r=typeof t;return e=e??d0e,!!e&&(r=="number"||r!="symbol"&&f0e.test(t))&&t>-1&&t%1==0&&t<e}var NC=h0e,p0e=9007199254740991;function m0e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=p0e}var CC=m0e,g0e=zs,v0e=CC,y0e=qs,x0e="[object Arguments]",b0e="[object Array]",w0e="[object Boolean]",_0e="[object Date]",S0e="[object Error]",E0e="[object Function]",T0e="[object Map]",j0e="[object Number]",A0e="[object Object]",N0e="[object RegExp]",C0e="[object Set]",P0e="[object String]",I0e="[object WeakMap]",O0e="[object ArrayBuffer]",k0e="[object DataView]",R0e="[object Float32Array]",M0e="[object Float64Array]",D0e="[object Int8Array]",$0e="[object Int16Array]",L0e="[object Int32Array]",F0e="[object Uint8Array]",V0e="[object Uint8ClampedArray]",B0e="[object Uint16Array]",U0e="[object Uint32Array]",Kt={};Kt[R0e]=Kt[M0e]=Kt[D0e]=Kt[$0e]=Kt[L0e]=Kt[F0e]=Kt[V0e]=Kt[B0e]=Kt[U0e]=!0;Kt[x0e]=Kt[b0e]=Kt[O0e]=Kt[w0e]=Kt[k0e]=Kt[_0e]=Kt[S0e]=Kt[E0e]=Kt[T0e]=Kt[j0e]=Kt[A0e]=Kt[N0e]=Kt[C0e]=Kt[P0e]=Kt[I0e]=!1;function z0e(t){return y0e(t)&&v0e(t.length)&&!!Kt[g0e(t)]}var q0e=z0e;function W0e(t){return function(e){return t(e)}}var M8=W0e,zx={exports:{}};zx.exports;(function(t,e){var r=zz,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(zx,zx.exports);var H0e=zx.exports,G0e=q0e,K0e=M8,VR=H0e,BR=VR&&VR.isTypedArray,Q0e=BR?K0e(BR):G0e,D8=Q0e,Y0e=Jxe,X0e=AC,Z0e=ei,J0e=R8,ebe=NC,tbe=D8,rbe=Object.prototype,nbe=rbe.hasOwnProperty;function ibe(t,e){var r=Z0e(t),n=!r&&X0e(t),i=!r&&!n&&J0e(t),a=!r&&!n&&!i&&tbe(t),s=r||n||i||a,o=s?Y0e(t.length,String):[],c=o.length;for(var u in t)(e||nbe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ebe(u,c)))&&o.push(u);return o}var abe=ibe,sbe=Object.prototype;function obe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||sbe;return t===r}var lbe=obe;function cbe(t,e){return function(r){return t(e(r))}}var $8=cbe,ube=$8,dbe=ube(Object.keys,Object),fbe=dbe,hbe=lbe,pbe=fbe,mbe=Object.prototype,gbe=mbe.hasOwnProperty;function vbe(t){if(!hbe(t))return pbe(t);var e=[];for(var r in Object(t))gbe.call(t,r)&&r!="constructor"&&e.push(r);return e}var ybe=vbe,xbe=uC,bbe=CC;function wbe(t){return t!=null&&bbe(t.length)&&!xbe(t)}var Ag=wbe,_be=abe,Sbe=ybe,Ebe=Ag;function Tbe(t){return Ebe(t)?_be(t):Sbe(t)}var lw=Tbe,jbe=Bxe,Abe=Xxe,Nbe=lw;function Cbe(t){return jbe(t,Nbe,Abe)}var Pbe=Cbe,UR=Pbe,Ibe=1,Obe=Object.prototype,kbe=Obe.hasOwnProperty;function Rbe(t,e,r,n,i,a){var s=r&Ibe,o=UR(t),c=o.length,u=UR(e),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in e:kbe.call(e,h)))return!1}var m=a.get(t),v=a.get(e);if(m&&v)return m==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);for(var y=s;++f<c;){h=o[f];var w=t[h],x=e[h];if(n)var b=s?n(x,w,h,e,t,a):n(w,x,h,t,e,a);if(!(b===void 0?w===x||i(w,x,r,n,a):b)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var N=t.constructor,T=e.constructor;N!=T&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof T=="function"&&T instanceof T)&&(g=!1)}return a.delete(t),a.delete(e),g}var Mbe=Rbe,Dbe=tu,$be=Ka,Lbe=Dbe($be,"DataView"),Fbe=Lbe,Vbe=tu,Bbe=Ka,Ube=Vbe(Bbe,"Promise"),zbe=Ube,qbe=tu,Wbe=Ka,Hbe=qbe(Wbe,"Set"),L8=Hbe,Gbe=tu,Kbe=Ka,Qbe=Gbe(Kbe,"WeakMap"),Ybe=Qbe,QE=Fbe,YE=fC,XE=zbe,ZE=L8,JE=Ybe,F8=zs,zf=Wz,zR="[object Map]",Xbe="[object Object]",qR="[object Promise]",WR="[object Set]",HR="[object WeakMap]",GR="[object DataView]",Zbe=zf(QE),Jbe=zf(YE),ewe=zf(XE),twe=zf(ZE),rwe=zf(JE),Vl=F8;(QE&&Vl(new QE(new ArrayBuffer(1)))!=GR||YE&&Vl(new YE)!=zR||XE&&Vl(XE.resolve())!=qR||ZE&&Vl(new ZE)!=WR||JE&&Vl(new JE)!=HR)&&(Vl=function(t){var e=F8(t),r=e==Xbe?t.constructor:void 0,n=r?zf(r):"";if(n)switch(n){case Zbe:return GR;case Jbe:return zR;case ewe:return qR;case twe:return WR;case rwe:return HR}return e});var nwe=Vl,l1=A8,iwe=I8,awe=Dxe,swe=Mbe,KR=nwe,QR=ei,YR=R8,owe=D8,lwe=1,XR="[object Arguments]",ZR="[object Array]",Cv="[object Object]",cwe=Object.prototype,JR=cwe.hasOwnProperty;function uwe(t,e,r,n,i,a){var s=QR(t),o=QR(e),c=s?ZR:KR(t),u=o?ZR:KR(e);c=c==XR?Cv:c,u=u==XR?Cv:u;var d=c==Cv,f=u==Cv,h=c==u;if(h&&YR(t)){if(!YR(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new l1),s||owe(t)?iwe(t,e,r,n,i,a):awe(t,e,c,r,n,i,a);if(!(r&lwe)){var m=d&&JR.call(t,"__wrapped__"),v=f&&JR.call(e,"__wrapped__");if(m||v){var g=m?t.value():t,y=v?e.value():e;return a||(a=new l1),i(g,y,r,n,a)}}return h?(a||(a=new l1),swe(t,e,r,n,i,a)):!1}var dwe=uwe,fwe=dwe,eM=qs;function V8(t,e,r,n,i){return t===e?!0:t==null||e==null||!eM(t)&&!eM(e)?t!==t&&e!==e:fwe(t,e,r,n,V8,i)}var PC=V8,hwe=A8,pwe=PC,mwe=1,gwe=2;function vwe(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var c=o[0],u=t[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in t))return!1}else{var f=new hwe;if(n)var h=n(u,d,c,t,e,f);if(!(h===void 0?pwe(d,u,mwe|gwe,n,f):h))return!1}}return!0}var ywe=vwe,xwe=wl;function bwe(t){return t===t&&!xwe(t)}var B8=bwe,wwe=B8,_we=lw;function Swe(t){for(var e=_we(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,wwe(i)]}return e}var Ewe=Swe;function Twe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var U8=Twe,jwe=ywe,Awe=Ewe,Nwe=U8;function Cwe(t){var e=Awe(t);return e.length==1&&e[0][2]?Nwe(e[0][0],e[0][1]):function(r){return r===t||jwe(r,t,e)}}var Pwe=Cwe;function Iwe(t,e){return t!=null&&e in Object(t)}var Owe=Iwe,kwe=Yz,Rwe=AC,Mwe=ei,Dwe=NC,$we=CC,Lwe=Gb;function Fwe(t,e,r){e=kwe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=Lwe(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&$we(i)&&Dwe(s,i)&&(Mwe(t)||Rwe(t)))}var Vwe=Fwe,Bwe=Owe,Uwe=Vwe;function zwe(t,e){return t!=null&&Uwe(t,e,Bwe)}var qwe=zwe,Wwe=PC,Hwe=Xz,Gwe=qwe,Kwe=cC,Qwe=B8,Ywe=U8,Xwe=Gb,Zwe=1,Jwe=2;function e_e(t,e){return Kwe(t)&&Qwe(e)?Ywe(Xwe(t),e):function(r){var n=Hwe(r,t);return n===void 0&&n===e?Gwe(r,t):Wwe(e,n,Zwe|Jwe)}}var t_e=e_e;function r_e(t){return t}var qf=r_e;function n_e(t){return function(e){return e==null?void 0:e[t]}}var i_e=n_e,a_e=gC;function s_e(t){return function(e){return a_e(e,t)}}var o_e=s_e,l_e=i_e,c_e=o_e,u_e=cC,d_e=Gb;function f_e(t){return u_e(t)?l_e(d_e(t)):c_e(t)}var h_e=f_e,p_e=Pwe,m_e=t_e,g_e=qf,v_e=ei,y_e=h_e;function x_e(t){return typeof t=="function"?t:t==null?g_e:typeof t=="object"?v_e(t)?m_e(t[0],t[1]):p_e(t):y_e(t)}var Qa=x_e;function b_e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var z8=b_e;function w_e(t){return t!==t}var __e=w_e;function S_e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var E_e=S_e,T_e=z8,j_e=__e,A_e=E_e;function N_e(t,e,r){return e===e?A_e(t,e,r):T_e(t,j_e,r)}var C_e=N_e,P_e=C_e;function I_e(t,e){var r=t==null?0:t.length;return!!r&&P_e(t,e,0)>-1}var O_e=I_e;function k_e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var R_e=k_e;function M_e(){}var D_e=M_e,c1=L8,$_e=D_e,L_e=jC,F_e=1/0,V_e=c1&&1/L_e(new c1([,-0]))[1]==F_e?function(t){return new c1(t)}:$_e,B_e=V_e,U_e=N8,z_e=O_e,q_e=R_e,W_e=P8,H_e=B_e,G_e=jC,K_e=200;function Q_e(t,e,r){var n=-1,i=z_e,a=t.length,s=!0,o=[],c=o;if(r)s=!1,i=q_e;else if(a>=K_e){var u=e?null:H_e(t);if(u)return G_e(u);s=!1,i=W_e,c=new U_e}else c=e?[]:o;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),o.push(d)}else i(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var Y_e=Q_e,X_e=Qa,Z_e=Y_e;function J_e(t,e){return t&&t.length?Z_e(t,X_e(e)):[]}var e1e=J_e;const tM=Pt(e1e);function q8(t,e,r){return e===!0?tM(t,r):Ge(e)?tM(t,e):t}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}var t1e=["ref"];function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){cw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H8(n.key),n)}}function n1e(t,e,r){return e&&nM(t.prototype,e),r&&nM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i1e(t,e,r){return e=qx(e),a1e(t,W8()?Reflect.construct(e,r||[],qx(t).constructor):e.apply(t,r))}function a1e(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s1e(t)}function s1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(t)}function o1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eT(t,e)}function eT(t,e){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eT(t,e)}function cw(t,e,r){return e=H8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H8(t){var e=l1e(t,"string");return Gd(e)=="symbol"?e:e+""}function l1e(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c1e(t,e){if(t==null)return{};var r=u1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d1e(t){return t.value}function f1e(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=c1e(e,t1e);return z.createElement(TC,r)}var iM=1,mc=function(t){function e(){var r;r1e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=i1e(this,e,[].concat(i)),cw(r,"lastBoundingBox",{width:-1,height:-1}),r}return o1e(e,t),n1e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iM||Math.abs(i.height-this.lastBoundingBox.height)>iM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ts({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ts(ts({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=ts(ts({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},f1e(a,ts(ts({},this.props),{},{payload:q8(d,u,d1e)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ts(ts({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&he(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(_.PureComponent);cw(mc,"displayName","Legend");cw(mc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aM=Eg,h1e=AC,p1e=ei,sM=aM?aM.isConcatSpreadable:void 0;function m1e(t){return p1e(t)||h1e(t)||!!(sM&&t&&t[sM])}var g1e=m1e,v1e=O8,y1e=g1e;function G8(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=y1e),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?G8(o,e-1,r,n,i):v1e(i,o):n||(i[i.length]=o)}return i}var K8=G8;function x1e(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var c=s[t?o:++i];if(r(a[c],c,a)===!1)break}return e}}var b1e=x1e,w1e=b1e,_1e=w1e(),S1e=_1e,E1e=S1e,T1e=lw;function j1e(t,e){return t&&E1e(t,e,T1e)}var Q8=j1e,A1e=Ag;function N1e(t,e){return function(r,n){if(r==null)return r;if(!A1e(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var C1e=N1e,P1e=Q8,I1e=C1e,O1e=I1e(P1e),IC=O1e,k1e=IC,R1e=Ag;function M1e(t,e){var r=-1,n=R1e(t)?Array(t.length):[];return k1e(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var Y8=M1e;function D1e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var $1e=D1e,oM=$f;function L1e(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=oM(t),s=e!==void 0,o=e===null,c=e===e,u=oM(e);if(!o&&!u&&!a&&t>e||a&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!c)return-1}return 0}var F1e=L1e,V1e=F1e;function B1e(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var c=V1e(i[n],a[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var U1e=B1e,u1=mC,z1e=gC,q1e=Qa,W1e=Y8,H1e=$1e,G1e=M8,K1e=U1e,Q1e=qf,Y1e=ei;function X1e(t,e,r){e.length?e=u1(e,function(a){return Y1e(a)?function(s){return z1e(s,a.length===1?a[0]:a)}:a}):e=[Q1e];var n=-1;e=u1(e,G1e(q1e));var i=W1e(t,function(a,s,o){var c=u1(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return H1e(i,function(a,s){return K1e(a,s,r)})}var Z1e=X1e;function J1e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var eSe=J1e,tSe=eSe,lM=Math.max;function rSe(t,e,r){return e=lM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=lM(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),tSe(t,this,o)}}var nSe=rSe;function iSe(t){return function(){return t}}var aSe=iSe,sSe=tu,oSe=function(){try{var t=sSe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),X8=oSe,lSe=aSe,cM=X8,cSe=qf,uSe=cM?function(t,e){return cM(t,"toString",{configurable:!0,enumerable:!1,value:lSe(e),writable:!0})}:cSe,dSe=uSe,fSe=800,hSe=16,pSe=Date.now;function mSe(t){var e=0,r=0;return function(){var n=pSe(),i=hSe-(n-r);if(r=n,i>0){if(++e>=fSe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gSe=mSe,vSe=dSe,ySe=gSe,xSe=ySe(vSe),bSe=xSe,wSe=qf,_Se=nSe,SSe=bSe;function ESe(t,e){return SSe(_Se(t,e,wSe),t+"")}var TSe=ESe,jSe=dC,ASe=Ag,NSe=NC,CSe=wl;function PSe(t,e,r){if(!CSe(r))return!1;var n=typeof e;return(n=="number"?ASe(r)&&NSe(e,r.length):n=="string"&&e in r)?jSe(r[e],t):!1}var uw=PSe,ISe=K8,OSe=Z1e,kSe=TSe,uM=uw,RSe=kSe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&uM(t,e[0],e[1])?e=[]:r>2&&uM(e[0],e[1],e[2])&&(e=[e[0]]),OSe(t,ISe(e,1),[])}),MSe=RSe;const OC=Pt(MSe);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tT.apply(this,arguments)}function DSe(t,e){return VSe(t)||FSe(t,e)||LSe(t,e)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(t,e){if(t){if(typeof t=="string")return dM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dM(t,e)}}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function VSe(t){if(Array.isArray(t))return t}function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){BSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BSe(t,e,r){return e=USe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function USe(t){var e=zSe(t,"string");return pm(e)=="symbol"?e:e+""}function zSe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qSe(t){return Array.isArray(t)&&Mr(t[0])&&Mr(t[1])?t.join(" ~ "):t}var WSe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,g=e.label,y=e.labelFormatter,w=e.accessibilityLayer,x=w===void 0?!1:w,b=function(){if(d&&d.length){var R={padding:0,margin:0},O=(h?OC(d,h):d).map(function($,D){if($.type==="none")return null;var V=d1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),L=$.formatter||f||qSe,F=$.value,B=$.name,U=F,J=B;if(L&&U!=null&&J!=null){var Y=L(F,B,$,D,d);if(Array.isArray(Y)){var oe=DSe(Y,2);U=oe[0],J=oe[1]}else U=Y}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:V},Mr(J)?z.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Mr(J)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},U),z.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},N=d1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=d1({margin:0},u),E=!ct(g),S=E?g:"",j=it("recharts-default-tooltip",m),C=it("recharts-tooltip-label",v);E&&y&&d!==void 0&&d!==null&&(S=y(g,d));var I=x?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",tT({className:j,style:N},I),z.createElement("p",{className:C,style:T},z.isValidElement(S)?S:"".concat(S)),b())};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function Pv(t,e,r){return e=HSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HSe(t){var e=GSe(t,"string");return mm(e)=="symbol"?e:e+""}function GSe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wh="recharts-tooltip-wrapper",KSe={visibility:"hidden"};function QSe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return it(wh,Pv(Pv(Pv(Pv({},"".concat(wh,"-right"),he(r)&&e&&he(e.x)&&r>=e.x),"".concat(wh,"-left"),he(r)&&e&&he(e.x)&&r<e.x),"".concat(wh,"-bottom"),he(n)&&e&&he(e.y)&&n>=e.y),"".concat(wh,"-top"),he(n)&&e&&he(e.y)&&n<e.y))}function hM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&he(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?d:f;if(s[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+o,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function YSe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function XSe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=hM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=hM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=YSe({translateX:d,translateY:f,useTranslate3d:o})):u=KSe,{cssProperties:u,cssClasses:QSe({translateX:d,translateY:f,coordinate:r})}}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){nT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J8(n.key),n)}}function eEe(t,e,r){return e&&JSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tEe(t,e,r){return e=Wx(e),rEe(t,Z8()?Reflect.construct(e,r||[],Wx(t).constructor):e.apply(t,r))}function rEe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(t)}function nEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z8=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(t)}function iEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rT(t,e)}function rT(t,e){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rT(t,e)}function nT(t,e,r){return e=J8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J8(t){var e=aEe(t,"string");return Kd(e)=="symbol"?e:e+""}function aEe(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gM=1,sEe=function(t){function e(){var r;ZSe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=tEe(this,e,[].concat(i)),nT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nT(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return iEe(e,t),eEe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gM||Math.abs(n.height-this.state.lastBoundingBox.height)>gM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,x=i.wrapperStyle,b=XSe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),N=b.cssClasses,T=b.cssProperties,E=mM(mM({transition:h&&a?"transform ".concat(o,"ms ").concat(c):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return z.createElement("div",{tabIndex:-1,className:N,style:E,ref:function(j){n.wrapperNode=j}},u)}}])}(_.PureComponent),oEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},bs={isSsr:oEe(),get:function(e){return bs[e]},set:function(e,r){if(typeof e=="string")bs[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){bs[i]=e[i]})}}};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function vM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(r),!0).forEach(function(n){kC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tq(n.key),n)}}function uEe(t,e,r){return e&&cEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dEe(t,e,r){return e=Hx(e),fEe(t,eq()?Reflect.construct(e,r||[],Hx(t).constructor):e.apply(t,r))}function fEe(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hEe(t)}function hEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!t})()}function Hx(t){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(t)}function pEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iT(t,e)}function kC(t,e,r){return e=tq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tq(t){var e=mEe(t,"string");return Qd(e)=="symbol"?e:e+""}function mEe(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gEe(t){return t.dataKey}function vEe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(WSe,e)}var Ki=function(t){function e(){return lEe(this,e),dEe(this,e,arguments)}return pEe(e,t),uEe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,g=i.payloadUniqBy,y=i.position,w=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,N=i.wrapperStyle,T=v??[];f&&T.length&&(T=q8(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,gEe));var E=T.length>0;return z.createElement(sEe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:m,position:y,reverseDirection:w,useTranslate3d:x,viewBox:b,wrapperStyle:N},vEe(u,yM(yM({},this.props),{},{payload:T})))}}])}(_.PureComponent);kC(Ki,"displayName","Tooltip");kC(Ki,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yEe=Ka,xEe=function(){return yEe.Date.now()},bEe=xEe,wEe=/\s/;function _Ee(t){for(var e=t.length;e--&&wEe.test(t.charAt(e)););return e}var SEe=_Ee,EEe=SEe,TEe=/^\s+/;function jEe(t){return t&&t.slice(0,EEe(t)+1).replace(TEe,"")}var AEe=jEe,NEe=AEe,xM=wl,CEe=$f,bM=NaN,PEe=/^[-+]0x[0-9a-f]+$/i,IEe=/^0b[01]+$/i,OEe=/^0o[0-7]+$/i,kEe=parseInt;function REe(t){if(typeof t=="number")return t;if(CEe(t))return bM;if(xM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=NEe(t);var r=IEe.test(t);return r||OEe.test(t)?kEe(t.slice(2),r?2:8):PEe.test(t)?bM:+t}var rq=REe,MEe=wl,f1=bEe,wM=rq,DEe="Expected a function",$Ee=Math.max,LEe=Math.min;function FEe(t,e,r){var n,i,a,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(DEe);e=wM(e)||0,MEe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?$Ee(wM(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function m(E){var S=n,j=i;return n=i=void 0,u=E,s=t.apply(j,S),s}function v(E){return u=E,o=setTimeout(w,e),d?m(E):s}function g(E){var S=E-c,j=E-u,C=e-S;return f?LEe(C,a-j):C}function y(E){var S=E-c,j=E-u;return c===void 0||S>=e||S<0||f&&j>=a}function w(){var E=f1();if(y(E))return x(E);o=setTimeout(w,g(E))}function x(E){return o=void 0,h&&n?m(E):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function N(){return o===void 0?s:x(f1())}function T(){var E=f1(),S=y(E);if(n=arguments,i=this,c=E,S){if(o===void 0)return v(c);if(f)return clearTimeout(o),o=setTimeout(w,e),m(c)}return o===void 0&&(o=setTimeout(w,e)),s}return T.cancel=b,T.flush=N,T}var VEe=FEe,BEe=VEe,UEe=wl,zEe="Expected a function";function qEe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(zEe);return UEe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),BEe(t,e,{leading:n,maxWait:e,trailing:i})}var WEe=qEe;const nq=Pt(WEe);function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function _M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(r),!0).forEach(function(n){HEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HEe(t,e,r){return e=GEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GEe(t){var e=KEe(t,"string");return gm(e)=="symbol"?e:e+""}function KEe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QEe(t,e){return JEe(t)||ZEe(t,e)||XEe(t,e)||YEe()}function YEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XEe(t,e){if(t){if(typeof t=="string")return SM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(t,e)}}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function JEe(t){if(Array.isArray(t))return t}var iq=_.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,g=v===void 0?0:v,y=t.id,w=t.className,x=t.onResize,b=t.style,N=b===void 0?{}:b,T=_.useRef(null),E=_.useRef();E.current=x,_.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=_.useState({containerWidth:i.width,containerHeight:i.height}),j=QEe(S,2),C=j[0],I=j[1],k=_.useCallback(function(O,$){I(function(D){var V=Math.round(O),L=Math.round($);return D.containerWidth===V&&D.containerHeight===L?D:{containerWidth:V,containerHeight:L}})},[]);_.useEffect(function(){var O=function(B){var U,J=B[0].contentRect,Y=J.width,oe=J.height;k(Y,oe),(U=E.current)===null||U===void 0||U.call(E,Y,oe)};g>0&&(O=nq(O,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),D=T.current.getBoundingClientRect(),V=D.width,L=D.height;return k(V,L),$.observe(T.current),function(){$.disconnect()}},[k,g]);var R=_.useMemo(function(){var O=C.containerWidth,$=C.containerHeight;if(O<0||$<0)return null;la(Zl(s)||Zl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),la(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Zl(s)?O:s,V=Zl(c)?$:c;r&&r>0&&(D?V=D/r:V&&(D=V*r),h&&V>h&&(V=h)),la(D>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,V,s,c,d,f,r);var L=!Array.isArray(m)&&xs(m.type).endsWith("Chart");return z.Children.map(m,function(F){return z.isValidElement(F)?_.cloneElement(F,Iv({width:D,height:V},L?{style:Iv({height:"100%",width:"100%",maxHeight:V,maxWidth:D},F.props.style)}:{})):F})},[r,m,c,h,f,d,C,s]);return z.createElement("div",{id:y?"".concat(y):void 0,className:it("recharts-responsive-container",w),style:Iv(Iv({},N),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:T},R)}),dw=function(e){return null};dw.displayName="Cell";function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function EM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(r),!0).forEach(function(n){eTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eTe(t,e,r){return e=tTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tTe(t){var e=rTe(t,"string");return vm(e)=="symbol"?e:e+""}function rTe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vu={widthCache:{},cacheCount:0},nTe=2e3,iTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TM="recharts_measurement_span";function aTe(t){var e=aT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var hp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bs.isSsr)return{width:0,height:0};var n=aTe(r),i=JSON.stringify({text:e,copyStyle:n});if(vu.widthCache[i])return vu.widthCache[i];try{var a=document.getElementById(TM);a||(a=document.createElement("span"),a.setAttribute("id",TM),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=aT(aT({},iTe),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return vu.widthCache[i]=c,++vu.cacheCount>nTe&&(vu.cacheCount=0,vu.widthCache={}),c}catch{return{width:0,height:0}}},sTe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function Gx(t,e){return uTe(t)||cTe(t,e)||lTe(t,e)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lTe(t,e){if(t){if(typeof t=="string")return jM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function uTe(t){if(Array.isArray(t))return t}function dTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hTe(n.key),n)}}function fTe(t,e,r){return e&&AM(t.prototype,e),r&&AM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hTe(t){var e=pTe(t,"string");return ym(e)=="symbol"?e:e+""}function pTe(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vTe=Object.keys(aq),Fu="NaN";function yTe(t,e){return t*aq[e]}var Ov=function(){function t(e,r){dTe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!mTe.test(r)&&(this.num=NaN,this.unit=""),vTe.includes(r)&&(this.num=yTe(e,r),this.unit="px")}return fTe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=gTe.exec(r))!==null&&n!==void 0?n:[],a=Gx(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function sq(t){if(t.includes(Fu))return Fu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=NM.exec(e))!==null&&r!==void 0?r:[],i=Gx(n,4),a=i[1],s=i[2],o=i[3],c=Ov.parse(a??""),u=Ov.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Fu;e=e.replace(NM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=CM.exec(e))!==null&&f!==void 0?f:[],m=Gx(h,4),v=m[1],g=m[2],y=m[3],w=Ov.parse(v??""),x=Ov.parse(y??""),b=g==="+"?w.add(x):w.subtract(x);if(b.isNaN())return Fu;e=e.replace(CM,b.toString())}return e}var PM=/\(([^()]*)\)/;function xTe(t){for(var e=t;e.includes("(");){var r=PM.exec(e),n=Gx(r,2),i=n[1];e=e.replace(PM,sq(i))}return e}function bTe(t){var e=t.replace(/\s+/g,"");return e=xTe(e),e=sq(e),e}function wTe(t){try{return bTe(t)}catch{return Fu}}function h1(t){var e=wTe(t.slice(5,-1));return e===Fu?"":e}var _Te=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],STe=["dx","dy","angle","className","breakAll"];function sT(){return sT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sT.apply(this,arguments)}function IM(t,e){if(t==null)return{};var r=ETe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ETe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OM(t,e){return NTe(t)||ATe(t,e)||jTe(t,e)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jTe(t,e){if(t){if(typeof t=="string")return kM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(t,e)}}function kM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ATe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function NTe(t){if(Array.isArray(t))return t}var oq=/[ \f\n\r\t\v\u2028\u2029]+/,lq=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ct(r)||(n?a=r.toString().split(""):a=r.toString().split(oq));var s=a.map(function(c){return{word:c,width:hp(c,i).width}}),o=n?0:hp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},CTe=function(e,r,n,i,a){var s=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=he(s),f=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(V,L){var F=L.word,B=L.width,U=V[V.length-1];if(U&&(i==null||a||U.width+B+n<Number(i)))U.words.push(F),U.width+=B+n;else{var J={words:[F],width:B};V.push(J)}return V},[])},m=h(r),v=function(D){return D.reduce(function(V,L){return V.width>L.width?V:L})};if(!d)return m;for(var g="",y=function(D){var V=f.slice(0,D),L=lq({breakAll:u,style:c,children:V+g}).wordsWithComputedWidth,F=h(L),B=F.length>s||v(F).width>Number(i);return[B,F]},w=0,x=f.length-1,b=0,N;w<=x&&b<=f.length-1;){var T=Math.floor((w+x)/2),E=T-1,S=y(E),j=OM(S,2),C=j[0],I=j[1],k=y(T),R=OM(k,1),O=R[0];if(!C&&!O&&(w=T+1),C&&O&&(x=T-1),!C&&O){N=I;break}b++}return N||m},RM=function(e){var r=ct(e)?[]:e.toString().split(oq);return[{words:r}]},PTe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!bs.isSsr){var c,u,d=lq({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return RM(i);return CTe({breakAll:s,children:i,maxLines:o,style:a},c,u,r,n)}return RM(i)},MM="#808080",Bc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,g=v===void 0?"end":v,y=e.fill,w=y===void 0?MM:y,x=IM(e,_Te),b=_.useMemo(function(){return PTe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),N=x.dx,T=x.dy,E=x.angle,S=x.className,j=x.breakAll,C=IM(x,STe);if(!Mr(n)||!Mr(a))return null;var I=n+(he(N)?N:0),k=a+(he(T)?T:0),R;switch(g){case"start":R=h1("calc(".concat(u,")"));break;case"middle":R=h1("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:R=h1("calc(".concat(b.length-1," * -").concat(o,")"));break}var O=[];if(f){var $=b[0].width,D=x.width;O.push("scale(".concat((he(D)?D/$:1)/$,")"))}return E&&O.push("rotate(".concat(E,", ").concat(I,", ").concat(k,")")),O.length&&(C.transform=O.join(" ")),z.createElement("text",sT({},We(C,!0),{x:I,y:k,className:it("recharts-text",S),textAnchor:m,fill:w.includes("url")?MM:w}),b.map(function(V,L){var F=V.words.join(j?"":" ");return z.createElement("tspan",{x:I,dy:L===0?R:o,key:"".concat(F,"-").concat(L)},F)}))};function Ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ITe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RC(t){let e,r,n;t.length!==2?(e=Ko,r=(o,c)=>Ko(t(o),c),n=(o,c)=>t(o)-c):(e=t===Ko||t===ITe?t:OTe,r=t,n=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function OTe(){return 0}function cq(t){return t===null?NaN:+t}function*kTe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const RTe=RC(Ko),Ng=RTe.right;RC(cq).center;class DM extends Map{constructor(e,r=$Te){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get($M(this,e))}has(e){return super.has($M(this,e))}set(e,r){return super.set(MTe(this,e),r)}delete(e){return super.delete(DTe(this,e))}}function $M({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function MTe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function DTe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $Te(t){return t!==null&&typeof t=="object"?t.valueOf():t}function LTe(t=Ko){if(t===Ko)return uq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function uq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const FTe=Math.sqrt(50),VTe=Math.sqrt(10),BTe=Math.sqrt(2);function Kx(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=FTe?10:a>=VTe?5:a>=BTe?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?Kx(t,e,r*2):[o,c,u]}function oT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Kx(e,t,r):Kx(t,e,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function lT(t,e,r){return e=+e,t=+t,r=+r,Kx(t,e,r)[2]}function cT(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?lT(e,t,r):lT(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function LM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dq(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?uq:LTe(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(e-u*f/c+h)),v=Math.min(n,Math.floor(e+(c-u)*f/c+h));dq(t,e,m,v,i)}const a=t[e];let s=r,o=n;for(_h(t,r,e),i(t[n],a)>0&&_h(t,r,n);s<o;){for(_h(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?_h(t,r,o):(++o,_h(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function _h(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function UTe(t,e,r){if(t=Float64Array.from(kTe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return FM(t);if(e>=1)return LM(t);var n,i=(n-1)*e,a=Math.floor(i),s=LM(dq(t,a).subarray(0,a+1)),o=FM(t.subarray(a+1));return s+(o-s)*(i-a)}}function zTe(t,e,r=cq){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function qTe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ws(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uT=Symbol("implicit");function MC(){var t=new DM,e=[],r=[],n=uT;function i(a){let s=t.get(a);if(s===void 0){if(n!==uT)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new DM;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MC(e,r).unknown(n)},Vi.apply(i,arguments),i}function xm(){var t=MC().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<n,v=m?i:n,g=m?n:i;a=(g-v)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),v+=(g-v-a*(h-c))*d,s=a*(1-c),o&&(v=Math.round(v),s=Math.round(s));var y=qTe(h).map(function(w){return v+a*w});return r(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return xm(e(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Vi.apply(f(),arguments)}function fq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fq(e())},t}function pp(){return fq(xm.apply(null,arguments).paddingInner(1))}function DC(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function hq(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Cg(){}var bm=.7,Qx=1/bm,ud="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WTe=/^#([0-9a-f]{3,8})$/,HTe=new RegExp(`^rgb\\(${ud},${ud},${ud}\\)$`),GTe=new RegExp(`^rgb\\(${La},${La},${La}\\)$`),KTe=new RegExp(`^rgba\\(${ud},${ud},${ud},${wm}\\)$`),QTe=new RegExp(`^rgba\\(${La},${La},${La},${wm}\\)$`),YTe=new RegExp(`^hsl\\(${wm},${La},${La}\\)$`),XTe=new RegExp(`^hsla\\(${wm},${La},${La},${wm}\\)$`),VM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DC(Cg,_m,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:BM,formatHex:BM,formatHex8:ZTe,formatHsl:JTe,formatRgb:UM,toString:UM});function BM(){return this.rgb().formatHex()}function ZTe(){return this.rgb().formatHex8()}function JTe(){return pq(this).formatHsl()}function UM(){return this.rgb().formatRgb()}function _m(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=WTe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?zM(e):r===3?new Qn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?kv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?kv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=HTe.exec(t))?new Qn(e[1],e[2],e[3],1):(e=GTe.exec(t))?new Qn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KTe.exec(t))?kv(e[1],e[2],e[3],e[4]):(e=QTe.exec(t))?kv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=YTe.exec(t))?HM(e[1],e[2]/100,e[3]/100,1):(e=XTe.exec(t))?HM(e[1],e[2]/100,e[3]/100,e[4]):VM.hasOwnProperty(t)?zM(VM[t]):t==="transparent"?new Qn(NaN,NaN,NaN,0):null}function zM(t){return new Qn(t>>16&255,t>>8&255,t&255,1)}function kv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qn(t,e,r,n)}function eje(t){return t instanceof Cg||(t=_m(t)),t?(t=t.rgb(),new Qn(t.r,t.g,t.b,t.opacity)):new Qn}function dT(t,e,r,n){return arguments.length===1?eje(t):new Qn(t,e,r,n??1)}function Qn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}DC(Qn,dT,hq(Cg,{brighter(t){return t=t==null?Qx:Math.pow(Qx,t),new Qn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new Qn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qn(gc(this.r),gc(this.g),gc(this.b),Yx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qM,formatHex:qM,formatHex8:tje,formatRgb:WM,toString:WM}));function qM(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}`}function tje(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}${Jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function WM(){const t=Yx(this.opacity);return`${t===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${t===1?")":`, ${t})`}`}function Yx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jl(t){return t=gc(t),(t<16?"0":"")+t.toString(16)}function HM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ea(t,e,r,n)}function pq(t){if(t instanceof ea)return new ea(t.h,t.s,t.l,t.opacity);if(t instanceof Cg||(t=_m(t)),!t)return new ea;if(t instanceof ea)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new ea(s,o,c,t.opacity)}function rje(t,e,r,n){return arguments.length===1?pq(t):new ea(t,e,r,n??1)}function ea(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}DC(ea,rje,hq(Cg,{brighter(t){return t=t==null?Qx:Math.pow(Qx,t),new ea(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new ea(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Qn(p1(t>=240?t-240:t+120,i,n),p1(t,i,n),p1(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ea(GM(this.h),Rv(this.s),Rv(this.l),Yx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yx(this.opacity);return`${t===1?"hsl(":"hsla("}${GM(this.h)}, ${Rv(this.s)*100}%, ${Rv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GM(t){return t=(t||0)%360,t<0?t+360:t}function Rv(t){return Math.max(0,Math.min(1,t||0))}function p1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const $C=t=>()=>t;function nje(t,e){return function(r){return t+r*e}}function ije(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function aje(t){return(t=+t)==1?mq:function(e,r){return r-e?ije(e,r,t):$C(isNaN(e)?r:e)}}function mq(t,e){var r=e-t;return r?nje(t,r):$C(isNaN(t)?e:t)}const KM=function t(e){var r=aje(e);function n(i,a){var s=r((i=dT(i)).r,(a=dT(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=mq(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function sje(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function oje(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lje(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Wf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function cje(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Xx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function uje(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Wf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var fT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m1=new RegExp(fT.source,"g");function dje(t){return function(){return t}}function fje(t){return function(e){return t(e)+""}}function hje(t,e){var r=fT.lastIndex=m1.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=fT.exec(t))&&(i=m1.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Xx(n,i)})),r=m1.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?fje(c[0].x):dje(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Wf(t,e){var r=typeof e,n;return e==null||r==="boolean"?$C(e):(r==="number"?Xx:r==="string"?(n=_m(e))?(e=n,KM):hje:e instanceof _m?KM:e instanceof Date?cje:oje(e)?sje:Array.isArray(e)?lje:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uje:Xx)(t,e)}function LC(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function pje(t,e){e===void 0&&(e=t,t=Wf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function mje(t){return function(){return t}}function Zx(t){return+t}var QM=[0,1];function Dn(t){return t}function hT(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:mje(isNaN(e)?NaN:.5)}function gje(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function vje(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=hT(i,n),a=r(s,a)):(n=hT(n,i),a=r(a,s)),function(o){return a(n(o))}}function yje(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=hT(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var c=Ng(t,o,1,n)-1;return a[c](i[c](o))}}function Pg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fw(){var t=QM,e=QM,r=Wf,n,i,a,s=Dn,o,c,u;function d(){var h=Math.min(t.length,e.length);return s!==Dn&&(s=gje(t[0],t[h-1])),o=h>2?yje:vje,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(n),Xx)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Zx),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=LC,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Dn,d()):s!==Dn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function FC(){return fw()(Dn,Dn)}function xje(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Yd(t){return t=Jx(Math.abs(t)),t?t[1]:NaN}function bje(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function wje(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _je=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sm(t){if(!(e=_je.exec(t)))throw new Error("invalid format: "+t);var e;return new VC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sm.prototype=VC.prototype;function VC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}VC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sje(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var gq;function Eje(t,e){var r=Jx(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(gq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Jx(t,Math.max(0,e+a-1))[0]}function YM(t,e){var r=Jx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const XM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xje,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YM(t*100,e),r:YM,s:Eje,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZM(t){return t}var JM=Array.prototype.map,eD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tje(t){var e=t.grouping===void 0||t.thousands===void 0?ZM:bje(JM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ZM:wje(JM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Sm(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,y=f.zero,w=f.width,x=f.comma,b=f.precision,N=f.trim,T=f.type;T==="n"?(x=!0,T="g"):XM[T]||(b===void 0&&(b=12),N=!0,T="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var E=g==="$"?r:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=g==="$"?n:/[%p]/.test(T)?s:"",j=XM[T],C=/[defgprs%]/.test(T);b=b===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(k){var R=E,O=S,$,D,V;if(T==="c")O=j(k)+O,k="";else{k=+k;var L=k<0||1/k<0;if(k=isNaN(k)?c:j(Math.abs(k),b),N&&(k=Sje(k)),L&&+k==0&&v!=="+"&&(L=!1),R=(L?v==="("?v:o:v==="-"||v==="("?"":v)+R,O=(T==="s"?eD[8+gq/3]:"")+O+(L&&v==="("?")":""),C){for($=-1,D=k.length;++$<D;)if(V=k.charCodeAt($),48>V||V>57){O=(V===46?i+k.slice($+1):k.slice($))+O,k=k.slice(0,$);break}}}x&&!y&&(k=e(k,1/0));var F=R.length+k.length+O.length,B=F<w?new Array(w-F+1).join(h):"";switch(x&&y&&(k=e(B+k,B.length?w-O.length:1/0),B=""),m){case"<":k=R+k+O+B;break;case"=":k=R+B+k+O;break;case"^":k=B.slice(0,F=B.length>>1)+R+k+O+B.slice(F);break;default:k=B+R+k+O;break}return a(k)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=Sm(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Yd(h)/3)))*3,g=Math.pow(10,-v),y=eD[8+v/3];return function(w){return m(g*w)+y}}return{format:u,formatPrefix:d}}var Mv,BC,vq;jje({thousands:",",grouping:[3],currency:["$",""]});function jje(t){return Mv=Tje(t),BC=Mv.format,vq=Mv.formatPrefix,Mv}function Aje(t){return Math.max(0,-Yd(Math.abs(t)))}function Nje(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yd(e)/3)))*3-Yd(Math.abs(t)))}function Cje(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yd(e)-Yd(t))+1}function yq(t,e,r,n){var i=cT(t,e,r),a;switch(n=Sm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Nje(i,s))&&(n.precision=a),vq(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Cje(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Aje(i))&&(n.precision=a-(n.type==="%")*2);break}}return BC(n)}function _l(t){var e=t.domain;return t.ticks=function(r){var n=e();return oT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return yq(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=lT(s,o,r),u===c)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function e0(){var t=FC();return t.copy=function(){return Pg(t,e0())},Vi.apply(t,arguments),_l(t)}function xq(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Zx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return xq(t).unknown(e)},t=arguments.length?Array.from(t,Zx):[0,1],_l(r)}function bq(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function tD(t){return Math.log(t)}function rD(t){return Math.exp(t)}function Pje(t){return-Math.log(-t)}function Ije(t){return-Math.exp(-t)}function Oje(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kje(t){return t===10?Oje:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Rje(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nD(t){return(e,r)=>-t(-e,r)}function UC(t){const e=t(tD,rD),r=e.domain;let n=10,i,a;function s(){return i=Rje(n),a=kje(n),r()[0]<0?(i=nD(i),a=nD(a),t(Pje,Ije)):t(tD,rD),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),v,g;const y=o==null?10:+o;let w=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(g=h<0?v/a(-h):v*a(h),!(g<u)){if(g>d)break;w.push(g)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/a(-h):v*a(h),!(g<u)){if(g>d)break;w.push(g)}w.length*2<y&&(w=oT(u,d,y))}else w=oT(h,m,Math.min(m-h,y)).map(a);return f?w.reverse():w},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sm(c)).precision==null&&(c.trim=!0),c=BC(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(bq(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function wq(){const t=UC(fw()).domain([1,10]);return t.copy=()=>Pg(t,wq()).base(t.base()),Vi.apply(t,arguments),t}function iD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function aD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zC(t){var e=1,r=t(iD(e),aD(e));return r.constant=function(n){return arguments.length?t(iD(e=+n),aD(e)):e},_l(r)}function _q(){var t=zC(fw());return t.copy=function(){return Pg(t,_q()).constant(t.constant())},Vi.apply(t,arguments)}function sD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mje(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dje(t){return t<0?-t*t:t*t}function qC(t){var e=t(Dn,Dn),r=1;function n(){return r===1?t(Dn,Dn):r===.5?t(Mje,Dje):t(sD(r),sD(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},_l(e)}function WC(){var t=qC(fw());return t.copy=function(){return Pg(t,WC()).exponent(t.exponent())},Vi.apply(t,arguments),t}function $je(){return WC.apply(null,arguments).exponent(.5)}function oD(t){return Math.sign(t)*t*t}function Lje(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Sq(){var t=FC(),e=[0,1],r=!1,n;function i(a){var s=Lje(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(oD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Zx)).map(oD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Sq(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vi.apply(i,arguments),_l(i)}function Eq(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=zTe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Ng(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ko),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Eq().domain(t).range(e).unknown(n)},Vi.apply(a,arguments)}function Tq(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Ng(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Tq().domain([t,e]).range(i).unknown(a)},Vi.apply(_l(s),arguments)}function jq(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Ng(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jq().domain(t).range(e).unknown(r)},Vi.apply(i,arguments)}const g1=new Date,v1=new Date;function Vr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return c},i.filter=a=>Vr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(g1.setTime(+a),v1.setTime(+s),t(g1),t(v1),Math.floor(r(g1,v1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const t0=Vr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);t0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):t0);t0.range;const ps=1e3,Ii=ps*60,ms=Ii*60,Ds=ms*24,HC=Ds*7,lD=Ds*30,y1=Ds*365,ec=Vr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ps)},(t,e)=>(e-t)/ps,t=>t.getUTCSeconds());ec.range;const GC=Vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getMinutes());GC.range;const KC=Vr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCMinutes());KC.range;const QC=Vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ps-t.getMinutes()*Ii)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getHours());QC.range;const YC=Vr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCHours());YC.range;const Ig=Vr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ii)/Ds,t=>t.getDate()-1);Ig.range;const hw=Vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ds,t=>t.getUTCDate()-1);hw.range;const Aq=Vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ds,t=>Math.floor(t/Ds));Aq.range;function ru(t){return Vr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/HC)}const pw=ru(0),r0=ru(1),Fje=ru(2),Vje=ru(3),Xd=ru(4),Bje=ru(5),Uje=ru(6);pw.range;r0.range;Fje.range;Vje.range;Xd.range;Bje.range;Uje.range;function nu(t){return Vr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/HC)}const mw=nu(0),n0=nu(1),zje=nu(2),qje=nu(3),Zd=nu(4),Wje=nu(5),Hje=nu(6);mw.range;n0.range;zje.range;qje.range;Zd.range;Wje.range;Hje.range;const XC=Vr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());XC.range;const ZC=Vr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ZC.range;const $s=Vr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$s.range;const Ls=Vr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ls.range;function Nq(t,e,r,n,i,a){const s=[[ec,1,ps],[ec,5,5*ps],[ec,15,15*ps],[ec,30,30*ps],[a,1,Ii],[a,5,5*Ii],[a,15,15*Ii],[a,30,30*Ii],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[n,1,Ds],[n,2,2*Ds],[r,1,HC],[e,1,lD],[e,3,3*lD],[t,1,y1]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=RC(([,,y])=>y).right(s,h);if(m===s.length)return t.every(cT(u/y1,d/y1,f));if(m===0)return t0.every(Math.max(cT(u,d,f),1));const[v,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return v.every(g)}return[o,c]}const[Gje,Kje]=Nq(Ls,ZC,mw,Aq,YC,KC),[Qje,Yje]=Nq($s,XC,pw,Ig,QC,GC);function x1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function b1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Xje(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=Eh(i),d=Th(i),f=Eh(a),h=Th(a),m=Eh(s),v=Th(s),g=Eh(o),y=Th(o),w=Eh(c),x=Th(c),b={a:L,A:F,b:B,B:U,c:null,d:pD,e:pD,f:bAe,g:PAe,G:OAe,H:vAe,I:yAe,j:xAe,L:Cq,m:wAe,M:_Ae,p:J,q:Y,Q:vD,s:yD,S:SAe,u:EAe,U:TAe,V:jAe,w:AAe,W:NAe,x:null,X:null,y:CAe,Y:IAe,Z:kAe,"%":gD},N={a:oe,A:H,b:Z,B:ye,c:null,d:mD,e:mD,f:$Ae,g:GAe,G:QAe,H:RAe,I:MAe,j:DAe,L:Iq,m:LAe,M:FAe,p:ue,q:$e,Q:vD,s:yD,S:VAe,u:BAe,U:UAe,V:zAe,w:qAe,W:WAe,x:null,X:null,y:HAe,Y:KAe,Z:YAe,"%":gD},T={a:I,A:k,b:R,B:O,c:$,d:fD,e:fD,f:hAe,g:dD,G:uD,H:hD,I:hD,j:cAe,L:fAe,m:lAe,M:uAe,p:C,q:oAe,Q:mAe,s:gAe,S:dAe,u:rAe,U:nAe,V:iAe,w:tAe,W:aAe,x:D,X:V,y:dD,Y:uD,Z:sAe,"%":pAe};b.x=E(r,b),b.X=E(n,b),b.c=E(e,b),N.x=E(r,N),N.X=E(n,N),N.c=E(e,N);function E(ie,ve){return function(xe){var X=[],Ze=-1,Le=0,Tt=ie.length,jt,qt,Un;for(xe instanceof Date||(xe=new Date(+xe));++Ze<Tt;)ie.charCodeAt(Ze)===37&&(X.push(ie.slice(Le,Ze)),(qt=cD[jt=ie.charAt(++Ze)])!=null?jt=ie.charAt(++Ze):qt=jt==="e"?" ":"0",(Un=ve[jt])&&(jt=Un(xe,qt)),X.push(jt),Le=Ze+1);return X.push(ie.slice(Le,Ze)),X.join("")}}function S(ie,ve){return function(xe){var X=Sh(1900,void 0,1),Ze=j(X,ie,xe+="",0),Le,Tt;if(Ze!=xe.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ve&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Le=b1(Sh(X.y,0,1)),Tt=Le.getUTCDay(),Le=Tt>4||Tt===0?n0.ceil(Le):n0(Le),Le=hw.offset(Le,(X.V-1)*7),X.y=Le.getUTCFullYear(),X.m=Le.getUTCMonth(),X.d=Le.getUTCDate()+(X.w+6)%7):(Le=x1(Sh(X.y,0,1)),Tt=Le.getDay(),Le=Tt>4||Tt===0?r0.ceil(Le):r0(Le),Le=Ig.offset(Le,(X.V-1)*7),X.y=Le.getFullYear(),X.m=Le.getMonth(),X.d=Le.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Tt="Z"in X?b1(Sh(X.y,0,1)).getUTCDay():x1(Sh(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Tt+5)%7:X.w+X.U*7-(Tt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,b1(X)):x1(X)}}function j(ie,ve,xe,X){for(var Ze=0,Le=ve.length,Tt=xe.length,jt,qt;Ze<Le;){if(X>=Tt)return-1;if(jt=ve.charCodeAt(Ze++),jt===37){if(jt=ve.charAt(Ze++),qt=T[jt in cD?ve.charAt(Ze++):jt],!qt||(X=qt(ie,xe,X))<0)return-1}else if(jt!=xe.charCodeAt(X++))return-1}return X}function C(ie,ve,xe){var X=u.exec(ve.slice(xe));return X?(ie.p=d.get(X[0].toLowerCase()),xe+X[0].length):-1}function I(ie,ve,xe){var X=m.exec(ve.slice(xe));return X?(ie.w=v.get(X[0].toLowerCase()),xe+X[0].length):-1}function k(ie,ve,xe){var X=f.exec(ve.slice(xe));return X?(ie.w=h.get(X[0].toLowerCase()),xe+X[0].length):-1}function R(ie,ve,xe){var X=w.exec(ve.slice(xe));return X?(ie.m=x.get(X[0].toLowerCase()),xe+X[0].length):-1}function O(ie,ve,xe){var X=g.exec(ve.slice(xe));return X?(ie.m=y.get(X[0].toLowerCase()),xe+X[0].length):-1}function $(ie,ve,xe){return j(ie,e,ve,xe)}function D(ie,ve,xe){return j(ie,r,ve,xe)}function V(ie,ve,xe){return j(ie,n,ve,xe)}function L(ie){return s[ie.getDay()]}function F(ie){return a[ie.getDay()]}function B(ie){return c[ie.getMonth()]}function U(ie){return o[ie.getMonth()]}function J(ie){return i[+(ie.getHours()>=12)]}function Y(ie){return 1+~~(ie.getMonth()/3)}function oe(ie){return s[ie.getUTCDay()]}function H(ie){return a[ie.getUTCDay()]}function Z(ie){return c[ie.getUTCMonth()]}function ye(ie){return o[ie.getUTCMonth()]}function ue(ie){return i[+(ie.getUTCHours()>=12)]}function $e(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ve=E(ie+="",b);return ve.toString=function(){return ie},ve},parse:function(ie){var ve=S(ie+="",!1);return ve.toString=function(){return ie},ve},utcFormat:function(ie){var ve=E(ie+="",N);return ve.toString=function(){return ie},ve},utcParse:function(ie){var ve=S(ie+="",!0);return ve.toString=function(){return ie},ve}}}var cD={"-":"",_:" ",0:"0"},Yr=/^\s*\d+/,Zje=/^%/,Jje=/[\\^$*+?|[\]().{}]/g;function Et(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function eAe(t){return t.replace(Jje,"\\$&")}function Eh(t){return new RegExp("^(?:"+t.map(eAe).join("|")+")","i")}function Th(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tAe(t,e,r){var n=Yr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rAe(t,e,r){var n=Yr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nAe(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iAe(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function aAe(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function uD(t,e,r){var n=Yr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function dD(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oAe(t,e,r){var n=Yr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lAe(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function fD(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function cAe(t,e,r){var n=Yr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function hD(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function uAe(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dAe(t,e,r){var n=Yr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function fAe(t,e,r){var n=Yr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hAe(t,e,r){var n=Yr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pAe(t,e,r){var n=Zje.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function mAe(t,e,r){var n=Yr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gAe(t,e,r){var n=Yr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function pD(t,e){return Et(t.getDate(),e,2)}function vAe(t,e){return Et(t.getHours(),e,2)}function yAe(t,e){return Et(t.getHours()%12||12,e,2)}function xAe(t,e){return Et(1+Ig.count($s(t),t),e,3)}function Cq(t,e){return Et(t.getMilliseconds(),e,3)}function bAe(t,e){return Cq(t,e)+"000"}function wAe(t,e){return Et(t.getMonth()+1,e,2)}function _Ae(t,e){return Et(t.getMinutes(),e,2)}function SAe(t,e){return Et(t.getSeconds(),e,2)}function EAe(t){var e=t.getDay();return e===0?7:e}function TAe(t,e){return Et(pw.count($s(t)-1,t),e,2)}function Pq(t){var e=t.getDay();return e>=4||e===0?Xd(t):Xd.ceil(t)}function jAe(t,e){return t=Pq(t),Et(Xd.count($s(t),t)+($s(t).getDay()===4),e,2)}function AAe(t){return t.getDay()}function NAe(t,e){return Et(r0.count($s(t)-1,t),e,2)}function CAe(t,e){return Et(t.getFullYear()%100,e,2)}function PAe(t,e){return t=Pq(t),Et(t.getFullYear()%100,e,2)}function IAe(t,e){return Et(t.getFullYear()%1e4,e,4)}function OAe(t,e){var r=t.getDay();return t=r>=4||r===0?Xd(t):Xd.ceil(t),Et(t.getFullYear()%1e4,e,4)}function kAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Et(e/60|0,"0",2)+Et(e%60,"0",2)}function mD(t,e){return Et(t.getUTCDate(),e,2)}function RAe(t,e){return Et(t.getUTCHours(),e,2)}function MAe(t,e){return Et(t.getUTCHours()%12||12,e,2)}function DAe(t,e){return Et(1+hw.count(Ls(t),t),e,3)}function Iq(t,e){return Et(t.getUTCMilliseconds(),e,3)}function $Ae(t,e){return Iq(t,e)+"000"}function LAe(t,e){return Et(t.getUTCMonth()+1,e,2)}function FAe(t,e){return Et(t.getUTCMinutes(),e,2)}function VAe(t,e){return Et(t.getUTCSeconds(),e,2)}function BAe(t){var e=t.getUTCDay();return e===0?7:e}function UAe(t,e){return Et(mw.count(Ls(t)-1,t),e,2)}function Oq(t){var e=t.getUTCDay();return e>=4||e===0?Zd(t):Zd.ceil(t)}function zAe(t,e){return t=Oq(t),Et(Zd.count(Ls(t),t)+(Ls(t).getUTCDay()===4),e,2)}function qAe(t){return t.getUTCDay()}function WAe(t,e){return Et(n0.count(Ls(t)-1,t),e,2)}function HAe(t,e){return Et(t.getUTCFullYear()%100,e,2)}function GAe(t,e){return t=Oq(t),Et(t.getUTCFullYear()%100,e,2)}function KAe(t,e){return Et(t.getUTCFullYear()%1e4,e,4)}function QAe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Zd(t):Zd.ceil(t),Et(t.getUTCFullYear()%1e4,e,4)}function YAe(){return"+0000"}function gD(){return"%"}function vD(t){return+t}function yD(t){return Math.floor(+t/1e3)}var yu,kq,Rq;XAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XAe(t){return yu=Xje(t),kq=yu.format,yu.parse,Rq=yu.utcFormat,yu.utcParse,yu}function ZAe(t){return new Date(t)}function JAe(t){return t instanceof Date?+t:+new Date(+t)}function JC(t,e,r,n,i,a,s,o,c,u){var d=FC(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),x=u("%b %d"),b=u("%B"),N=u("%Y");function T(E){return(c(E)<E?m:o(E)<E?v:s(E)<E?g:a(E)<E?y:n(E)<E?i(E)<E?w:x:r(E)<E?b:N)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,JAe)):h().map(ZAe)},d.ticks=function(E){var S=h();return t(S[0],S[S.length-1],E??10)},d.tickFormat=function(E,S){return S==null?T:u(S)},d.nice=function(E){var S=h();return(!E||typeof E.range!="function")&&(E=e(S[0],S[S.length-1],E??10)),E?h(bq(S,E)):d},d.copy=function(){return Pg(d,JC(t,e,r,n,i,a,s,o,c,u))},d}function eNe(){return Vi.apply(JC(Qje,Yje,$s,XC,pw,Ig,QC,GC,ec,kq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tNe(){return Vi.apply(JC(Gje,Kje,Ls,ZC,mw,hw,YC,KC,ec,Rq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var t=0,e=1,r,n,i,a,s=Dn,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,s=f(m,v),u):[s(0),s(1)]}}return u.range=d(Wf),u.rangeRound=d(LC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Mq(){var t=_l(gw()(Dn));return t.copy=function(){return Sl(t,Mq())},Ws.apply(t,arguments)}function Dq(){var t=UC(gw()).domain([1,10]);return t.copy=function(){return Sl(t,Dq()).base(t.base())},Ws.apply(t,arguments)}function $q(){var t=zC(gw());return t.copy=function(){return Sl(t,$q()).constant(t.constant())},Ws.apply(t,arguments)}function eP(){var t=qC(gw());return t.copy=function(){return Sl(t,eP()).exponent(t.exponent())},Ws.apply(t,arguments)}function rNe(){return eP.apply(null,arguments).exponent(.5)}function Lq(){var t=[],e=Dn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ng(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ko),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>UTe(t,a/n))},r.copy=function(){return Lq(e).domain(t)},Ws.apply(r,arguments)}function vw(){var t=0,e=.5,r=1,n=1,i,a,s,o,c,u=Dn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var w,x,b;return arguments.length?([w,x,b]=y,u=pje(g,[w,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=v(Wf),m.rangeRound=v(LC),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function Fq(){var t=_l(vw()(Dn));return t.copy=function(){return Sl(t,Fq())},Ws.apply(t,arguments)}function Vq(){var t=UC(vw()).domain([.1,1,10]);return t.copy=function(){return Sl(t,Vq()).base(t.base())},Ws.apply(t,arguments)}function Bq(){var t=zC(vw());return t.copy=function(){return Sl(t,Bq()).constant(t.constant())},Ws.apply(t,arguments)}function tP(){var t=qC(vw());return t.copy=function(){return Sl(t,tP()).exponent(t.exponent())},Ws.apply(t,arguments)}function nNe(){return tP.apply(null,arguments).exponent(.5)}const xD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xm,scaleDiverging:Fq,scaleDivergingLog:Vq,scaleDivergingPow:tP,scaleDivergingSqrt:nNe,scaleDivergingSymlog:Bq,scaleIdentity:xq,scaleImplicit:uT,scaleLinear:e0,scaleLog:wq,scaleOrdinal:MC,scalePoint:pp,scalePow:WC,scaleQuantile:Eq,scaleQuantize:Tq,scaleRadial:Sq,scaleSequential:Mq,scaleSequentialLog:Dq,scaleSequentialPow:eP,scaleSequentialQuantile:Lq,scaleSequentialSqrt:rNe,scaleSequentialSymlog:$q,scaleSqrt:$je,scaleSymlog:_q,scaleThreshold:jq,scaleTime:eNe,scaleUtc:tNe,tickFormat:yq},Symbol.toStringTag,{value:"Module"}));var iNe=$f;function aNe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!iNe(s):r(s,o)))var o=s,c=a}return c}var yw=aNe;function sNe(t,e){return t>e}var Uq=sNe,oNe=yw,lNe=Uq,cNe=qf;function uNe(t){return t&&t.length?oNe(t,cNe,lNe):void 0}var dNe=uNe;const xw=Pt(dNe);function fNe(t,e){return t<e}var zq=fNe,hNe=yw,pNe=zq,mNe=qf;function gNe(t){return t&&t.length?hNe(t,mNe,pNe):void 0}var vNe=gNe;const bw=Pt(vNe);var yNe=mC,xNe=Qa,bNe=Y8,wNe=ei;function _Ne(t,e){var r=wNe(t)?yNe:bNe;return r(t,xNe(e))}var SNe=_Ne,ENe=K8,TNe=SNe;function jNe(t,e){return ENe(TNe(t,e),1)}var ANe=jNe;const NNe=Pt(ANe);var CNe=PC;function PNe(t,e){return CNe(t,e)}var INe=PNe;const ww=Pt(INe);var Hf=1e9,ONe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nP,er=!0,$i="[DecimalError] ",vc=$i+"Invalid argument: ",rP=$i+"Exponent out of range: ",Gf=Math.floor,Bl=Math.pow,kNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,li,zr=1e7,Qt=7,qq=9007199254740991,i0=Gf(qq/Qt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return ws(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return Lt(ws(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return jr(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(li))throw Error($i+"NaN");if(r.s<1)throw Error($i+(r.s?"NaN":"-Infinity"));return r.eq(li)?new n(0):(er=!1,e=ws(Em(r,a),Em(t,a),a),er=!0,Lt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gq(e,t):Wq(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error($i+"NaN");return r.s?(er=!1,e=ws(r,t,0,1).times(t),er=!0,r.minus(e)):Lt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return Hq(this)};Ce.naturalLogarithm=Ce.ln=function(){return Em(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wq(e,t):Gq(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vc+t);if(e=jr(i)+1,n=i.d.length-1,r=n*Qt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error($i+"NaN")}for(t=jr(o),er=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Aa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(ws(o,a,s+2)).times(.5),Aa(a.d).slice(0,s)===(e=Aa(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Lt(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return er=!0,Lt(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)o=a[i]+m[n]*h[i-n-1]+e,a[i--]=o%zr|0,e=o/zr|0;a[i]=(a[i]+e)%zr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,er?Lt(t,f.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ha(t,0,Hf),e===void 0?e=n.rounding:Ha(e,0,8),Lt(r,t+jr(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Uc(n,!0):(Ha(t,0,Hf),e===void 0?e=i.rounding:Ha(e,0,8),n=Lt(new i(n),t+1,e),r=Uc(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Uc(i):(Ha(t,0,Hf),e===void 0?e=a.rounding:Ha(e,0,8),n=Lt(new a(i),t+jr(i)+1,e),r=Uc(n.abs(),!1,t+jr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return Lt(new e(t),jr(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(li);if(o=new c(o),!o.s){if(t.s<1)throw Error($i+"Infinity");return o}if(o.eq(li))return o;if(n=c.precision,t.eq(li))return Lt(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=qq){for(i=new c(li),e=Math.ceil(n/Qt+4),er=!1;r%2&&(i=i.times(o),wD(i.d,e)),r=Gf(r/2),r!==0;)o=o.times(o),wD(o.d,e);return er=!0,t.s<0?new c(li).div(i):Lt(i,n)}}else if(a<0)throw Error($i+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,er=!1,i=t.times(Em(o,n+u)),er=!0,i=Hq(i),i.s=a,i};Ce.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=jr(i),n=Uc(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ha(t,1,Hf),e===void 0?e=a.rounding:Ha(e,0,8),i=Lt(new a(i),t,e),r=jr(i),n=Uc(i,t<=r||r<=a.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ha(t,1,Hf),e===void 0?e=n.rounding:Ha(e,0,8)),Lt(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jr(t),r=t.constructor;return Uc(t,e<=r.toExpNeg||e>=r.toExpPos)};function Wq(t,e){var r,n,i,a,s,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),er?Lt(e,f):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(f/Qt),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/zr|0,c[a]%=zr;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,er?Lt(e,f):e}function Ha(t,e,r){if(t!==~~t||t<e||t>r)throw Error(vc+t)}function Aa(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Qt-n.length,r&&(a+=lo(r)),a+=n;s=t[e],n=s+"",r=Qt-n.length,r&&(a+=lo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ws=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%zr|0,s=a/zr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*zr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,f,h,m,v,g,y,w,x,b,N,T,E,S,j,C=n.constructor,I=n.s==i.s?1:-1,k=n.d,R=i.d;if(!n.s)return new C(n);if(!i.s)throw Error($i+"Division by zero");for(c=n.e-i.e,S=R.length,T=k.length,m=new C(I),v=m.d=[],u=0;R[u]==(k[u]||0);)++u;if(R[u]>(k[u]||0)&&--c,a==null?x=a=C.precision:s?x=a+(jr(n)-jr(i))+1:x=a,x<0)return new C(0);if(x=x/Qt+2|0,u=0,S==1)for(d=0,R=R[0],x++;(u<T||d)&&x--;u++)b=d*zr+(k[u]||0),v[u]=b/R|0,d=b%R|0;else{for(d=zr/(R[0]+1)|0,d>1&&(R=t(R,d),k=t(k,d),S=R.length,T=k.length),N=S,g=k.slice(0,S),y=g.length;y<S;)g[y++]=0;j=R.slice(),j.unshift(0),E=R[0],R[1]>=zr/2&&++E;do d=0,o=e(R,g,S,y),o<0?(w=g[0],S!=y&&(w=w*zr+(g[1]||0)),d=w/E|0,d>1?(d>=zr&&(d=zr-1),f=t(R,d),h=f.length,y=g.length,o=e(f,g,h,y),o==1&&(d--,r(f,S<h?j:R,h))):(d==0&&(o=d=1),f=R.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),o==-1&&(y=g.length,o=e(R,g,S,y),o<1&&(d++,r(g,S<y?j:R,y))),y=g.length):o===0&&(d++,g=[0]),v[u++]=d,o&&g[0]?g[y++]=k[N]||0:(g=[k[N]],y=1);while((N++<T||g[0]!==void 0)&&x--)}return v[0]||v.shift(),m.e=c,Lt(m,s?a+jr(m)+1:a)}}();function Hq(t,e){var r,n,i,a,s,o,c=0,u=0,d=t.constructor,f=d.precision;if(jr(t)>16)throw Error(rP+jr(t));if(!t.s)return new d(li);for(e==null?(er=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Bl(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(li),d.precision=o;;){if(i=Lt(i.times(t),o),r=r.times(++c),s=a.plus(ws(i,r,o)),Aa(s.d).slice(0,o)===Aa(a.d).slice(0,o)){for(;u--;)a=Lt(a.times(a),o);return d.precision=f,e==null?(er=!0,Lt(a,f)):a}a=s}}function jr(t){for(var e=t.e*Qt,r=t.d[0];r>=10;r/=10)e++;return e}function w1(t,e,r){if(e>t.LN10.sd())throw er=!0,r&&(t.precision=r),Error($i+"LN10 precision limit exceeded");return Lt(new t(t.LN10),e)}function lo(t){for(var e="";t--;)e+="0";return e}function Em(t,e){var r,n,i,a,s,o,c,u,d,f=1,h=10,m=t,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error($i+(m.s?"NaN":"-Infinity"));if(m.eq(li))return new g(0);if(e==null?(er=!1,u=y):u=e,m.eq(10))return e==null&&(er=!0),w1(g,u);if(u+=h,g.precision=u,r=Aa(v),n=r.charAt(0),a=jr(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Aa(m.d),n=r.charAt(0),f++;a=jr(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return c=w1(g,u+2,y).times(a+""),m=Em(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=y,e==null?(er=!0,Lt(m,y)):m;for(o=s=m=ws(m.minus(li),m.plus(li),u),d=Lt(m.times(m),u),i=3;;){if(s=Lt(s.times(d),u),c=o.plus(ws(s,new g(i),u)),Aa(c.d).slice(0,u)===Aa(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(w1(g,u+2,y).times(a+""))),o=ws(o,new g(f),u),g.precision=y,e==null?(er=!0,Lt(o,y)):o;o=c,i+=2}}function bD(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Gf(r/Qt),t.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Qt;n<i;)t.d.push(+e.slice(n,n+=Qt));e=e.slice(n),n=Qt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),er&&(t.e>i0||t.e<-i0))throw Error(rP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Lt(t,e,r){var n,i,a,s,o,c,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Qt,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Qt),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Qt,i=n-Qt+s}if(r!==void 0&&(a=Bl(10,s-i-1),o=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Bl(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=jr(t),f.length=1,e=e-a-1,f[0]=Bl(10,(Qt-e%Qt)%Qt),t.e=Gf(-e/Qt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Bl(10,Qt-n),f[d]=i>0?(u/Bl(10,s-i)%Bl(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==zr&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=zr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(er&&(t.e>i0||t.e<-i0))throw Error(rP+jr(t));return t}function Gq(t,e){var r,n,i,a,s,o,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),er?Lt(e,m):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(m/Qt),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=zr-1;--c[a],c[i]+=zr}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,er?Lt(e,m):e):new h(0)}function Uc(t,e,r){var n,i=jr(t),a=Aa(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+lo(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+lo(-i-1)+a,r&&(n=r-s)>0&&(a+=lo(n))):i>=s?(a+=lo(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+lo(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=lo(n))),t.s<0?"-"+a:a}function wD(t,e){if(t.length>e)return t.length=e,!0}function Kq(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return bD(s,a.toString())}else if(typeof a!="string")throw Error(vc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,kNe.test(a))bD(s,a);else throw Error(vc+a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Kq,i.config=i.set=RNe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function RNe(t){if(!t||typeof t!="object")throw Error($i+"Object expected");var e,r,n,i=["precision",1,Hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Gf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(vc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vc+r+": "+n);return this}var nP=Kq(ONe);li=new nP(1);const Mt=nP;function MNe(t){return FNe(t)||LNe(t)||$Ne(t)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ne(t,e){if(t){if(typeof t=="string")return pT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pT(t,e)}}function LNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FNe(t){if(Array.isArray(t))return pT(t)}function pT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var VNe=function(e){return e},Qq={"@@functional/placeholder":!0},Yq=function(e){return e===Qq},_D=function(e){return function r(){return arguments.length===0||arguments.length===1&&Yq(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},BNe=function t(e,r){return e===1?r:_D(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==Qq}).length;return s>=e?r.apply(void 0,i):t(e-s,_D(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return Yq(f)?c.shift():f});return r.apply(void 0,MNe(d).concat(c))}))})},_w=function(e){return BNe(e.length,e)},mT=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},UNe=_w(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),zNe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return VNe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},gT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Xq=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,c){return o===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function qNe(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function WNe(t,e,r){for(var n=new Mt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var HNe=_w(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),GNe=_w(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),KNe=_w(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Sw={rangeStep:WNe,getDigitCount:qNe,interpolateNumber:HNe,uninterpolateNumber:GNe,uninterpolateTruncation:KNe};function vT(t){return XNe(t)||YNe(t)||Zq(t)||QNe()}function QNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function XNe(t){if(Array.isArray(t))return yT(t)}function Tm(t,e){return eCe(t)||JNe(t,e)||Zq(t,e)||ZNe()}function ZNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zq(t,e){if(t){if(typeof t=="string")return yT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yT(t,e)}}function yT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JNe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function eCe(t){if(Array.isArray(t))return t}function Jq(t){var e=Tm(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function e7(t,e,r){if(t.lte(0))return new Mt(0);var n=Sw.getDigitCount(t.toNumber()),i=new Mt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Mt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return e?c:new Mt(Math.ceil(c))}function tCe(t,e,r){var n=1,i=new Mt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Mt(10).pow(Sw.getDigitCount(t)-1),i=new Mt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Mt(Math.floor(t)))}else t===0?i=new Mt(Math.floor((e-1)/2)):r||(i=new Mt(Math.floor(t)));var s=Math.floor((e-1)/2),o=zNe(UNe(function(c){return i.add(new Mt(c-s).mul(n)).toNumber()}),mT);return o(0,e)}function t7(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var a=e7(new Mt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Mt(0):(s=new Mt(t).add(e).div(2),s=s.sub(new Mt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new Mt(e).sub(s).div(a).toNumber()),u=o+c+1;return u>r?t7(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Mt(o).mul(a)),tickMax:s.add(new Mt(c).mul(a))})}function rCe(t){var e=Tm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Jq([r,n]),c=Tm(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(vT(mT(0,i-1).map(function(){return 1/0}))):[].concat(vT(mT(0,i-1).map(function(){return-1/0})),[d]);return r>n?gT(f):f}if(u===d)return tCe(u,i,a);var h=t7(u,d,s,a),m=h.step,v=h.tickMin,g=h.tickMax,y=Sw.rangeStep(v,g.add(new Mt(.1).mul(m)),m);return r>n?gT(y):y}function nCe(t,e){var r=Tm(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Jq([n,i]),o=Tm(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=e7(new Mt(u).sub(c).div(d-1),a,0),h=[].concat(vT(Sw.rangeStep(new Mt(c),new Mt(u).sub(new Mt(.99).mul(f)),f)),[u]);return n>i?gT(h):h}var iCe=Xq(rCe),aCe=Xq(nCe),sCe="Invariant failed";function zc(t,e){throw new Error(sCe)}var oCe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a0.apply(this,arguments)}function lCe(t,e){return fCe(t)||dCe(t,e)||uCe(t,e)||cCe()}function cCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uCe(t,e){if(t){if(typeof t=="string")return SD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SD(t,e)}}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function fCe(t){if(Array.isArray(t))return t}function hCe(t,e){if(t==null)return{};var r=pCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i7(n.key),n)}}function vCe(t,e,r){return e&&gCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yCe(t,e,r){return e=s0(e),xCe(t,r7()?Reflect.construct(e,r||[],s0(t).constructor):e.apply(t,r))}function xCe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bCe(t)}function bCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!t})()}function s0(t){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s0(t)}function wCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}function xT(t,e){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xT(t,e)}function n7(t,e,r){return e=i7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i7(t){var e=_Ce(t,"string");return Jd(e)=="symbol"?e:e+""}function _Ce(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ew=function(t){function e(){return mCe(this,e),yCe(this,e,arguments)}return wCe(e,t),vCe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=hCe(n,oCe),m=We(h,!1);this.props.direction==="x"&&d.type!=="number"&&zc();var v=c.map(function(g){var y=u(g,o),w=y.x,x=y.y,b=y.value,N=y.errorVal;if(!N)return null;var T=[],E,S;if(Array.isArray(N)){var j=lCe(N,2);E=j[0],S=j[1]}else E=S=N;if(a==="vertical"){var C=d.scale,I=x+i,k=I+s,R=I-s,O=C(b-E),$=C(b+S);T.push({x1:$,y1:k,x2:$,y2:R}),T.push({x1:O,y1:I,x2:$,y2:I}),T.push({x1:O,y1:k,x2:O,y2:R})}else if(a==="horizontal"){var D=f.scale,V=w+i,L=V-s,F=V+s,B=D(b-E),U=D(b+S);T.push({x1:L,y1:U,x2:F,y2:U}),T.push({x1:V,y1:B,x2:V,y2:U}),T.push({x1:L,y1:B,x2:F,y2:B})}return z.createElement(It,a0({className:"recharts-errorBar",key:"bar-".concat(T.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),T.map(function(J){return z.createElement("line",a0({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return z.createElement(It,{className:"recharts-errorBars"},v)}}])}(z.Component);n7(Ew,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});n7(Ew,"displayName","ErrorBar");function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function ED(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(r),!0).forEach(function(n){SCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SCe(t,e,r){return e=ECe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ECe(t){var e=TCe(t,"string");return jm(e)=="symbol"?e:e+""}function TCe(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a7=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=si(r,mc);if(!s)return null;var o=mc.defaultProps,c=o!==void 0?kl(kl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?kl(kl({},h),f.props):{},v=m.dataKey,g=m.name,y=m.legendType,w=m.hide;return{inactive:w,dataKey:v,type:c.iconType||y||"square",color:iP(f),value:g||v,payload:m}}),kl(kl(kl({},c),mc.getWithHeight(s,i)),{},{payload:u,item:s})};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function TD(t){return CCe(t)||NCe(t)||ACe(t)||jCe()}function jCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ACe(t,e){if(t){if(typeof t=="string")return bT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bT(t,e)}}function NCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CCe(t){if(Array.isArray(t))return bT(t)}function bT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(r),!0).forEach(function(n){dd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dd(t,e,r){return e=PCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PCe(t){var e=ICe(t,"string");return Am(e)=="symbol"?e:e+""}function ICe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e,r){return ct(t)||ct(e)?r:Mr(e)?mi(t,e,r):Ge(e)?e(t):r}function mp(t,e,r,n){var i=NNe(t,function(o){return Sn(o,e)});if(r==="number"){var a=i.filter(function(o){return he(o)||parseFloat(o)});return a.length?[bw(a),xw(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!ct(o)}):i;return s.map(function(o){return Mr(o)||o instanceof Date?o:""})}var OCe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Rn(f-d)!==Rn(h-f)){var v=[];if(Rn(h-f)===Rn(c[1]-c[0])){m=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(e>(x+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var N=0;N<o;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<o-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===o-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){s=n[N].index;break}return s},iP=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dr(dr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},kCe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,u=o.length;c<u;c++)for(var d=a[o[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],g=v.items,y=v.cateAxisId,w=g.filter(function(S){return xs(S.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,b=x!==void 0?dr(dr({},x),w[0].props):w[0].props,N=b.barSize,T=b[y];s[T]||(s[T]=[]);var E=ct(N)?r:N;s[T].push({item:w[0],stackList:w.slice(1),barSize:ct(E)?void 0:Mn(E,n,0)})}}return s},RCe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,c=s.length;if(c<1)return null;var u=Mn(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/c,v=s.reduce(function(N,T){return N+T.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&m>0&&(h=!0,m*=.9,v=c*m);var g=(i-v)/2>>0,y={offset:g-u,size:0};d=s.reduce(function(N,T){var E={item:T.item,position:{offset:y.offset+y.size+u,size:h?m:T.barSize}},S=[].concat(TD(N),[E]);return y=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(j){S.push({item:j,position:y})}),S},f)}else{var w=Mn(n,i,0,!0);i-2*w-(c-1)*u<=0&&(u=0);var x=(i-2*w-(c-1)*u)/c;x>1&&(x>>=0);var b=o===+o?Math.min(x,o):x;d=s.reduce(function(N,T,E){var S=[].concat(TD(N),[{item:T.item,position:{offset:w+(x+u)*E+(x-b)/2,size:b}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(j){S.push({item:j,position:S[S.length-1].position})}),S},f)}return d},MCe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=a7({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&he(e[m]))return dr(dr({},e),{},dd({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&he(e[v]))return dr(dr({},e),{},dd({},v,e[v]+(h||0)))}return e},DCe=function(e,r,n){return ct(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},s7=function(e,r,n,i,a){var s=r.props.children,o=Ri(s,Ew).filter(function(u){return DCe(i,a,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Sn(d,n);if(ct(f))return u;var h=Array.isArray(f)?[bw(f),xw(f)]:[f,f],m=c.reduce(function(v,g){var y=Sn(d,g,0),w=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},$Ce=function(e,r,n,i,a){var s=r.map(function(o){return s7(e,o,n,a,i)}).filter(function(o){return!ct(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},o7=function(e,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&s7(e,c,u,i)||mp(e,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},l7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},c7=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,o=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||o.push(r),s||o.push(n),o},gs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Rn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Tg(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},_1=new WeakMap,Dv=function(e,r){if(typeof r!="function")return e;_1.has(e)||_1.set(e,new WeakMap);var n=_1.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},u7=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:xm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:e0(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pp(),realScaleType:"point"}:a==="category"?{scale:xm(),realScaleType:"band"}:{scale:e0(),realScaleType:"linear"};if(Fc(i)){var c="scale".concat(iw(i));return{scale:(xD[c]||pp)(),realScaleType:xD[c]?c:"point"}}return Ge(i)?{scale:i}:{scale:pp(),realScaleType:"point"}},AD=1e-4,d7=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-AD,s=Math.max(i[0],i[1])+AD,o=e(r[0]),c=e(r[n-1]);(o<a||o>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},LCe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},FCe=function(e,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!he(e[0])||e[0]<n)&&(a[0]=n),(!he(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},VCe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var c=Tg(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1])}},BCe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Tg(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},UCe={sign:VCe,expand:oye,none:Wd,silhouette:lye,wiggle:cye,positive:BCe},zCe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=UCe[n],s=sye().keys(i).value(function(o,c){return+Sn(o,c,0)}).order(WE).offset(a);return s(e)},qCe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?dr(dr({},h.type.defaultProps),h.props):h.props,g=v.stackId,y=v.hide;if(y)return f;var w=v[n],x=f[w]||{hasStack:!1,stackGroups:{}};if(Mr(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[jg("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return dr(dr({},f),{},dd({},w,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var w=m.stackGroups[y];return dr(dr({},g),{},dd({},y,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:zCe(e,w.items,a)}))},v)}return dr(dr({},f),{},dd({},h,m))},d)},f7=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=iCe(u,a,o);return e.domain([bw(d),xw(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=aCe(f,a,o);return{niceTicks:h}}return null},ND=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var c=Sn(s,r.dataKey,r.domain[o]);return ct(c)?null:r.scale(c)-a/2+i},WCe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},HCe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dr(dr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Mr(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},GCe=function(e){return e.reduce(function(r,n){return[bw(n.concat([r[0]]).filter(he)),xw(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},h7=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,c=o.reduce(function(u,d){var f=GCe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wT=function(e,r,n){if(Ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(he(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(CD.test(e[0])){var a=+CD.exec(e[0])[1];i[0]=r[0]-a}else Ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(he(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(PD.test(e[1])){var s=+PD.exec(e[1])[1];i[1]=r[1]+s}else Ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},o0=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=OC(r,function(f){return f.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},ID=function(e,r,n){return!e||!e.length||ww(e,mi(n,"type.defaultProps.domain"))?r:e},p7=function(e,r){var n=e.type.defaultProps?dr(dr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return dr(dr({},We(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:iP(e),value:Sn(r,i),type:c,payload:r,chartType:u,hide:d})};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function OD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(r),!0).forEach(function(n){m7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m7(t,e,r){return e=KCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KCe(t){var e=QCe(t,"string");return Nm(e)=="symbol"?e:e+""}function QCe(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YCe(t,e){return ePe(t)||JCe(t,e)||ZCe(t,e)||XCe()}function XCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZCe(t,e){if(t){if(typeof t=="string")return kD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(t,e)}}function kD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ePe(t){if(Array.isArray(t))return t}var l0=Math.PI/180,tPe=function(e){return e*180/Math.PI},zt=function(e,r,n,i){return{x:e+Math.cos(-l0*i)*n,y:r+Math.sin(-l0*i)*n}},g7=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},rPe=function(e,r,n,i,a){var s=e.width,o=e.height,c=e.startAngle,u=e.endAngle,d=Mn(e.cx,s,s/2),f=Mn(e.cy,o,o/2),h=g7(s,o,n),m=Mn(e.innerRadius,h,0),v=Mn(e.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(y,w){var x=r[w],b=x.domain,N=x.reversed,T;if(ct(x.range))i==="angleAxis"?T=[c,u]:i==="radiusAxis"&&(T=[m,v]),N&&(T=[T[1],T[0]]);else{T=x.range;var E=T,S=YCe(E,2);c=S[0],u=S[1]}var j=u7(x,a),C=j.realScaleType,I=j.scale;I.domain(b).range(T),d7(I);var k=f7(I,as(as({},x),{},{realScaleType:C})),R=as(as(as({},x),k),{},{range:T,radius:v,realScaleType:C,scale:I,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return as(as({},y),{},m7({},w,R))},{})},nPe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},iPe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=nPe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(n-a)/o,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:o,angle:tPe(u),angleInRadian:u}},aPe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},sPe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},RD=function(e,r){var n=e.x,i=e.y,a=iPe({x:n,y:i},r),s=a.radius,o=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=aPe(r),f=d.startAngle,h=d.endAngle,m=o,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?as(as({},r),{},{radius:s,angle:sPe(m,r)}):null},v7=function(e){return!_.isValidElement(e)&&!Ge(e)&&typeof e!="boolean"?e.className:""};function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}var oPe=["offset"];function lPe(t){return fPe(t)||dPe(t)||uPe(t)||cPe()}function cPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uPe(t,e){if(t){if(typeof t=="string")return _T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(t,e)}}function dPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fPe(t){if(Array.isArray(t))return _T(t)}function _T(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hPe(t,e){if(t==null)return{};var r=pPe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(r),!0).forEach(function(n){mPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mPe(t,e,r){return e=gPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gPe(t){var e=vPe(t,"string");return Cm(e)=="symbol"?e:e+""}function vPe(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}var yPe=function(e){var r=e.value,n=e.formatter,i=ct(e.children)?r:e.children;return Ge(n)?n(i):i},xPe=function(e,r){var n=Rn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},bPe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,y=(f+h)/2,w=xPe(m,v),x=w>=0?1:-1,b,N;i==="insideStart"?(b=m+x*s,N=g):i==="insideEnd"?(b=v-x*s,N=!g):i==="end"&&(b=v+x*s,N=g),N=w<=0?N:!N;var T=zt(u,d,y,b),E=zt(u,d,y,b+(N?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(E.x,",").concat(E.y),j=ct(e.id)?jg("recharts-radial-line-"):e.id;return z.createElement("text",Pm({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:j,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(j)},r))},wPe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=zt(s,o,u+n,h),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,w=zt(s,o,y,h),x=w.x,b=w.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},_Pe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,y=g*i,w=g>0?"end":"start",x=g>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return Nr(Nr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var N={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Nr(Nr({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var T={x:o-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Nr(Nr({},T),n?{width:Math.max(T.x-n.x,0),height:d}:{})}if(a==="right"){var E={x:o+u+y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Nr(Nr({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return a==="insideLeft"?Nr({x:o+y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):a==="insideRight"?Nr({x:o+u-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},S):a==="insideTop"?Nr({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?Nr({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?Nr({x:o+y,y:c+h,textAnchor:x,verticalAnchor:v},S):a==="insideTopRight"?Nr({x:o+u-y,y:c+h,textAnchor:w,verticalAnchor:v},S):a==="insideBottomLeft"?Nr({x:o+y,y:c+d-h,textAnchor:x,verticalAnchor:m},S):a==="insideBottomRight"?Nr({x:o+u-y,y:c+d-h,textAnchor:w,verticalAnchor:m},S):Lf(a)&&(he(a.x)||Zl(a.x))&&(he(a.y)||Zl(a.y))?Nr({x:o+Mn(a.x,u),y:c+Mn(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):Nr({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},SPe=function(e){return"cx"in e&&he(e.cx)};function Wr(t){var e=t.offset,r=e===void 0?5:e,n=hPe(t,oPe),i=Nr({offset:r},n),a=i.viewBox,s=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||ct(o)&&ct(c)&&!_.isValidElement(u)&&!Ge(u))return null;if(_.isValidElement(u))return _.cloneElement(u,i);var m;if(Ge(u)){if(m=_.createElement(u,i),_.isValidElement(m))return m}else m=yPe(i);var v=SPe(a),g=We(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return bPe(i,m,g);var y=v?wPe(i):_Pe(i);return z.createElement(Bc,Pm({className:it("recharts-label",f)},g,y,{breakAll:h}),m)}Wr.displayName="Label";var y7=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,g=e.width,y=e.height,w=e.clockWise,x=e.labelViewBox;if(x)return x;if(he(g)&&he(y)){if(he(f)&&he(h))return{x:f,y:h,width:g,height:y};if(he(m)&&he(v))return{x:m,y:v,width:g,height:y}}return he(f)&&he(h)?{x:f,y:h,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},EPe=function(e,r){return e?e===!0?z.createElement(Wr,{key:"label-implicit",viewBox:r}):Mr(e)?z.createElement(Wr,{key:"label-implicit",viewBox:r,value:e}):_.isValidElement(e)?e.type===Wr?_.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(Wr,{key:"label-implicit",content:e,viewBox:r}):Ge(e)?z.createElement(Wr,{key:"label-implicit",content:e,viewBox:r}):Lf(e)?z.createElement(Wr,Pm({viewBox:r},e,{key:"label-implicit"})):null:null},TPe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=y7(e),s=Ri(i,Wr).map(function(c,u){return _.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=EPe(e.label,r||a);return[o].concat(lPe(s))};Wr.parseViewBox=y7;Wr.renderCallByParent=TPe;function jPe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var APe=jPe;const NPe=Pt(APe);function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}var CPe=["valueAccessor"],PPe=["data","dataKey","clockWise","id","textBreakAll"];function IPe(t){return MPe(t)||RPe(t)||kPe(t)||OPe()}function OPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kPe(t,e){if(t){if(typeof t=="string")return ST(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ST(t,e)}}function RPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MPe(t){if(Array.isArray(t))return ST(t)}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}function DD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(r),!0).forEach(function(n){DPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DPe(t,e,r){return e=$Pe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Pe(t){var e=LPe(t,"string");return Im(e)=="symbol"?e:e+""}function LPe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LD(t,e){if(t==null)return{};var r=FPe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VPe=function(e){return Array.isArray(e.value)?NPe(e.value):e.value};function Qo(t){var e=t.valueAccessor,r=e===void 0?VPe:e,n=LD(t,CPe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=LD(n,PPe);return!i||!i.length?null:z.createElement(It,{className:"recharts-label-list"},i.map(function(d,f){var h=ct(a)?r(d,f):Sn(d&&d.payload,a),m=ct(o)?{}:{id:"".concat(o,"-").concat(f)};return z.createElement(Wr,c0({},We(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Wr.parseViewBox(ct(s)?d:$D($D({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Qo.displayName="LabelList";function BPe(t,e){return t?t===!0?z.createElement(Qo,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ge(t)?z.createElement(Qo,{key:"labelList-implicit",data:e,content:t}):Lf(t)?z.createElement(Qo,c0({data:e},t,{key:"labelList-implicit"})):null:null}function UPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ri(n,Qo).map(function(s,o){return _.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=BPe(t.label,e);return[a].concat(IPe(i))}Qo.renderCallByParent=UPe;function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function ET(){return ET=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ET.apply(this,arguments)}function FD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(r),!0).forEach(function(n){zPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zPe(t,e,r){return e=qPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qPe(t){var e=WPe(t,"string");return Om(e)=="symbol"?e:e+""}function WPe(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HPe=function(e,r){var n=Rn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},$v=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/l0,h=u?a:a+s*f,m=zt(r,n,d,h),v=zt(r,n,i,h),g=u?a-s*f:a,y=zt(r,n,d*Math.cos(f*l0),g);return{center:m,circleTangency:v,lineTangency:y,theta:f}},x7=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,c=HPe(s,o),u=s+c,d=zt(r,n,a,s),f=zt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=zt(r,n,i,s),v=zt(r,n,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},GPe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Rn(d-u),h=$v({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,g=h.theta,y=$v({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),w=y.circleTangency,x=y.lineTangency,b=y.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(N<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):x7({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=$v({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),S=E.circleTangency,j=E.lineTangency,C=E.theta,I=$v({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=I.circleTangency,R=I.lineTangency,O=I.theta,$=c?Math.abs(u-d):Math.abs(u-d)-C-O;if($<0&&s===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},KPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},b7=function(e){var r=VD(VD({},KPe),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var m=it("recharts-sector",h),v=s-a,g=Mn(o,v,0,!0),y;return g>0&&Math.abs(d-f)<360?y=GPe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=x7({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),z.createElement("path",ET({},We(r,!0),{className:m,d:y,role:"img"}))};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TT.apply(this,arguments)}function BD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(r),!0).forEach(function(n){QPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QPe(t,e,r){return e=YPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YPe(t){var e=XPe(t,"string");return km(e)=="symbol"?e:e+""}function XPe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zD={curveBasisClosed:Qve,curveBasisOpen:Yve,curveBasis:Kve,curveBumpX:Rve,curveBumpY:Mve,curveLinearClosed:Xve,curveLinear:sw,curveMonotoneX:Zve,curveMonotoneY:Jve,curveNatural:eye,curveStep:tye,curveStepAfter:nye,curveStepBefore:rye},Lv=function(e){return e.x===+e.x&&e.y===+e.y},jh=function(e){return e.x},Ah=function(e){return e.y},ZPe=function(e,r){if(Ge(e))return e;var n="curve".concat(iw(e));return(n==="curveMonotone"||n==="curveBump")&&r?zD["".concat(n).concat(r==="vertical"?"Y":"X")]:zD[n]||sw},JPe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=ZPe(n,o),f=u?a.filter(function(g){return Lv(g)}):a,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return Lv(g)}):s,v=f.map(function(g,y){return UD(UD({},g),{},{base:m[y]})});return o==="vertical"?h=Nv().y(Ah).x1(jh).x0(function(g){return g.base.x}):h=Nv().x(jh).y1(Ah).y0(function(g){return g.base.y}),h.defined(Lv).curve(d),h(v)}return o==="vertical"&&he(s)?h=Nv().y(Ah).x1(jh).x0(s):he(s)?h=Nv().x(jh).y1(Ah).y0(s):h=h8().x(jh).y(Ah),h.defined(Lv).curve(d),h(f)},jT=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?JPe(e):i;return _.createElement("path",TT({},We(e,!1),Rx(e),{className:it("recharts-curve",r),d:s,ref:a}))},w7={exports:{}},eIe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tIe=eIe,rIe=tIe;function _7(){}function S7(){}S7.resetWarningCache=_7;var nIe=function(){function t(n,i,a,s,o,c){if(c!==rIe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:S7,resetWarningCache:_7};return r.PropTypes=r,r};w7.exports=nIe();var iIe=w7.exports;const At=Pt(iIe);var aIe=Object.getOwnPropertyNames,sIe=Object.getOwnPropertySymbols,oIe=Object.prototype.hasOwnProperty;function qD(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Fv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function WD(t){return aIe(t).concat(sIe(t))}var lIe=Object.hasOwn||function(t,e){return oIe.call(t,e)};function iu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var cIe="__v",uIe="__o",dIe="_owner",HD=Object.getOwnPropertyDescriptor,GD=Object.keys;function fIe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function hIe(t,e){return iu(t.getTime(),e.getTime())}function pIe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mIe(t,e){return t===e}function KD(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,c=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,m=o.value;if(r.equals(h[0],m[0],c,f,t,e,r)&&r.equals(h[1],m[1],h[0],m[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var gIe=iu;function vIe(t,e,r){var n=GD(t),i=n.length;if(GD(e).length!==i)return!1;for(;i-- >0;)if(!E7(t,e,r,n[i]))return!1;return!0}function Nh(t,e,r){var n=WD(t),i=n.length;if(WD(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!E7(t,e,r,a)||(s=HD(t,a),o=HD(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function yIe(t,e){return iu(t.valueOf(),e.valueOf())}function xIe(t,e){return t.source===e.source&&t.flags===e.flags}function QD(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function bIe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function wIe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function E7(t,e,r,n){return(n===dIe||n===uIe||n===cIe)&&(t.$$typeof||e.$$typeof)?!0:lIe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var _Ie="[object Arguments]",SIe="[object Boolean]",EIe="[object Date]",TIe="[object Error]",jIe="[object Map]",AIe="[object Number]",NIe="[object Object]",CIe="[object RegExp]",PIe="[object Set]",IIe="[object String]",OIe="[object URL]",kIe=Array.isArray,YD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,XD=Object.assign,RIe=Object.prototype.toString.call.bind(Object.prototype.toString);function MIe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,g,y){if(v===g)return!0;if(v==null||g==null)return!1;var w=typeof v;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?s(v,g,y):w==="function"?i(v,g,y):!1;var x=v.constructor;if(x!==g.constructor)return!1;if(x===Object)return o(v,g,y);if(kIe(v))return e(v,g,y);if(YD!=null&&YD(v))return f(v,g,y);if(x===Date)return r(v,g,y);if(x===RegExp)return u(v,g,y);if(x===Map)return a(v,g,y);if(x===Set)return d(v,g,y);var b=RIe(v);return b===EIe?r(v,g,y):b===CIe?u(v,g,y):b===jIe?a(v,g,y):b===PIe?d(v,g,y):b===NIe?typeof v.then!="function"&&typeof g.then!="function"&&o(v,g,y):b===OIe?h(v,g,y):b===TIe?n(v,g,y):b===_Ie?o(v,g,y):b===SIe||b===AIe||b===IIe?c(v,g,y):!1}}function DIe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Nh:fIe,areDatesEqual:hIe,areErrorsEqual:pIe,areFunctionsEqual:mIe,areMapsEqual:n?qD(KD,Nh):KD,areNumbersEqual:gIe,areObjectsEqual:n?Nh:vIe,arePrimitiveWrappersEqual:yIe,areRegExpsEqual:xIe,areSetsEqual:n?qD(QD,Nh):QD,areTypedArraysEqual:n?Nh:bIe,areUrlsEqual:wIe};if(r&&(i=XD({},i,r(i))),e){var a=Fv(i.areArraysEqual),s=Fv(i.areMapsEqual),o=Fv(i.areObjectsEqual),c=Fv(i.areSetsEqual);i=XD({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return i}function $Ie(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function LIe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var FIe=El();El({strict:!0});El({circular:!0});El({circular:!0,strict:!0});El({createInternalComparator:function(){return iu}});El({strict:!0,createInternalComparator:function(){return iu}});El({circular:!0,createInternalComparator:function(){return iu}});El({circular:!0,createInternalComparator:function(){return iu},strict:!0});function El(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=DIe(t),c=MIe(o),u=n?n(c):$Ie(c);return LIe({circular:r,comparator:c,createState:i,equals:u,strict:s})}function VIe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ZD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):VIe(i)};requestAnimationFrame(n)}function AT(t){"@babel/helpers - typeof";return AT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AT(t)}function BIe(t){return WIe(t)||qIe(t)||zIe(t)||UIe()}function UIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zIe(t,e){if(t){if(typeof t=="string")return JD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JD(t,e)}}function JD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WIe(t){if(Array.isArray(t))return t}function HIe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=BIe(s),c=o[0],u=o.slice(1);if(typeof c=="number"){ZD(i.bind(null,u),c);return}i(c),ZD(i.bind(null,u));return}AT(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function e$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(r),!0).forEach(function(n){T7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T7(t,e,r){return e=GIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GIe(t){var e=KIe(t,"string");return Rm(e)==="symbol"?e:String(e)}function KIe(t,e){if(Rm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QIe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},YIe=function(e){return e},XIe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gp=function(e,r){return Object.keys(r).reduce(function(n,i){return t$(t$({},n),{},T7({},i,e(i,r[i])))},{})},r$=function(e,r,n){return e.map(function(i){return"".concat(XIe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function ZIe(t,e){return tOe(t)||eOe(t,e)||j7(t,e)||JIe()}function JIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function tOe(t){if(Array.isArray(t))return t}function rOe(t){return aOe(t)||iOe(t)||j7(t)||nOe()}function nOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7(t,e){if(t){if(typeof t=="string")return NT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(t,e)}}function iOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aOe(t){if(Array.isArray(t))return NT(t)}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u0=1e-4,A7=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},N7=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},n$=function(e,r){return function(n){var i=A7(e,r);return N7(i,n)}},sOe=function(e,r){return function(n){var i=A7(e,r),a=[].concat(rOe(i.map(function(s,o){return s*o}).slice(1)),[0]);return N7(a,n)}},i$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=ZIe(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=n$(i,s),h=n$(a,o),m=sOe(i,s),v=function(w){return w>1?1:w<0?0:w},g=function(w){for(var x=w>1?1:w,b=x,N=0;N<8;++N){var T=f(b)-x,E=m(b);if(Math.abs(T-x)<u0||E<u0)return h(b);b=v(b-T/E)}return h(b)};return g.isStepper=!1,g},oOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*n,v=h*a,g=h+(m-v)*o/1e3,y=h*o/1e3+d;return Math.abs(y-f)<u0&&Math.abs(g)<u0?[f,0]:[y,g]};return c.isStepper=!0,c.dt=o,c},lOe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i$(i);case"spring":return oOe();default:if(i.split("(")[0]==="cubic-bezier")return i$(i)}return typeof i=="function"?i:null};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function a$(t){return dOe(t)||uOe(t)||C7(t)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dOe(t){if(Array.isArray(t))return PT(t)}function s$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(r),!0).forEach(function(n){CT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CT(t,e,r){return e=fOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fOe(t){var e=hOe(t,"string");return Mm(e)==="symbol"?e:String(e)}function hOe(t,e){if(Mm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pOe(t,e){return vOe(t)||gOe(t,e)||C7(t,e)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(t,e){if(t){if(typeof t=="string")return PT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PT(t,e)}}function PT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function vOe(t){if(Array.isArray(t))return t}var d0=function(e,r,n){return e+(r-e)*n},IT=function(e){var r=e.from,n=e.to;return r!==n},yOe=function t(e,r,n){var i=gp(function(a,s){if(IT(s)){var o=e(s.from,s.to,s.velocity),c=pOe(o,2),u=c[0],d=c[1];return Zr(Zr({},s),{},{from:u,velocity:d})}return s},r);return n<1?gp(function(a,s){return IT(s)?Zr(Zr({},s),{},{velocity:d0(s.velocity,i[a].velocity,n),from:d0(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const xOe=function(t,e,r,n,i){var a=QIe(t,e),s=a.reduce(function(y,w){return Zr(Zr({},y),{},CT({},w,[t[w],e[w]]))},{}),o=a.reduce(function(y,w){return Zr(Zr({},y),{},CT({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return gp(function(w,x){return x.from},o)},m=function(){return!Object.values(o).filter(IT).length},v=function(w){u||(u=w);var x=w-u,b=x/r.dt;o=yOe(r,o,b),i(Zr(Zr(Zr({},t),e),h())),u=w,m()||(c=requestAnimationFrame(f))},g=function(w){d||(d=w);var x=(w-d)/n,b=gp(function(T,E){return d0.apply(void 0,a$(E).concat([r(x)]))},s);if(i(Zr(Zr(Zr({},t),e),b)),x<1)c=requestAnimationFrame(f);else{var N=gp(function(T,E){return d0.apply(void 0,a$(E).concat([r(1)]))},s);i(Zr(Zr(Zr({},t),e),N))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var bOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wOe(t,e){if(t==null)return{};var r=_Oe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Oe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function S1(t){return jOe(t)||TOe(t)||EOe(t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EOe(t,e){if(t){if(typeof t=="string")return OT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OT(t,e)}}function TOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jOe(t){if(Array.isArray(t))return OT(t)}function OT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(r),!0).forEach(function(n){zh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zh(t,e,r){return e=P7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P7(n.key),n)}}function COe(t,e,r){return e&&NOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P7(t){var e=POe(t,"string");return ef(e)==="symbol"?e:String(e)}function POe(t,e){if(ef(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kT(t,e)}function kT(t,e){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kT(t,e)}function OOe(t){var e=kOe();return function(){var n=f0(t),i;if(e){var a=f0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return RT(this,i)}}function RT(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MT(t)}function MT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f0(t)}var Fs=function(t){IOe(r,t);var e=OOe(r);function r(n,i){var a;AOe(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(MT(a)),a.changeStyle=a.changeStyle.bind(MT(a)),!o||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),RT(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},RT(a);a.state={style:c?zh({},c,u):u}}else a.state={style:{}};return a}return COe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var m={style:c?zh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(FIe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:i.to;if(this.state&&h){var y={style:c?zh({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(zi(zi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=xOe(s,o,lOe(u),c,this.changeStyle),v=function(){a.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,w){if(w===0)return g;var x=y.duration,b=y.easing,N=b===void 0?"ease":b,T=y.style,E=y.properties,S=y.onAnimationEnd,j=w>0?s[w-1]:y,C=E||Object.keys(T);if(typeof N=="function"||N==="spring")return[].concat(S1(g),[a.runJSAnimation.bind(a,{from:j.style,to:T,duration:x,easing:N}),x]);var I=r$(C,x,N),k=zi(zi(zi({},j.style),T),{},{transition:I});return[].concat(S1(g),[k,x,S]).filter(YIe)};return this.manager.start([c].concat(S1(s.reduce(m,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=HIe());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?zh({},o,c):c,y=r$(Object.keys(g),s,u);v.start([d,a,zi(zi({},g),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=wOe(i,bOe),u=_.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(m){var v=m.props,g=v.style,y=g===void 0?{}:g,w=v.className,x=_.cloneElement(m,zi(zi({},c),{},{style:zi(zi({},y),d),className:w}));return x};return u===1?f(_.Children.only(a)):z.createElement("div",null,_.Children.map(a,function(h){return f(h)}))}}]),r}(_.PureComponent);Fs.displayName="Animate";Fs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fs.propTypes={from:At.oneOfType([At.object,At.string]),to:At.oneOfType([At.object,At.string]),attributeName:At.string,duration:At.number,begin:At.number,easing:At.oneOfType([At.string,At.func]),steps:At.arrayOf(At.shape({duration:At.number.isRequired,style:At.object.isRequired,easing:At.oneOfType([At.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),At.func]),properties:At.arrayOf("string"),onAnimationEnd:At.func})),children:At.oneOfType([At.node,At.func]),isActive:At.bool,canBegin:At.bool,onAnimationEnd:At.func,shouldReAnimate:At.bool,onAnimationStart:At.func,onAnimationReStart:At.func};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h0.apply(this,arguments)}function ROe(t,e){return LOe(t)||$Oe(t,e)||DOe(t,e)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DOe(t,e){if(t){if(typeof t=="string")return l$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l$(t,e)}}function l$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Oe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function LOe(t){if(Array.isArray(t))return t}function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){FOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FOe(t,e,r){return e=VOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VOe(t){var e=BOe(t,"string");return Dm(e)=="symbol"?e:e+""}function BOe(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d$=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);d="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+i,`
            L `).concat(e+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},UOe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},zOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aP=function(e){var r=u$(u$({},zOe),e),n=_.useRef(),i=_.useState(-1),a=ROe(i,2),s=a[0],o=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,g=r.animationDuration,y=r.animationBegin,w=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=it("recharts-rectangle",m);return x?z.createElement(Fs,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(N){var T=N.width,E=N.height,S=N.x,j=N.y;return z.createElement(Fs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:v},z.createElement("path",h0({},We(r,!0),{className:b,d:d$(S,j,T,E,h),ref:n})))}):z.createElement("path",h0({},We(r,!0),{className:b,d:d$(c,u,d,f,h)}))},qOe=["points","className","baseLinePoints","connectNulls"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vu.apply(this,arguments)}function WOe(t,e){if(t==null)return{};var r=HOe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f$(t){return YOe(t)||QOe(t)||KOe(t)||GOe()}function GOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KOe(t,e){if(t){if(typeof t=="string")return DT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(t,e)}}function QOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YOe(t){if(Array.isArray(t))return DT(t)}function DT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h$=function(e){return e&&e.x===+e.x&&e.y===+e.y},XOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){h$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),h$(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vp=function(e,r){var n=XOe(e);r&&(n=[n.reduce(function(a,s){return[].concat(f$(a),f$(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},ZOe=function(e,r,n){var i=vp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vp(r.reverse(),n).slice(1))},JOe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=WOe(e,qOe);if(!r||!r.length)return null;var o=it("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=ZOe(r,i,a);return z.createElement("g",{className:o},z.createElement("path",Vu({},We(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?z.createElement("path",Vu({},We(s,!0),{fill:"none",d:vp(r,a)})):null,c?z.createElement("path",Vu({},We(s,!0),{fill:"none",d:vp(i,a)})):null)}var d=vp(r,a);return z.createElement("path",Vu({},We(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function $T(){return $T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$T.apply(this,arguments)}var sP=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=it("recharts-dot",a);return r===+r&&n===+n&&i===+i?_.createElement("circle",$T({},We(e,!1),Rx(e),{className:s,cx:r,cy:n,r:i})):null};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}var eke=["x","y","top","left","width","height","className"];function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LT.apply(this,arguments)}function p$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(r),!0).forEach(function(n){rke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rke(t,e,r){return e=nke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nke(t){var e=ike(t,"string");return $m(e)=="symbol"?e:e+""}function ike(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ake(t,e){if(t==null)return{};var r=ske(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ske(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var oke=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},lke=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,g=ake(e,eke),y=tke({x:n,y:a,top:o,left:u,width:f,height:m},g);return!he(n)||!he(a)||!he(f)||!he(m)||!he(o)||!he(u)?null:z.createElement("path",LT({},We(y,!0),{className:it("recharts-cross",v),d:oke(n,a,f,m,o,u)}))},cke=yw,uke=Uq,dke=Qa;function fke(t,e){return t&&t.length?cke(t,dke(e),uke):void 0}var hke=fke;const pke=Pt(hke);var mke=yw,gke=Qa,vke=zq;function yke(t,e){return t&&t.length?mke(t,gke(e),vke):void 0}var xke=yke;const bke=Pt(xke);var wke=["cx","cy","angle","ticks","axisLine"],_ke=["ticks","tick","angle","tickFormatter","stroke"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yp.apply(this,arguments)}function m$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(r),!0).forEach(function(n){Tw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g$(t,e){if(t==null)return{};var r=Ske(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ske(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Eke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O7(n.key),n)}}function Tke(t,e,r){return e&&v$(t.prototype,e),r&&v$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jke(t,e,r){return e=p0(e),Ake(t,I7()?Reflect.construct(e,r||[],p0(t).constructor):e.apply(t,r))}function Ake(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nke(t)}function Nke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I7=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(t)}function Cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FT(t,e)}function FT(t,e){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FT(t,e)}function Tw(t,e,r){return e=O7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O7(t){var e=Pke(t,"string");return tf(e)=="symbol"?e:e+""}function Pke(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jw=function(t){function e(){return Eke(this,e),jke(this,e,arguments)}return Cke(e,t),Tke(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,c=a.cy;return zt(o,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=pke(o,function(d){return d.coordinate||0}),u=bke(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=g$(n,wke),d=o.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=zt(i,a,d[0],s),h=zt(i,a,d[1],s),m=Rl(Rl(Rl({},We(u,!1)),{},{fill:"none"},We(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return z.createElement("line",yp({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,d=g$(i,_ke),f=this.getTickTextAnchor(),h=We(d,!1),m=We(s,!1),v=a.map(function(g,y){var w=n.getTickValueCoord(g),x=Rl(Rl(Rl(Rl({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},w),{},{payload:g});return z.createElement(It,yp({className:it("recharts-polar-radius-axis-tick",v7(s)),key:"tick-".concat(g.coordinate)},Vc(n.props,g,y)),e.renderTickItem(s,x,c?c(g.value,y):g.value))});return z.createElement(It,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:z.createElement(It,{className:it("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Wr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ge(n)?s=n(i):s=z.createElement(Bc,yp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(_.PureComponent);Tw(jw,"displayName","PolarRadiusAxis");Tw(jw,"axisType","radiusAxis");Tw(jw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ql.apply(this,arguments)}function y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ml(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(r),!0).forEach(function(n){Aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ike(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R7(n.key),n)}}function Oke(t,e,r){return e&&x$(t.prototype,e),r&&x$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kke(t,e,r){return e=m0(e),Rke(t,k7()?Reflect.construct(e,r||[],m0(t).constructor):e.apply(t,r))}function Rke(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mke(t)}function Mke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k7=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(t)}function Dke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VT(t,e)}function VT(t,e){return VT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VT(t,e)}function Aw(t,e,r){return e=R7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R7(t){var e=$ke(t,"string");return rf(e)=="symbol"?e:e+""}function $ke(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lke=Math.PI/180,b$=1e-5,Nw=function(t){function e(){return Ike(this,e),kke(this,e,arguments)}return Dke(e,t),Oke(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=zt(a,s,o,n.coordinate),h=zt(a,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Lke),s;return a>b$?s=i==="outer"?"start":"end":a<-b$?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=Ml(Ml({},We(this.props,!1)),{},{fill:"none"},We(o,!1));if(c==="circle")return z.createElement(sP,ql({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return zt(i,a,s,h.coordinate)});return z.createElement(JOe,ql({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,d=We(this.props,!1),f=We(s,!1),h=Ml(Ml({},d),{},{fill:"none"},We(o,!1)),m=a.map(function(v,g){var y=n.getTickLineCoord(v),w=n.getTickTextAnchor(v),x=Ml(Ml(Ml({textAnchor:w},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:y.x2,y:y.y2});return z.createElement(It,ql({className:it("recharts-polar-angle-axis-tick",v7(s)),key:"tick-".concat(v.coordinate)},Vc(n.props,v,g)),o&&z.createElement("line",ql({className:"recharts-polar-angle-axis-tick-line"},h,y)),s&&e.renderTickItem(s,x,c?c(v.value,g):v.value))});return z.createElement(It,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:z.createElement(It,{className:it("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ge(n)?s=n(i):s=z.createElement(Bc,ql({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(_.PureComponent);Aw(Nw,"displayName","PolarAngleAxis");Aw(Nw,"axisType","angleAxis");Aw(Nw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fke=$8,Vke=Fke(Object.getPrototypeOf,Object),Bke=Vke,Uke=zs,zke=Bke,qke=qs,Wke="[object Object]",Hke=Function.prototype,Gke=Object.prototype,M7=Hke.toString,Kke=Gke.hasOwnProperty,Qke=M7.call(Object);function Yke(t){if(!qke(t)||Uke(t)!=Wke)return!1;var e=zke(t);if(e===null)return!0;var r=Kke.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&M7.call(r)==Qke}var Xke=Yke;const Zke=Pt(Xke);var Jke=zs,e2e=qs,t2e="[object Boolean]";function r2e(t){return t===!0||t===!1||e2e(t)&&Jke(t)==t2e}var n2e=r2e;const i2e=Pt(n2e);function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g0.apply(this,arguments)}function a2e(t,e){return c2e(t)||l2e(t,e)||o2e(t,e)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(t,e){if(t){if(typeof t=="string")return w$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w$(t,e)}}function w$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function c2e(t){if(Array.isArray(t))return t}function _$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function S$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(r),!0).forEach(function(n){u2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u2e(t,e,r){return e=d2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d2e(t){var e=f2e(t,"string");return Lm(e)=="symbol"?e:e+""}function f2e(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E$=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},h2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},p2e=function(e){var r=S$(S$({},h2e),e),n=_.useRef(),i=_.useState(-1),a=a2e(i,2),s=a[0],o=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,g=r.animationDuration,y=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=it("recharts-trapezoid",m);return w?z.createElement(Fs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:w},function(b){var N=b.upperWidth,T=b.lowerWidth,E=b.height,S=b.x,j=b.y;return z.createElement(Fs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:v},z.createElement("path",g0({},We(r,!0),{className:x,d:E$(S,j,N,T,E),ref:n})))}):z.createElement("g",null,z.createElement("path",g0({},We(r,!0),{className:x,d:E$(c,u,d,f,h)})))},m2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function g2e(t,e){if(t==null)return{};var r=v2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(r),!0).forEach(function(n){y2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y2e(t,e,r){return e=x2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x2e(t){var e=b2e(t,"string");return Fm(e)=="symbol"?e:e+""}function b2e(t,e){if(Fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w2e(t,e){return v0(v0({},e),t)}function _2e(t,e){return t==="symbols"}function j$(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(aP,r);case"trapezoid":return z.createElement(p2e,r);case"sector":return z.createElement(b7,r);case"symbols":if(_2e(e))return z.createElement(EC,r);break;default:return null}}function S2e(t){return _.isValidElement(t)?t.props:t}function D7(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?w2e:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,c=g2e(t,m2e),u;if(_.isValidElement(e))u=_.cloneElement(e,v0(v0({},c),S2e(e)));else if(Ge(e))u=e(c);else if(Zke(e)&&!i2e(e)){var d=i(e,c);u=z.createElement(j$,{shapeType:r,elementProps:d})}else{var f=c;u=z.createElement(j$,{shapeType:r,elementProps:f})}return o?z.createElement(It,{className:s},u):u}function Cw(t,e){return e!=null&&"trapezoids"in t.props}function Pw(t,e){return e!=null&&"sectors"in t.props}function Vm(t,e){return e!=null&&"points"in t.props}function E2e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function T2e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function j2e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function A2e(t,e){var r;return Cw(t,e)?r=E2e:Pw(t,e)?r=T2e:Vm(t,e)&&(r=j2e),r}function N2e(t,e){var r;return Cw(t,e)?r="trapezoids":Pw(t,e)?r="sectors":Vm(t,e)&&(r="points"),r}function C2e(t,e){if(Cw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vm(t,e)?e.payload:{}}function P2e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=N2e(r,e),a=C2e(r,e),s=n.filter(function(c,u){var d=ww(a,c),f=r.props[i].filter(function(v){var g=A2e(r,e);return g(v,e)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),o=n.indexOf(s[s.length-1]);return o}var wy;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function A$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L7(n.key),n)}}function O2e(t,e,r){return e&&N$(t.prototype,e),r&&N$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k2e(t,e,r){return e=y0(e),R2e(t,$7()?Reflect.construct(e,r||[],y0(t).constructor):e.apply(t,r))}function R2e(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2e(t)}function M2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($7=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(t)}function D2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BT(t,e)}function BT(t,e){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BT(t,e)}function Ci(t,e,r){return e=L7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L7(t){var e=$2e(t,"string");return nf(e)=="symbol"?e:e+""}function $2e(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hs=function(t){function e(r){var n;return I2e(this,e),n=k2e(this,e,[r]),Ci(n,"pieRef",null),Ci(n,"sectorRefs",[]),Ci(n,"id",jg("recharts-pie-")),Ci(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ge(i)&&i()}),Ci(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ge(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return D2e(e,t),O2e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,c=a.dataKey,u=a.valueKey,d=We(this.props,!1),f=We(s,!1),h=We(o,!1),m=s&&s.offsetRadius||20,v=n.map(function(g,y){var w=(g.startAngle+g.endAngle)/2,x=zt(g.cx,g.cy,g.outerRadius+m,w),b=Ft(Ft(Ft(Ft({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(x.x,g.cx)},x),N=Ft(Ft(Ft(Ft({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[zt(g.cx,g.cy,g.outerRadius,w),x]}),T=c;return ct(c)&&ct(u)?T="value":ct(c)&&(T=u),z.createElement(It,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},o&&e.renderLabelLineItem(o,N,"line"),e.renderLabelItem(s,b,Sn(g,T)))});return z.createElement(It,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?s:h,v=Ft(Ft({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return z.createElement(It,Bu({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Vc(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(D7,Bu({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return z.createElement(Fs,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,y=[],w=a&&a[0],x=w.startAngle;return a.forEach(function(b,N){var T=h&&h[N],E=N>0?mi(b,"paddingAngle",0):0;if(T){var S=oo(T.endAngle-T.startAngle,b.endAngle-b.startAngle),j=Ft(Ft({},b),{},{startAngle:x+E,endAngle:x+S(g)+E});y.push(j),x=j.endAngle}else{var C=b.endAngle,I=b.startAngle,k=oo(0,C-I),R=k(g),O=Ft(Ft({},b),{},{startAngle:x+E,endAngle:x+R+E});y.push(O),x=O.endAngle}}),z.createElement(It,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!ww(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!he(u)||!he(d)||!he(f)||!he(h))return null;var g=it("recharts-pie",o);return z.createElement(It,{tabIndex:this.props.rootTabIndex,className:g,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(s),Wr.renderCallByParent(this.props,null,!1),(!m||v)&&Qo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);if(Ge(n))return n(i);var s=it("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(jT,Bu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);var s=a;if(Ge(n)&&(s=n(i),z.isValidElement(s)))return s;var o=it("recharts-pie-label-text",typeof n!="boolean"&&!Ge(n)?n.className:"");return z.createElement(Bc,Bu({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(_.PureComponent);wy=Hs;Ci(Hs,"displayName","Pie");Ci(Hs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!bs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ci(Hs,"parseDeltaAngle",function(t,e){var r=Rn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ci(Hs,"getRealPieData",function(t){var e=t.data,r=t.children,n=We(t,!1),i=Ri(r,dw);return e&&e.length?e.map(function(a,s){return Ft(Ft(Ft({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ft(Ft({},n),a.props)}):[]});Ci(Hs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=g7(i,a),o=n+Mn(t.cx,i,i/2),c=r+Mn(t.cy,a,a/2),u=Mn(t.innerRadius,s,0),d=Mn(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ci(Hs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ft(Ft({},e.type.defaultProps),e.props):e.props,i=wy.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=wy.parseCoordinateOfPie(n,r),g=wy.parseDeltaAngle(s,o),y=Math.abs(g),w=u;ct(u)&&ct(f)?(la(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ct(u)&&(la(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var x=i.filter(function(j){return Sn(j,w,0)!==0}).length,b=(y>=360?x:x-1)*c,N=y-x*m-b,T=i.reduce(function(j,C){var I=Sn(C,w,0);return j+(he(I)?I:0)},0),E;if(T>0){var S;E=i.map(function(j,C){var I=Sn(j,w,0),k=Sn(j,d,C),R=(he(I)?I:0)/T,O;C?O=S.endAngle+Rn(g)*c*(I!==0?1:0):O=s;var $=O+Rn(g)*((I!==0?m:0)+R*N),D=(O+$)/2,V=(v.innerRadius+v.outerRadius)/2,L=[{name:k,value:I,payload:j,dataKey:w,type:h}],F=zt(v.cx,v.cy,V,D);return S=Ft(Ft(Ft({percent:R,cornerRadius:a,name:k,tooltipPayload:L,midAngle:D,middleRadius:V,tooltipPosition:F},j),v),{},{value:Sn(j,w),startAngle:O,endAngle:$,payload:j,paddingAngle:Rn(g)*c}),S})}return Ft(Ft({},v),{},{sectors:E,data:i})});var L2e=Math.ceil,F2e=Math.max;function V2e(t,e,r,n){for(var i=-1,a=F2e(L2e((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var B2e=V2e,U2e=rq,C$=1/0,z2e=17976931348623157e292;function q2e(t){if(!t)return t===0?t:0;if(t=U2e(t),t===C$||t===-C$){var e=t<0?-1:1;return e*z2e}return t===t?t:0}var F7=q2e,W2e=B2e,H2e=uw,E1=F7;function G2e(t){return function(e,r,n){return n&&typeof n!="number"&&H2e(e,r,n)&&(r=n=void 0),e=E1(e),r===void 0?(r=e,e=0):r=E1(r),n=n===void 0?e<r?1:-1:E1(n),W2e(e,r,n,t)}}var K2e=G2e,Q2e=K2e,Y2e=Q2e(),X2e=Y2e;const x0=Pt(X2e);function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function P$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(r),!0).forEach(function(n){V7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V7(t,e,r){return e=Z2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z2e(t){var e=J2e(t,"string");return Bm(e)=="symbol"?e:e+""}function J2e(t,e){if(Bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eRe=["Webkit","Moz","O","ms"],tRe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=eRe.reduce(function(a,s){return I$(I$({},a),{},V7({},s+n,r))},{});return i[e]=r,i};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}function O$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(r),!0).forEach(function(n){ni(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U7(n.key),n)}}function nRe(t,e,r){return e&&k$(t.prototype,e),r&&k$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iRe(t,e,r){return e=w0(e),aRe(t,B7()?Reflect.construct(e,r||[],w0(t).constructor):e.apply(t,r))}function aRe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sRe(t)}function sRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!t})()}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w0(t)}function oRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UT(t,e)}function UT(t,e){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UT(t,e)}function ni(t,e,r){return e=U7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U7(t){var e=lRe(t,"string");return af(e)=="symbol"?e:e+""}function lRe(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cRe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=pp().domain(x0(0,c)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},R$=function(e){return e.changedTouches&&!!e.changedTouches.length},sf=function(t){function e(r){var n;return rRe(this,e),n=iRe(this,e,[r]),ni(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ni(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ni(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),ni(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ni(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ni(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ni(n,"handleSlideDragStart",function(i){var a=R$(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return oRe(e,t),nRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=Sn(a[n],o,n);return Ge(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var y=this.getIndex({startX:s+g,endX:o+g});(y.startIndex!==h||y.endIndex!==m)&&v&&v(y),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=R$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,g=d.gap,y=d.data,w={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),w[s]=u+x;var b=this.getIndex(w),N=b.startIndex,T=b.endIndex,E=function(){var j=y.length-1;return s==="startX"&&(o>c?N%g===0:T%g===0)||o<c&&T===j||s==="endX"&&(o>c?T%g===0:N%g===0)||o>c&&T===j};this.setState(ni(ni({},s,u+x),"brushMoveStartX",n.pageX),function(){v&&E()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var m=o[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(ni({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=_.Children.only(u);return f?z.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,g=c.startIndex,y=c.endIndex,w=Math.max(n,this.props.x),x=T1(T1({},We(this.props,!1)),{},{x:w,y:u,width:d,height:f}),b=m||"Min value: ".concat((a=v[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[y])===null||s===void 0?void 0:s.name);return z.createElement(It,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),o.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return z.createElement(It,{className:"recharts-brush-texts"},z.createElement(Bc,b0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+o/2},v),this.getTextOfTick(i)),z.createElement(Bc,b0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,g=h.isTextActive,y=h.isSlideMoving,w=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!he(o)||!he(c)||!he(u)||!he(d)||u<=0||d<=0)return null;var b=it("recharts-brush",a),N=z.Children.count(s)===1,T=tRe("userSelect","none");return z.createElement(It,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||y||w||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(a+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return z.isValidElement(n)?a=z.cloneElement(n,i):Ge(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return T1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?cRe({data:a,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>i?o=c:s=c}return i>=n[o]?o:s}}])}(_.PureComponent);ni(sf,"displayName","Brush");ni(sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uRe=IC;function dRe(t,e){var r;return uRe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var fRe=dRe,hRe=C8,pRe=Qa,mRe=fRe,gRe=ei,vRe=uw;function yRe(t,e,r){var n=gRe(t)?hRe:mRe;return r&&vRe(t,e,r)&&(e=void 0),n(t,pRe(e))}var xRe=yRe;const bRe=Pt(xRe);var Fa=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},M$=X8;function wRe(t,e,r){e=="__proto__"&&M$?M$(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var _Re=wRe,SRe=_Re,ERe=Q8,TRe=Qa;function jRe(t,e){var r={};return e=TRe(e),ERe(t,function(n,i,a){SRe(r,i,e(n,i,a))}),r}var ARe=jRe;const NRe=Pt(ARe);function CRe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var PRe=CRe,IRe=IC;function ORe(t,e){var r=!0;return IRe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var kRe=ORe,RRe=PRe,MRe=kRe,DRe=Qa,$Re=ei,LRe=uw;function FRe(t,e,r){var n=$Re(t)?RRe:MRe;return r&&LRe(t,e,r)&&(e=void 0),n(t,DRe(e))}var VRe=FRe;const z7=Pt(VRe);var BRe=["x","y"];function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function zT(){return zT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zT.apply(this,arguments)}function D$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(r),!0).forEach(function(n){URe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function URe(t,e,r){return e=zRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zRe(t){var e=qRe(t,"string");return Um(e)=="symbol"?e:e+""}function qRe(t,e){if(Um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WRe(t,e){if(t==null)return{};var r=HRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GRe(t,e){var r=t.x,n=t.y,i=WRe(t,BRe),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ch(Ch(Ch(Ch(Ch({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function $$(t){return z.createElement(D7,zT({shapeType:"rectangle",propTransformer:GRe,activeClassName:"recharts-active-bar"},t))}var KRe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=he(n)||bge(n);return a?e(n,i):(a||zc(),r)}},QRe=["value","background"],q7;function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function YRe(t,e){if(t==null)return{};var r=XRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_0.apply(this,arguments)}function L$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(r),!0).forEach(function(n){Io(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H7(n.key),n)}}function JRe(t,e,r){return e&&F$(t.prototype,e),r&&F$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eMe(t,e,r){return e=S0(e),tMe(t,W7()?Reflect.construct(e,r||[],S0(t).constructor):e.apply(t,r))}function tMe(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rMe(t)}function rMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S0(t)}function nMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qT(t,e)}function qT(t,e){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qT(t,e)}function Io(t,e,r){return e=H7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H7(t){var e=iMe(t,"string");return of(e)=="symbol"?e:e+""}function iMe(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hl=function(t){function e(){var r;ZRe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=eMe(this,e,[].concat(i)),Io(r,"state",{isAnimationFinished:!1}),Io(r,"id",jg("recharts-bar-")),Io(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Io(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return nMe(e,t),JRe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,c=a.activeIndex,u=a.activeBar,d=We(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:s,g=xr(xr(xr({},d),f),{},{isActive:m,option:v,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(It,_0({className:"recharts-bar-rectangle"},Vc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement($$,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return z.createElement(Fs,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=a.map(function(y,w){var x=h&&h[w];if(x){var b=oo(x.x,y.x),N=oo(x.y,y.y),T=oo(x.width,y.width),E=oo(x.height,y.height);return xr(xr({},y),{},{x:b(v),y:N(v),width:T(v),height:E(v)})}if(s==="horizontal"){var S=oo(0,y.height),j=S(v);return xr(xr({},y),{},{y:y.y+y.height-j,height:j})}var C=oo(0,y.width),I=C(v);return xr(xr({},y),{},{width:I})});return z.createElement(It,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!ww(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,c=We(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=YRe(u,QRe);if(!f)return null;var m=xr(xr(xr(xr(xr({},h),{},{fill:"#eee"},f),c),Vc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement($$,_0({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Ri(d,Ew);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(y,w){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:Sn(y,w)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(It,v,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,g=n.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,w=it("recharts-bar",s),x=o&&o.allowDataOverflow,b=c&&c.allowDataOverflow,N=x||b,T=ct(g)?this.id:g;return z.createElement(It,{className:w},x||b?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(T)},z.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,z.createElement(It,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(T,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,T),(!m||y)&&Qo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(_.PureComponent);q7=hl;Io(hl,"displayName","Bar");Io(hl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Io(hl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=LCe(n,r);if(!m)return null;var v=e.layout,g=r.type.defaultProps,y=g!==void 0?xr(xr({},g),r.props):r.props,w=y.dataKey,x=y.children,b=y.minPointSize,N=v==="horizontal"?s:a,T=u?N.scale.domain():null,E=WCe({numericAxis:N}),S=Ri(x,dw),j=f.map(function(C,I){var k,R,O,$,D,V;u?k=FCe(u[d+I],T):(k=Sn(C,w),Array.isArray(k)||(k=[E,k]));var L=KRe(b,q7.defaultProps.minPointSize)(k[1],I);if(v==="horizontal"){var F,B=[s.scale(k[0]),s.scale(k[1])],U=B[0],J=B[1];R=ND({axis:a,ticks:o,bandSize:i,offset:m.offset,entry:C,index:I}),O=(F=J??U)!==null&&F!==void 0?F:void 0,$=m.size;var Y=U-J;if(D=Number.isNaN(Y)?0:Y,V={x:R,y:s.y,width:$,height:s.height},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var oe=Rn(D||L)*(Math.abs(L)-Math.abs(D));O-=oe,D+=oe}}else{var H=[a.scale(k[0]),a.scale(k[1])],Z=H[0],ye=H[1];if(R=Z,O=ND({axis:s,ticks:c,bandSize:i,offset:m.offset,entry:C,index:I}),$=ye-Z,D=m.size,V={x:a.x,y:O,width:a.width,height:D},Math.abs(L)>0&&Math.abs($)<Math.abs(L)){var ue=Rn($||L)*(Math.abs(L)-Math.abs($));$+=ue}}return xr(xr(xr({},C),{},{x:R,y:O,width:$,height:D,value:u?k:k[1],payload:C,background:V},S&&S[I]&&S[I].props),{},{tooltipPayload:[p7(r,C)],tooltipPosition:{x:R+$/2,y:O+D/2}})});return xr({data:j,layout:v},h)});function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function aMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G7(n.key),n)}}function sMe(t,e,r){return e&&V$(t.prototype,e),r&&V$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){Iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iw(t,e,r){return e=G7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G7(t){var e=oMe(t,"string");return zm(e)=="symbol"?e:e+""}function oMe(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lMe=function(e,r,n,i,a){var s=e.width,o=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!si(u,hl);return d.reduce(function(m,v){var g=r[v],y=g.orientation,w=g.domain,x=g.padding,b=x===void 0?{}:x,N=g.mirror,T=g.reversed,E="".concat(y).concat(N?"Mirror":""),S,j,C,I,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=w[1]-w[0],O=1/0,$=g.categoricalDomain.sort(Sge);if($.forEach(function(H,Z){Z>0&&(O=Math.min((H||0)-($[Z-1]||0),O))}),Number.isFinite(O)){var D=O/R,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=D*V/2),g.padding==="no-gap"){var L=Mn(e.barCategoryGap,D*V),F=D*V/2;S=F-L-(F-L)/V*L}}}i==="xAxis"?j=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:i==="yAxis"?j=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:j=g.range,T&&(j=[j[1],j[0]]);var B=u7(g,a,h),U=B.scale,J=B.realScaleType;U.domain(w).range(j),d7(U);var Y=f7(U,Qi(Qi({},g),{},{realScaleType:J}));i==="xAxis"?(k=y==="top"&&!N||y==="bottom"&&N,C=n.left,I=f[E]-k*g.height):i==="yAxis"&&(k=y==="left"&&!N||y==="right"&&N,C=f[E]-k*g.width,I=n.top);var oe=Qi(Qi(Qi({},g),Y),{},{realScaleType:J,x:C,y:I,scale:U,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return oe.bandSize=o0(oe,Y),!g.hide&&i==="xAxis"?f[E]+=(k?-1:1)*oe.height:g.hide||(f[E]+=(k?-1:1)*oe.width),Qi(Qi({},m),{},Iw({},v,oe))},{})},K7=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},cMe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return K7({x:r,y:n},{x:i,y:a})},Q7=function(){function t(e){aMe(this,t),this.scale=e}return sMe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Iw(Q7,"EPS",1e-4);var oP=function(e){var r=Object.keys(e).reduce(function(n,i){return Qi(Qi({},n),{},Iw({},i,Q7.create(e[i])))},{});return Qi(Qi({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return NRe(i,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return z7(i,function(a,s){return r[s].isInRange(a)})}})};function uMe(t){return(t%180+180)%180}var dMe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uMe(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},fMe=Qa,hMe=Ag,pMe=lw;function mMe(t){return function(e,r,n){var i=Object(e);if(!hMe(e)){var a=fMe(r);e=pMe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var gMe=mMe,vMe=F7;function yMe(t){var e=vMe(t),r=e%1;return e===e?r?e-r:e:0}var xMe=yMe,bMe=z8,wMe=Qa,_Me=xMe,SMe=Math.max;function EMe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:_Me(r);return i<0&&(i=SMe(n+i,0)),bMe(t,wMe(e),i)}var TMe=EMe,jMe=gMe,AMe=TMe,NMe=jMe(AMe),CMe=NMe;const PMe=Pt(CMe);var IMe=Eme(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lP=_.createContext(void 0),cP=_.createContext(void 0),Y7=_.createContext(void 0),X7=_.createContext({}),Z7=_.createContext(void 0),J7=_.createContext(0),eW=_.createContext(0),U$=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,c=e.width,u=e.height,d=IMe(a);return z.createElement(lP.Provider,{value:n},z.createElement(cP.Provider,{value:i},z.createElement(X7.Provider,{value:a},z.createElement(Y7.Provider,{value:d},z.createElement(Z7.Provider,{value:s},z.createElement(J7.Provider,{value:u},z.createElement(eW.Provider,{value:c},o)))))))},OMe=function(){return _.useContext(Z7)},tW=function(e){var r=_.useContext(lP);r==null&&zc();var n=r[e];return n==null&&zc(),n},kMe=function(){var e=_.useContext(lP);return go(e)},RMe=function(){var e=_.useContext(cP),r=PMe(e,function(n){return z7(n.domain,Number.isFinite)});return r||go(e)},rW=function(e){var r=_.useContext(cP);r==null&&zc();var n=r[e];return n==null&&zc(),n},MMe=function(){var e=_.useContext(Y7);return e},DMe=function(){return _.useContext(X7)},uP=function(){return _.useContext(eW)},dP=function(){return _.useContext(J7)};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function $Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iW(n.key),n)}}function FMe(t,e,r){return e&&LMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VMe(t,e,r){return e=E0(e),BMe(t,nW()?Reflect.construct(e,r||[],E0(t).constructor):e.apply(t,r))}function BMe(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UMe(t)}function UMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nW=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E0(t)}function zMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WT(t,e)}function WT(t,e){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WT(t,e)}function z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(r),!0).forEach(function(n){fP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fP(t,e,r){return e=iW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iW(t){var e=qMe(t,"string");return lf(e)=="symbol"?e:e+""}function qMe(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WMe(t,e){return QMe(t)||KMe(t,e)||GMe(t,e)||HMe()}function HMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GMe(t,e){if(t){if(typeof t=="string")return W$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W$(t,e)}}function W$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function QMe(t){if(Array.isArray(t))return t}function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HT.apply(this,arguments)}var YMe=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Ge(e)?n=e(r):n=z.createElement("line",HT({},r,{className:"recharts-reference-line-line"})),n},XMe=function(e,r,n,i,a,s,o,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var v=u.y,g=e.y.apply(v,{position:s});if(Fa(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(r){var w=u.x,x=e.x.apply(w,{position:s});if(Fa(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:f+m},{x,y:f}];return o==="top"?b.reverse():b}if(i){var N=u.segment,T=N.map(function(E){return e.apply(E,{position:s})});return Fa(u,"discard")&&bRe(T,function(E){return!e.isInRange(E)})?null:T}return null};function ZMe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,c=t.alwaysShow,u=OMe(),d=tW(i),f=rW(a),h=MMe();if(!u||!h)return null;la(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=oP({x:d.scale,y:f.scale}),v=Mr(e),g=Mr(r),y=n&&n.length===2,w=XMe(m,v,g,y,h,t.position,d.orientation,f.orientation,t);if(!w)return null;var x=WMe(w,2),b=x[0],N=b.x,T=b.y,E=x[1],S=E.x,j=E.y,C=Fa(t,"hidden")?"url(#".concat(u,")"):void 0,I=q$(q$({clipPath:C},We(t,!0)),{},{x1:N,y1:T,x2:S,y2:j});return z.createElement(It,{className:it("recharts-reference-line",o)},YMe(s,I),Wr.renderCallByParent(t,cMe({x1:N,y1:T,x2:S,y2:j})))}var hP=function(t){function e(){return $Me(this,e),VMe(this,e,arguments)}return zMe(e,t),FMe(e,[{key:"render",value:function(){return z.createElement(ZMe,this.props)}}])}(z.Component);fP(hP,"displayName","ReferenceLine");fP(hP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GT.apply(this,arguments)}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function H$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(r),!0).forEach(function(n){Ow(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sW(n.key),n)}}function tDe(t,e,r){return e&&eDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rDe(t,e,r){return e=T0(e),nDe(t,aW()?Reflect.construct(e,r||[],T0(t).constructor):e.apply(t,r))}function nDe(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iDe(t)}function iDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aW=function(){return!!t})()}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(t)}function aDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KT(t,e)}function KT(t,e){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KT(t,e)}function Ow(t,e,r){return e=sW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sW(t){var e=sDe(t,"string");return cf(e)=="symbol"?e:e+""}function sDe(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oDe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=oP({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Fa(e,"discard")&&!s.isInRange(o)?null:o},kw=function(t){function e(){return JMe(this,e),rDe(this,e,arguments)}return aDe(e,t),tDe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=Mr(i),d=Mr(a);if(la(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=oDe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,g=v.shape,y=v.className,w=Fa(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=G$(G$({clipPath:w},We(this.props,!0)),{},{cx:h,cy:m});return z.createElement(It,{className:it("recharts-reference-dot",y)},e.renderDot(g,x),Wr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(z.Component);Ow(kw,"displayName","ReferenceDot");Ow(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ow(kw,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ge(t)?r=t(e):r=z.createElement(sP,GT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QT.apply(this,arguments)}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function K$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(r),!0).forEach(function(n){Rw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lW(n.key),n)}}function uDe(t,e,r){return e&&cDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dDe(t,e,r){return e=j0(e),fDe(t,oW()?Reflect.construct(e,r||[],j0(t).constructor):e.apply(t,r))}function fDe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hDe(t)}function hDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oW=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j0(t)}function pDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YT(t,e)}function YT(t,e){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YT(t,e)}function Rw(t,e,r){return e=lW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lW(t){var e=mDe(t,"string");return uf(e)=="symbol"?e:e+""}function mDe(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gDe=function(e,r,n,i,a){var s=a.x1,o=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=oP({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Fa(a,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:K7(m,v)},Mw=function(t){function e(){return lDe(this,e),dDe(this,e,arguments)}return pDe(e,t),uDe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;la(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mr(i),h=Mr(a),m=Mr(s),v=Mr(o),g=this.props.shape;if(!f&&!h&&!m&&!v&&!g)return null;var y=gDe(f,h,m,v,this.props);if(!y&&!g)return null;var w=Fa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(It,{className:it("recharts-reference-area",c)},e.renderRect(g,Q$(Q$({clipPath:w},We(this.props,!0)),y)),Wr.renderCallByParent(this.props,y))}}])}(z.Component);Rw(Mw,"displayName","ReferenceArea");Rw(Mw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rw(Mw,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ge(t)?r=t(e):r=z.createElement(aP,QT({},e,{className:"recharts-reference-area-rect"})),r});function cW(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function vDe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return dMe(n,r)}function yDe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function A0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function xDe(t,e){return cW(t,e+1)}function bDe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,c=0,u=1,d=s,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:cW(n,u)};var g=c,y,w=function(){return y===void 0&&(y=r(v,g)),y},x=v.coordinate,b=c===0||A0(t,x,w,d,o);b||(c=0,d=s,u+=1),b&&(d=x+t*(w()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){wDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wDe(t,e,r){return e=_De(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _De(t){var e=SDe(t,"string");return qm(e)=="symbol"?e:e+""}function SDe(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EDe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,c=e.end,u=function(h){var m=a[h],v,g=function(){return v===void 0&&(v=r(m,h)),v};if(h===s-1){var y=t*(m.coordinate+t*g()/2-c);a[h]=m=yn(yn({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else a[h]=m=yn(yn({},m),{},{tickCoord:m.coordinate});var w=A0(t,m.tickCoord,g,o,c);w&&(c=m.tickCoord-t*(g()/2+i),a[h]=yn(yn({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function TDe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,c=e.start,u=e.end;if(a){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=yn(yn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=A0(t,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-t*(f/2+i),s[o-1]=yn(yn({},d),{},{isShow:!0}))}for(var v=a?o-1:o,g=function(x){var b=s[x],N,T=function(){return N===void 0&&(N=r(b,x)),N};if(x===0){var E=t*(b.coordinate-t*T()/2-c);s[x]=b=yn(yn({},b),{},{tickCoord:E<0?b.coordinate-E*t:b.coordinate})}else s[x]=b=yn(yn({},b),{},{tickCoord:b.coordinate});var S=A0(t,b.tickCoord,T,c,u);S&&(c=b.tickCoord+t*(T()/2+i),s[x]=yn(yn({},b),{},{isShow:!0}))},y=0;y<v;y++)g(y);return s}function pP(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(he(c)||bs.isSsr)return xDe(i,typeof c=="number"&&he(c)?c:0);var h=[],m=o==="top"||o==="bottom"?"width":"height",v=d&&m==="width"?hp(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,N){var T=Ge(u)?u(b.value,N):b.value;return m==="width"?vDe(hp(T,{fontSize:e,letterSpacing:r}),v,f):hp(T,{fontSize:e,letterSpacing:r})[m]},y=i.length>=2?Rn(i[1].coordinate-i[0].coordinate):1,w=yDe(a,y,m);return c==="equidistantPreserveStart"?bDe(y,w,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=TDe(y,w,g,i,s,c==="preserveStartEnd"):h=EDe(y,w,g,i,s),h.filter(function(x){return x.isShow}))}var jDe=["viewBox"],ADe=["viewBox"],NDe=["ticks"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}function X$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(r),!0).forEach(function(n){mP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j1(t,e){if(t==null)return{};var r=CDe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dW(n.key),n)}}function IDe(t,e,r){return e&&Z$(t.prototype,e),r&&Z$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ODe(t,e,r){return e=N0(e),kDe(t,uW()?Reflect.construct(e,r||[],N0(t).constructor):e.apply(t,r))}function kDe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RDe(t)}function RDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N0(t)}function MDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XT(t,e)}function mP(t,e,r){return e=dW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dW(t){var e=DDe(t,"string");return df(e)=="symbol"?e:e+""}function DDe(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kf=function(t){function e(r){var n;return PDe(this,e),n=ODe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return MDe(e,t),IDe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=j1(n,jDe),o=this.props,c=o.viewBox,u=j1(o,ADe);return!cd(a,c)||!cd(s,u)||!cd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,g,y,w,x,b=f?-1:1,N=n.tickSize||d,T=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,y=s+ +!f*c,g=y-b*N,x=g-b*h,w=T;break;case"left":g=y=n.coordinate,v=a+ +!f*o,m=v-b*N,w=m-b*h,x=T;break;case"right":g=y=n.coordinate,v=a+ +f*o,m=v+b*N,w=m+b*h,x=T;break;default:m=v=n.coordinate,y=s+ +f*c,g=y+b*N,x=g+b*h,w=T;break}return{line:{x1:m,y1:g,x2:v,y2:y},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ar(Ar(Ar({},We(this.props,!1)),We(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ar(Ar({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Ar(Ar({},f),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+o})}return z.createElement("line",Uu({},f,{className:it("recharts-cartesian-axis-line",mi(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,m=pP(Ar(Ar({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=We(this.props,!1),w=We(d,!1),x=Ar(Ar({},y),{},{fill:"none"},We(c,!1)),b=m.map(function(N,T){var E=s.getTickLineCoord(N),S=E.line,j=E.tick,C=Ar(Ar(Ar(Ar({textAnchor:v,verticalAnchor:g},y),{},{stroke:"none",fill:u},w),j),{},{index:T,payload:N,visibleTicksCount:m.length,tickFormatter:f});return z.createElement(It,Uu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Vc(s.props,N,T)),c&&z.createElement("line",Uu({},x,S,{className:it("recharts-cartesian-axis-tick-line",mi(c,"className"))})),d&&e.renderTickItem(d,C,"".concat(Ge(f)?f(N.value,T):N.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=j1(f,NDe),v=h;return Ge(c)&&(v=h&&h.length>0?c(this.props):c(m)),s<=0||o<=0||!v||!v.length?null:z.createElement(It,{className:it("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Wr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=it(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?s=z.cloneElement(n,Ar(Ar({},i),{},{className:o})):Ge(n)?s=n(Ar(Ar({},i),{},{className:o})):s=z.createElement(Bc,Uu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(_.Component);mP(Kf,"displayName","CartesianAxis");mP(Kf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $De=["x1","y1","x2","y2","key"],LDe=["offset"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function J$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(r),!0).forEach(function(n){FDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FDe(t,e,r){return e=VDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VDe(t){var e=BDe(t,"string");return qc(e)=="symbol"?e:e+""}function BDe(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tc.apply(this,arguments)}function e4(t,e){if(t==null)return{};var r=UDe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zDe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,c=e.ry;return z.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function fW(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,c=e4(e,$De),u=We(c,!1);u.offset;var d=e4(u,LDe);r=z.createElement("line",tc({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function qDe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=_n(_n({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return fW(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function WDe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=_n(_n({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return fW(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function HDe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?i+s-h:d[m+1]-h;if(g<=0)return null;var y=m%e.length;return z.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function GDe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],g=v?a+o-h:d[m+1]-h;if(g<=0)return null;var y=m%n.length;return z.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:c,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var KDe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return c7(pP(_n(_n(_n({},Kf.defaultProps),n),{},{ticks:gs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},QDe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return c7(pP(_n(_n(_n({},Kf.defaultProps),n),{},{ticks:gs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},xu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hW(t){var e,r,n,i,a,s,o=uP(),c=dP(),u=DMe(),d=_n(_n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:xu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:xu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:xu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:xu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:xu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:xu.verticalFill,x:he(t.x)?t.x:u.left,y:he(t.y)?t.y:u.top,width:he(t.width)?t.width:u.width,height:he(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,g=d.syncWithTicks,y=d.horizontalValues,w=d.verticalValues,x=kMe(),b=RMe();if(!he(m)||m<=0||!he(v)||v<=0||!he(f)||f!==+f||!he(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||KDe,T=d.horizontalCoordinatesGenerator||QDe,E=d.horizontalPoints,S=d.verticalPoints;if((!E||!E.length)&&Ge(T)){var j=y&&y.length,C=T({yAxis:b?_n(_n({},b),{},{ticks:j?y:b.ticks}):void 0,width:o,height:c,offset:u},j?!0:g);la(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qc(C),"]")),Array.isArray(C)&&(E=C)}if((!S||!S.length)&&Ge(N)){var I=w&&w.length,k=N({xAxis:x?_n(_n({},x),{},{ticks:I?w:x.ticks}):void 0,width:o,height:c,offset:u},I?!0:g);la(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qc(k),"]")),Array.isArray(k)&&(S=k)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(zDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(qDe,tc({},d,{offset:u,horizontalPoints:E,xAxis:x,yAxis:b})),z.createElement(WDe,tc({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:b})),z.createElement(HDe,tc({},d,{horizontalPoints:E})),z.createElement(GDe,tc({},d,{verticalPoints:S})))}hW.displayName="CartesianGrid";function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function YDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gW(n.key),n)}}function ZDe(t,e,r){return e&&XDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JDe(t,e,r){return e=C0(e),e$e(t,pW()?Reflect.construct(e,r||[],C0(t).constructor):e.apply(t,r))}function e$e(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t$e(t)}function t$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C0(t)}function r$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZT(t,e)}function ZT(t,e){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZT(t,e)}function mW(t,e,r){return e=gW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gW(t){var e=n$e(t,"string");return ff(e)=="symbol"?e:e+""}function n$e(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JT.apply(this,arguments)}function i$e(t){var e=t.xAxisId,r=uP(),n=dP(),i=tW(e);return i==null?null:_.createElement(Kf,JT({},i,{className:it("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return gs(s,!0)}}))}var Dw=function(t){function e(){return YDe(this,e),JDe(this,e,arguments)}return r$e(e,t),ZDe(e,[{key:"render",value:function(){return _.createElement(i$e,this.props)}}])}(_.Component);mW(Dw,"displayName","XAxis");mW(Dw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function a$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xW(n.key),n)}}function o$e(t,e,r){return e&&s$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l$e(t,e,r){return e=P0(e),c$e(t,vW()?Reflect.construct(e,r||[],P0(t).constructor):e.apply(t,r))}function c$e(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u$e(t)}function u$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vW=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P0(t)}function d$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ej(t,e)}function ej(t,e){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ej(t,e)}function yW(t,e,r){return e=xW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xW(t){var e=f$e(t,"string");return hf(e)=="symbol"?e:e+""}function f$e(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tj.apply(this,arguments)}var h$e=function(e){var r=e.yAxisId,n=uP(),i=dP(),a=rW(r);return a==null?null:_.createElement(Kf,tj({},a,{className:it("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return gs(o,!0)}}))},$w=function(t){function e(){return a$e(this,e),l$e(this,e,arguments)}return d$e(e,t),o$e(e,[{key:"render",value:function(){return _.createElement(h$e,this.props)}}])}(_.Component);yW($w,"displayName","YAxis");yW($w,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function t4(t){return v$e(t)||g$e(t)||m$e(t)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$e(t,e){if(t){if(typeof t=="string")return rj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rj(t,e)}}function g$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v$e(t){if(Array.isArray(t))return rj(t)}function rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nj=function(e,r,n,i,a){var s=Ri(e,hP),o=Ri(e,kw),c=[].concat(t4(s),t4(o)),u=Ri(e,Mw),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(g,y){if(y.props[d]===n&&Fa(y.props,"extendDomain")&&he(y.props[f])){var w=y.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===n&&Fa(y.props,"extendDomain")&&he(y.props[m])&&he(y.props[v])){var w=y.props[m],x=y.props[v];return[Math.min(g[0],w,x),Math.max(g[1],w,x)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,y){return he(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},bW={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,v){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],w=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,v),!0}for(b=1,x=new Array(w-1);b<w;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var N=y.length,T;for(b=0;b<N;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),w){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!x)for(T=1,x=new Array(w-1);T<w;T++)x[T-1]=arguments[T];y[b].fn.apply(y[b].context,x)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,m);else{for(var g=0,y=[],w=v.length;g<w;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(bW);var y$e=bW.exports;const x$e=Pt(y$e);var A1=new x$e,N1="recharts.syncMouseEvents";function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function b$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wW(n.key),n)}}function _$e(t,e,r){return e&&w$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C1(t,e,r){return e=wW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wW(t){var e=S$e(t,"string");return Wm(e)=="symbol"?e:e+""}function S$e(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E$e=function(){function t(){b$e(this,t),C1(this,"activeIndex",0),C1(this,"coordinateList",[]),C1(this,"layout","horizontal")}return _$e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function T$e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&he(n)&&he(i))return!0}return!1}function j$e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function _W(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=zt(e,r,n,i),o=zt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function A$e(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=zt(o,c,u,f),m=zt(o,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return _W(e);return[{x:n,y:i},{x:a,y:s}]}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function r4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(r),!0).forEach(function(n){N$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N$e(t,e,r){return e=C$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$e(t){var e=P$e(t,"string");return Hm(e)=="symbol"?e:e+""}function P$e(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I$e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,g=jT;if(h==="ScatterChart")v=s,g=lke;else if(h==="BarChart")v=j$e(f,s,c,d),g=aP;else if(f==="radial"){var y=_W(s),w=y.cx,x=y.cy,b=y.radius,N=y.startAngle,T=y.endAngle;v={cx:w,cy:x,startAngle:N,endAngle:T,innerRadius:b,outerRadius:b},g=b7}else v={points:A$e(f,s,c)},g=jT;var E=Vv(Vv(Vv(Vv({stroke:"#ccc",pointerEvents:"none"},c),v),We(m,!1)),{},{payload:o,payloadIndex:u,className:it("recharts-tooltip-cursor",m.className)});return _.isValidElement(m)?_.cloneElement(m,E):_.createElement(g,E)}var O$e=["item"],k$e=["children","className","width","height","style","compact","title","desc"];function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function n4(t,e){return D$e(t)||M$e(t,e)||EW(t,e)||R$e()}function R$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function D$e(t){if(Array.isArray(t))return t}function i4(t,e){if(t==null)return{};var r=$$e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TW(n.key),n)}}function V$e(t,e,r){return e&&F$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B$e(t,e,r){return e=I0(e),U$e(t,SW()?Reflect.construct(e,r||[],I0(t).constructor):e.apply(t,r))}function U$e(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z$e(t)}function z$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I0(t)}function q$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ij(t,e)}function ij(t,e){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ij(t,e)}function mf(t){return G$e(t)||H$e(t)||EW(t)||W$e()}function W$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EW(t,e){if(t){if(typeof t=="string")return aj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aj(t,e)}}function H$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G$e(t){if(Array.isArray(t))return aj(t)}function aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t,e,r){return e=TW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TW(t){var e=K$e(t,"string");return pf(e)=="symbol"?e:e+""}function K$e(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q$e={xAxis:["bottom","top"],yAxis:["left","right"]},Y$e={width:"100%",height:"100%"},jW={x:0,y:0};function Bv(t){return t}var X$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Z$e=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return te(te(te({},i),zt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,u=i.angle;return te(te(te({},i),zt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return jW},Lw=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(mf(o),mf(u)):o},[]);return s.length>0?s:e&&e.length&&he(i)&&he(a)?e.slice(i,a+1):[]};function AW(t){return t==="number"?[0,"auto"]:void 0}var sj=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Lw(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?o:f;h=RE(m,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(mf(c),[p7(u,h)]):c},[])},s4=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=X$e(a,n),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=OCe(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=sj(e,r,d,f),m=Z$e(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},J$e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=l7(d,a);return n.reduce(function(v,g){var y,w=g.type.defaultProps!==void 0?te(te({},g.type.defaultProps),g.props):g.props,x=w.type,b=w.dataKey,N=w.allowDataOverflow,T=w.allowDuplicatedCategory,E=w.scale,S=w.ticks,j=w.includeHidden,C=w[s];if(v[C])return v;var I=Lw(e.data,{graphicalItems:i.filter(function(Y){var oe,H=s in Y.props?Y.props[s]:(oe=Y.type.defaultProps)===null||oe===void 0?void 0:oe[s];return H===C}),dataStartIndex:c,dataEndIndex:u}),k=I.length,R,O,$;T$e(w.domain,N,x)&&(R=wT(w.domain,null,N),m&&(x==="number"||E!=="auto")&&($=mp(I,b,"category")));var D=AW(x);if(!R||R.length===0){var V,L=(V=w.domain)!==null&&V!==void 0?V:D;if(b){if(R=mp(I,b,x),x==="category"&&m){var F=_ge(R);T&&F?(O=R,R=x0(0,k)):T||(R=ID(L,R,g).reduce(function(Y,oe){return Y.indexOf(oe)>=0?Y:[].concat(mf(Y),[oe])},[]))}else if(x==="category")T?R=R.filter(function(Y){return Y!==""&&!ct(Y)}):R=ID(L,R,g).reduce(function(Y,oe){return Y.indexOf(oe)>=0||oe===""||ct(oe)?Y:[].concat(mf(Y),[oe])},[]);else if(x==="number"){var B=$Ce(I,i.filter(function(Y){var oe,H,Z=s in Y.props?Y.props[s]:(oe=Y.type.defaultProps)===null||oe===void 0?void 0:oe[s],ye="hide"in Y.props?Y.props.hide:(H=Y.type.defaultProps)===null||H===void 0?void 0:H.hide;return Z===C&&(j||!ye)}),b,a,d);B&&(R=B)}m&&(x==="number"||E!=="auto")&&($=mp(I,b,"category"))}else m?R=x0(0,k):o&&o[C]&&o[C].hasStack&&x==="number"?R=h==="expand"?[0,1]:h7(o[C].stackGroups,c,u):R=o7(I,i.filter(function(Y){var oe=s in Y.props?Y.props[s]:Y.type.defaultProps[s],H="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return oe===C&&(j||!H)}),x,d,!0);if(x==="number")R=nj(f,R,C,a,S),L&&(R=wT(L,R,N));else if(x==="category"&&L){var U=L,J=R.every(function(Y){return U.indexOf(Y)>=0});J&&(R=U)}}return te(te({},v),{},Ve({},C,te(te({},w),{},{axisType:a,domain:R,categoricalDomain:$,duplicateDomain:O,originalDomain:(y=w.domain)!==null&&y!==void 0?y:D,isCategorical:m,layout:d})))},{})},e4e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=Lw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=l7(d,a),g=-1;return n.reduce(function(y,w){var x=w.type.defaultProps!==void 0?te(te({},w.type.defaultProps),w.props):w.props,b=x[s],N=AW("number");if(!y[b]){g++;var T;return v?T=x0(0,m):o&&o[b]&&o[b].hasStack?(T=h7(o[b].stackGroups,c,u),T=nj(f,T,b,a)):(T=wT(N,o7(h,n.filter(function(E){var S,j,C=s in E.props?E.props[s]:(S=E.type.defaultProps)===null||S===void 0?void 0:S[s],I="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return C===b&&!I}),"number",d),i.defaultProps.allowDataOverflow),T=nj(f,T,b,a)),te(te({},y),{},Ve({},b,te(te({axisType:a},i.defaultProps),{},{hide:!0,orientation:mi(Q$e,"".concat(a,".").concat(g%2),null),domain:T,originalDomain:N,isCategorical:v,layout:d})))}return y},{})},t4e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Ri(d,a),m={};return h&&h.length?m=J$e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=e4e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),m},r4e=function(e){var r=go(e),n=gs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:OC(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:o0(r,n)}},o4=function(e){var r=e.children,n=e.defaultShowTooltip,i=si(r,sf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},n4e=function(e){return!e||!e.length?!1:e.some(function(r){var n=xs(r&&r.type);return n&&n.indexOf("Bar")>=0})},l4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},i4e=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=si(f,sf),v=si(f,mc),g=Object.keys(c).reduce(function(T,E){var S=c[E],j=S.orientation;return!S.mirror&&!S.hide?te(te({},T),{},Ve({},j,T[j]+S.width)):T},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(T,E){var S=s[E],j=S.orientation;return!S.mirror&&!S.hide?te(te({},T),{},Ve({},j,mi(T,"".concat(j))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),w=te(te({},y),g),x=w.bottom;m&&(w.bottom+=m.props.height||sf.defaultProps.height),v&&r&&(w=MCe(w,i,n,r));var b=u-w.left-w.right,N=d-w.top-w.bottom;return te(te({brushBottom:x},w),{},{width:Math.max(b,0),height:Math.max(N,0)})},a4e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},NW=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(w,x){var b=x.graphicalItems,N=x.stackGroups,T=x.offset,E=x.updateId,S=x.dataStartIndex,j=x.dataEndIndex,C=w.barSize,I=w.layout,k=w.barGap,R=w.barCategoryGap,O=w.maxBarSize,$=l4(I),D=$.numericAxisName,V=$.cateAxisName,L=n4e(b),F=[];return b.forEach(function(B,U){var J=Lw(w.data,{graphicalItems:[B],dataStartIndex:S,dataEndIndex:j}),Y=B.type.defaultProps!==void 0?te(te({},B.type.defaultProps),B.props):B.props,oe=Y.dataKey,H=Y.maxBarSize,Z=Y["".concat(D,"Id")],ye=Y["".concat(V,"Id")],ue={},$e=c.reduce(function(ti,q){var K=x["".concat(q.axisType,"Map")],ee=Y["".concat(q.axisType,"Id")];K&&K[ee]||q.axisType==="zAxis"||zc();var we=K[ee];return te(te({},ti),{},Ve(Ve({},q.axisType,we),"".concat(q.axisType,"Ticks"),gs(we)))},ue),ie=$e[V],ve=$e["".concat(V,"Ticks")],xe=N&&N[Z]&&N[Z].hasStack&&HCe(B,N[Z].stackGroups),X=xs(B.type).indexOf("Bar")>=0,Ze=o0(ie,ve),Le=[],Tt=L&&kCe({barSize:C,stackGroups:N,totalSize:a4e($e,V)});if(X){var jt,qt,Un=ct(H)?O:H,un=(jt=(qt=o0(ie,ve,!0))!==null&&qt!==void 0?qt:Un)!==null&&jt!==void 0?jt:0;Le=RCe({barGap:k,barCategoryGap:R,bandSize:un!==Ze?un:Ze,sizeList:Tt[ye],maxBarSize:Un}),un!==Ze&&(Le=Le.map(function(ti){return te(te({},ti),{},{position:te(te({},ti.position),{},{offset:ti.position.offset-un/2})})}))}var Ya=B&&B.type&&B.type.getComposedData;Ya&&F.push({props:te(te({},Ya(te(te({},$e),{},{displayedData:J,props:w,dataKey:oe,item:B,bandSize:Ze,barPosition:Le,offset:T,stackedData:xe,layout:I,dataStartIndex:S,dataEndIndex:j}))),{},Ve(Ve(Ve({key:B.key||"item-".concat(U)},D,$e[D]),V,$e[V]),"animationId",E)),childIndex:Rge(B,w.children),item:B})}),F},m=function(w,x){var b=w.props,N=w.dataStartIndex,T=w.dataEndIndex,E=w.updateId;if(!TR({props:b}))return null;var S=b.children,j=b.layout,C=b.stackOffset,I=b.data,k=b.reverseStackOrder,R=l4(j),O=R.numericAxisName,$=R.cateAxisName,D=Ri(S,n),V=qCe(I,D,"".concat(O,"Id"),"".concat($,"Id"),C,k),L=c.reduce(function(Y,oe){var H="".concat(oe.axisType,"Map");return te(te({},Y),{},Ve({},H,t4e(b,te(te({},oe),{},{graphicalItems:D,stackGroups:oe.axisType===O&&V,dataStartIndex:N,dataEndIndex:T}))))},{}),F=i4e(te(te({},L),{},{props:b,graphicalItems:D}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(Y){L[Y]=d(b,L[Y],F,Y.replace("Map",""),r)});var B=L["".concat($,"Map")],U=r4e(B),J=h(b,te(te({},L),{},{dataStartIndex:N,dataEndIndex:T,updateId:E,graphicalItems:D,stackGroups:V,offset:F}));return te(te({formattedGraphicalItems:J,graphicalItems:D,offset:F,stackGroups:V},U),L)},v=function(y){function w(x){var b,N,T;return L$e(this,w),T=B$e(this,w,[x]),Ve(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(T,"accessibilityManager",new E$e),Ve(T,"handleLegendBBoxUpdate",function(E){if(E){var S=T.state,j=S.dataStartIndex,C=S.dataEndIndex,I=S.updateId;T.setState(te({legendBBox:E},m({props:T.props,dataStartIndex:j,dataEndIndex:C,updateId:I},te(te({},T.state),{},{legendBBox:E}))))}}),Ve(T,"handleReceiveSyncEvent",function(E,S,j){if(T.props.syncId===E){if(j===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),Ve(T,"handleBrushChange",function(E){var S=E.startIndex,j=E.endIndex;if(S!==T.state.dataStartIndex||j!==T.state.dataEndIndex){var C=T.state.updateId;T.setState(function(){return te({dataStartIndex:S,dataEndIndex:j},m({props:T.props,dataStartIndex:S,dataEndIndex:j,updateId:C},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:j})}}),Ve(T,"handleMouseEnter",function(E){var S=T.getMouseInfo(E);if(S){var j=te(te({},S),{},{isTooltipActive:!0});T.setState(j),T.triggerSyncEvent(j);var C=T.props.onMouseEnter;Ge(C)&&C(j,E)}}),Ve(T,"triggeredAfterMouseMove",function(E){var S=T.getMouseInfo(E),j=S?te(te({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(j),T.triggerSyncEvent(j);var C=T.props.onMouseMove;Ge(C)&&C(j,E)}),Ve(T,"handleItemMouseEnter",function(E){T.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ve(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Ve(T,"handleMouseMove",function(E){E.persist(),T.throttleTriggeredAfterMouseMove(E)}),Ve(T,"handleMouseLeave",function(E){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var j=T.props.onMouseLeave;Ge(j)&&j(S,E)}),Ve(T,"handleOuterEvent",function(E){var S=kge(E),j=mi(T.props,"".concat(S));if(S&&Ge(j)){var C,I;/.*touch.*/i.test(S)?I=T.getMouseInfo(E.changedTouches[0]):I=T.getMouseInfo(E),j((C=I)!==null&&C!==void 0?C:{},E)}}),Ve(T,"handleClick",function(E){var S=T.getMouseInfo(E);if(S){var j=te(te({},S),{},{isTooltipActive:!0});T.setState(j),T.triggerSyncEvent(j);var C=T.props.onClick;Ge(C)&&C(j,E)}}),Ve(T,"handleMouseDown",function(E){var S=T.props.onMouseDown;if(Ge(S)){var j=T.getMouseInfo(E);S(j,E)}}),Ve(T,"handleMouseUp",function(E){var S=T.props.onMouseUp;if(Ge(S)){var j=T.getMouseInfo(E);S(j,E)}}),Ve(T,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ve(T,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&T.handleMouseDown(E.changedTouches[0])}),Ve(T,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&T.handleMouseUp(E.changedTouches[0])}),Ve(T,"handleDoubleClick",function(E){var S=T.props.onDoubleClick;if(Ge(S)){var j=T.getMouseInfo(E);S(j,E)}}),Ve(T,"handleContextMenu",function(E){var S=T.props.onContextMenu;if(Ge(S)){var j=T.getMouseInfo(E);S(j,E)}}),Ve(T,"triggerSyncEvent",function(E){T.props.syncId!==void 0&&A1.emit(N1,T.props.syncId,E,T.eventEmitterSymbol)}),Ve(T,"applySyncEvent",function(E){var S=T.props,j=S.layout,C=S.syncMethod,I=T.state.updateId,k=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)T.setState(te({dataStartIndex:k,dataEndIndex:R},m({props:T.props,dataStartIndex:k,dataEndIndex:R,updateId:I},T.state)));else if(E.activeTooltipIndex!==void 0){var O=E.chartX,$=E.chartY,D=E.activeTooltipIndex,V=T.state,L=V.offset,F=V.tooltipTicks;if(!L)return;if(typeof C=="function")D=C(F,E);else if(C==="value"){D=-1;for(var B=0;B<F.length;B++)if(F[B].value===E.activeLabel){D=B;break}}var U=te(te({},L),{},{x:L.left,y:L.top}),J=Math.min(O,U.x+U.width),Y=Math.min($,U.y+U.height),oe=F[D]&&F[D].value,H=sj(T.state,T.props.data,D),Z=F[D]?{x:j==="horizontal"?F[D].coordinate:J,y:j==="horizontal"?Y:F[D].coordinate}:jW;T.setState(te(te({},E),{},{activeLabel:oe,activeCoordinate:Z,activePayload:H,activeTooltipIndex:D}))}else T.setState(E)}),Ve(T,"renderCursor",function(E){var S,j=T.state,C=j.isTooltipActive,I=j.activeCoordinate,k=j.activePayload,R=j.offset,O=j.activeTooltipIndex,$=j.tooltipAxisBandSize,D=T.getTooltipEventType(),V=(S=E.props.active)!==null&&S!==void 0?S:C,L=T.props.layout,F=E.key||"_recharts-cursor";return z.createElement(I$e,{key:F,activeCoordinate:I,activePayload:k,activeTooltipIndex:O,chartName:r,element:E,isActive:V,layout:L,offset:R,tooltipAxisBandSize:$,tooltipEventType:D})}),Ve(T,"renderPolarAxis",function(E,S,j){var C=mi(E,"type.axisType"),I=mi(T.state,"".concat(C,"Map")),k=E.type.defaultProps,R=k!==void 0?te(te({},k),E.props):E.props,O=I&&I[R["".concat(C,"Id")]];return _.cloneElement(E,te(te({},O),{},{className:it(C,O.className),key:E.key||"".concat(S,"-").concat(j),ticks:gs(O,!0)}))}),Ve(T,"renderPolarGrid",function(E){var S=E.props,j=S.radialLines,C=S.polarAngles,I=S.polarRadius,k=T.state,R=k.radiusAxisMap,O=k.angleAxisMap,$=go(R),D=go(O),V=D.cx,L=D.cy,F=D.innerRadius,B=D.outerRadius;return _.cloneElement(E,{polarAngles:Array.isArray(C)?C:gs(D,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(I)?I:gs($,!0).map(function(U){return U.coordinate}),cx:V,cy:L,innerRadius:F,outerRadius:B,key:E.key||"polar-grid",radialLines:j})}),Ve(T,"renderLegend",function(){var E=T.state.formattedGraphicalItems,S=T.props,j=S.children,C=S.width,I=S.height,k=T.props.margin||{},R=C-(k.left||0)-(k.right||0),O=a7({children:j,formattedGraphicalItems:E,legendWidth:R,legendContent:u});if(!O)return null;var $=O.item,D=i4(O,O$e);return _.cloneElement($,te(te({},D),{},{chartWidth:C,chartHeight:I,margin:k,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Ve(T,"renderTooltip",function(){var E,S=T.props,j=S.children,C=S.accessibilityLayer,I=si(j,Ki);if(!I)return null;var k=T.state,R=k.isTooltipActive,O=k.activeCoordinate,$=k.activePayload,D=k.activeLabel,V=k.offset,L=(E=I.props.active)!==null&&E!==void 0?E:R;return _.cloneElement(I,{viewBox:te(te({},V),{},{x:V.left,y:V.top}),active:L,label:D,payload:L?$:[],coordinate:O,accessibilityLayer:C})}),Ve(T,"renderBrush",function(E){var S=T.props,j=S.margin,C=S.data,I=T.state,k=I.offset,R=I.dataStartIndex,O=I.dataEndIndex,$=I.updateId;return _.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Dv(T.handleBrushChange,E.props.onChange),data:C,x:he(E.props.x)?E.props.x:k.left,y:he(E.props.y)?E.props.y:k.top+k.height+k.brushBottom-(j.bottom||0),width:he(E.props.width)?E.props.width:k.width,startIndex:R,endIndex:O,updateId:"brush-".concat($)})}),Ve(T,"renderReferenceElement",function(E,S,j){if(!E)return null;var C=T,I=C.clipPathId,k=T.state,R=k.xAxisMap,O=k.yAxisMap,$=k.offset,D=E.type.defaultProps||{},V=E.props,L=V.xAxisId,F=L===void 0?D.xAxisId:L,B=V.yAxisId,U=B===void 0?D.yAxisId:B;return _.cloneElement(E,{key:E.key||"".concat(S,"-").concat(j),xAxis:R[F],yAxis:O[U],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:I})}),Ve(T,"renderActivePoints",function(E){var S=E.item,j=E.activePoint,C=E.basePoint,I=E.childIndex,k=E.isRange,R=[],O=S.props.key,$=S.item.type.defaultProps!==void 0?te(te({},S.item.type.defaultProps),S.item.props):S.item.props,D=$.activeDot,V=$.dataKey,L=te(te({index:I,dataKey:V,cx:j.x,cy:j.y,r:4,fill:iP(S.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},We(D,!1)),Rx(D));return R.push(w.renderActiveDot(D,L,"".concat(O,"-activePoint-").concat(I))),C?R.push(w.renderActiveDot(D,te(te({},L),{},{cx:C.x,cy:C.y}),"".concat(O,"-basePoint-").concat(I))):k&&R.push(null),R}),Ve(T,"renderGraphicChild",function(E,S,j){var C=T.filterFormatItem(E,S,j);if(!C)return null;var I=T.getTooltipEventType(),k=T.state,R=k.isTooltipActive,O=k.tooltipAxis,$=k.activeTooltipIndex,D=k.activeLabel,V=T.props.children,L=si(V,Ki),F=C.props,B=F.points,U=F.isRange,J=F.baseLine,Y=C.item.type.defaultProps!==void 0?te(te({},C.item.type.defaultProps),C.item.props):C.item.props,oe=Y.activeDot,H=Y.hide,Z=Y.activeBar,ye=Y.activeShape,ue=!!(!H&&R&&L&&(oe||Z||ye)),$e={};I!=="axis"&&L&&L.props.trigger==="click"?$e={onClick:Dv(T.handleItemMouseEnter,E.props.onClick)}:I!=="axis"&&($e={onMouseLeave:Dv(T.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Dv(T.handleItemMouseEnter,E.props.onMouseEnter)});var ie=_.cloneElement(E,te(te({},C.props),$e));function ve(q){return typeof O.dataKey=="function"?O.dataKey(q.payload):null}if(ue)if($>=0){var xe,X;if(O.dataKey&&!O.allowDuplicatedCategory){var Ze=typeof O.dataKey=="function"?ve:"payload.".concat(O.dataKey.toString());xe=RE(B,Ze,D),X=U&&J&&RE(J,Ze,D)}else xe=B==null?void 0:B[$],X=U&&J&&J[$];if(ye||Z){var Le=E.props.activeIndex!==void 0?E.props.activeIndex:$;return[_.cloneElement(E,te(te(te({},C.props),$e),{},{activeIndex:Le})),null,null]}if(!ct(xe))return[ie].concat(mf(T.renderActivePoints({item:C,activePoint:xe,basePoint:X,childIndex:$,isRange:U})))}else{var Tt,jt=(Tt=T.getItemByXY(T.state.activeCoordinate))!==null&&Tt!==void 0?Tt:{graphicalItem:ie},qt=jt.graphicalItem,Un=qt.item,un=Un===void 0?E:Un,Ya=qt.childIndex,ti=te(te(te({},C.props),$e),{},{activeIndex:Ya});return[_.cloneElement(un,ti),null,null]}return U?[ie,null,null]:[ie,null]}),Ve(T,"renderCustomized",function(E,S,j){return _.cloneElement(E,te(te({key:"recharts-customized-".concat(j)},T.props),T.state))}),Ve(T,"renderMap",{CartesianGrid:{handler:Bv,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Bv},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Bv},YAxis:{handler:Bv},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:jg("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=nq(T.triggeredAfterMouseMove,(N=x.throttleDelay)!==null&&N!==void 0?N:1e3/60),T.state={},T}return q$e(w,y),V$e(w,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,T=b.data,E=b.height,S=b.layout,j=si(N,Ki);if(j){var C=j.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,k=sj(this.state,T,C,I),R=this.state.tooltipTicks[C].coordinate,O=(this.state.offset.top+E)/2,$=S==="horizontal",D=$?{x:R,y:O}:{y:R,x:O},V=this.state.formattedGraphicalItems.find(function(F){var B=F.item;return B.type.name==="Scatter"});V&&(D=te(te({},D),V.props.points[C].tooltipPosition),k=V.props.points[C].tooltipPayload);var L={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:I,activePayload:k,activeCoordinate:D};this.setState(L),this.renderCursor(j),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var T,E;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){DE([si(b.children,Ki)],[si(this.props.children,Ki)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=si(this.props.children,Ki);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return o.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,T=N.getBoundingClientRect(),E=sTe(T),S={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},j=T.width/N.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,j);if(!C)return null;var I=this.state,k=I.xAxisMap,R=I.yAxisMap,O=this.getTooltipEventType(),$=s4(this.state,this.props.data,this.props.layout,C);if(O!=="axis"&&k&&R){var D=go(k).scale,V=go(R).scale,L=D&&D.invert?D.invert(S.chartX):null,F=V&&V.invert?V.invert(S.chartY):null;return te(te({},S),{},{xValue:L,yValue:F},$)}return $?te(te({},S),$):null}},{key:"inRange",value:function(b,N){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,S=b/T,j=N/T;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,I=S>=C.left&&S<=C.left+C.width&&j>=C.top&&j<=C.top+C.height;return I?{x:S,y:j}:null}var k=this.state,R=k.angleAxisMap,O=k.radiusAxisMap;if(R&&O){var $=go(R);return RD({x:S,y:j},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),T=si(b,Ki),E={};T&&N==="axis"&&(T.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Rx(this.props,this.handleOuterEvent);return te(te({},S),E)}},{key:"addListener",value:function(){A1.on(N1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){A1.removeListener(N1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,T){for(var E=this.state.formattedGraphicalItems,S=0,j=E.length;S<j;S++){var C=E[S];if(C.item===b||C.props.key===b.key||N===xs(C.item.type)&&T===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,T=N.left,E=N.top,S=N.height,j=N.width;return z.createElement("defs",null,z.createElement("clipPath",{id:b},z.createElement("rect",{x:T,y:E,height:S,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,T){var E=n4(T,2),S=E[0],j=E[1];return te(te({},N),{},Ve({},S,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,T){var E=n4(T,2),S=E[0],j=E[1];return te(te({},N),{},Ve({},S,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,T=N.formattedGraphicalItems,E=N.activeItem;if(T&&T.length)for(var S=0,j=T.length;S<j;S++){var C=T[S],I=C.props,k=C.item,R=k.type.defaultProps!==void 0?te(te({},k.type.defaultProps),k.props):k.props,O=xs(k.type);if(O==="Bar"){var $=(I.data||[]).find(function(F){return UOe(b,F)});if($)return{graphicalItem:C,payload:$}}else if(O==="RadialBar"){var D=(I.data||[]).find(function(F){return RD(b,F)});if(D)return{graphicalItem:C,payload:D}}else if(Cw(C,E)||Pw(C,E)||Vm(C,E)){var V=P2e({graphicalItem:C,activeTooltipItem:E,itemData:R.data}),L=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:te(te({},C),{},{childIndex:L}),payload:Vm(C,E)?R.data[V]:C.props.data[V]}}}return null}},{key:"render",value:function(){var b=this;if(!TR(this))return null;var N=this.props,T=N.children,E=N.className,S=N.width,j=N.height,C=N.style,I=N.compact,k=N.title,R=N.desc,O=i4(N,k$e),$=We(O,!1);if(I)return z.createElement(U$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(LE,zu({},$,{width:S,height:j,title:k,desc:R}),this.renderClipPath(),AR(T,this.renderMap)));if(this.props.accessibilityLayer){var D,V;$.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,$.role=(V=this.props.role)!==null&&V!==void 0?V:"application",$.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},$.onFocus=function(){b.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return z.createElement(U$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",zu({className:it("recharts-wrapper",E),style:te({position:"relative",cursor:"default",width:S,height:j},C)},L,{ref:function(B){b.container=B}}),z.createElement(LE,zu({},$,{width:S,height:j,title:k,desc:R,style:Y$e}),this.renderClipPath(),AR(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Ve(v,"displayName",r),Ve(v,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ve(v,"getDerivedStateFromProps",function(y,w){var x=y.dataKey,b=y.data,N=y.children,T=y.width,E=y.height,S=y.layout,j=y.stackOffset,C=y.margin,I=w.dataStartIndex,k=w.dataEndIndex;if(w.updateId===void 0){var R=o4(y);return te(te(te({},R),{},{updateId:0},m(te(te({props:y},R),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:b,prevWidth:T,prevHeight:E,prevLayout:S,prevStackOffset:j,prevMargin:C,prevChildren:N})}if(x!==w.prevDataKey||b!==w.prevData||T!==w.prevWidth||E!==w.prevHeight||S!==w.prevLayout||j!==w.prevStackOffset||!cd(C,w.prevMargin)){var O=o4(y),$={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},D=te(te({},s4(w,b,S)),{},{updateId:w.updateId+1}),V=te(te(te({},O),$),D);return te(te(te({},V),m(te({props:y},V),w)),{},{prevDataKey:x,prevData:b,prevWidth:T,prevHeight:E,prevLayout:S,prevStackOffset:j,prevMargin:C,prevChildren:N})}if(!DE(N,w.prevChildren)){var L,F,B,U,J=si(N,sf),Y=J&&(L=(F=J.props)===null||F===void 0?void 0:F.startIndex)!==null&&L!==void 0?L:I,oe=J&&(B=(U=J.props)===null||U===void 0?void 0:U.endIndex)!==null&&B!==void 0?B:k,H=Y!==I||oe!==k,Z=!ct(b),ye=Z&&!H?w.updateId:w.updateId+1;return te(te({updateId:ye},m(te(te({props:y},w),{},{updateId:ye,dataStartIndex:Y,dataEndIndex:oe}),w)),{},{prevChildren:N,dataStartIndex:Y,dataEndIndex:oe})}return null}),Ve(v,"renderActiveDot",function(y,w,x){var b;return _.isValidElement(y)?b=_.cloneElement(y,w):Ge(y)?b=y(w):b=z.createElement(sP,w),z.createElement(It,{className:"recharts-active-dot",key:x},b)});var g=_.forwardRef(function(w,x){return z.createElement(v,zu({},w,{ref:x}))});return g.displayName=v.displayName,g},s4e=NW({chartName:"BarChart",GraphicalChild:hl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Dw},{axisType:"yAxis",AxisComp:$w}],formatAxisMap:lMe}),o4e=NW({chartName:"PieChart",GraphicalChild:Hs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nw},{axisType:"radiusAxis",AxisComp:jw}],formatAxisMap:rPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function l4e({incomes:t,expenses:e}){const[r,n]=_.useState("6-months"),i=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),s=(()=>{const c=r==="6-months"?6:12,u=new Date,d=[];for(let f=c-1;f>=0;f--){const h=new Date(u.getFullYear(),u.getMonth()-f,1),m=`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`,v=t.filter(x=>{const b=new Date(x.data);return`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`===m&&x.status==="recebido"}),g=e.filter(x=>{const b=new Date(x.data);return`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`===m&&x.status==="pago"}),y=v.reduce((x,b)=>x+b.valor,0),w=g.reduce((x,b)=>x+b.valor,0);d.push({month:h.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),receitas:y,gastos:w,saldo:y-w})}return d})(),o=({active:c,payload:u,label:d})=>c&&u&&u.length?l.jsxs("div",{className:"bg-card p-3 border border-border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-medium text-foreground mb-2",children:d}),u.map((f,h)=>l.jsxs("p",{className:"text-sm",style:{color:f.color},children:[f.name,": ",i(f.value)]},h)),l.jsx("hr",{className:"my-2"}),l.jsxs("p",{className:"text-sm font-medium",children:["Saldo: ",i(u[0].payload.saldo)]})]}):null;return l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(yt,{className:"text-lg font-semibold text-foreground",children:"Receitas vs Gastos"}),l.jsxs(Je,{value:r,onValueChange:n,children:[l.jsx(Ye,{className:"w-36",children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"6-months",children:"ltimos 6 meses"}),l.jsx(ge,{value:"12-months",children:"ltimos 12 meses"})]})]})]})}),l.jsxs(Oe,{children:[l.jsx("div",{className:"h-64",children:l.jsx(iq,{width:"100%",height:"100%",children:l.jsxs(s4e,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[l.jsx(hW,{strokeDasharray:"3 3"}),l.jsx(Dw,{dataKey:"month",tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"}}),l.jsx($w,{tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"},tickFormatter:c=>i(c)}),l.jsx(Ki,{content:l.jsx(o,{})}),l.jsx(mc,{}),l.jsx(hl,{dataKey:"receitas",name:"Receitas",fill:"#10b981",radius:[2,2,0,0]}),l.jsx(hl,{dataKey:"gastos",name:"Gastos",fill:"#ef4444",radius:[2,2,0,0]})]})})}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Receitas"}),l.jsx("p",{className:"text-lg font-bold text-green-600",children:i(s.reduce((c,u)=>c+u.receitas,0))})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Gastos"}),l.jsx("p",{className:"text-lg font-bold text-red-600",children:i(s.reduce((c,u)=>c+u.gastos,0))})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Perodo"}),l.jsx("p",{className:`text-lg font-bold ${s.reduce((c,u)=>c+u.saldo,0)>=0?"text-green-600":"text-red-600"}`,children:i(s.reduce((c,u)=>c+u.saldo,0))})]})]})]})]})}function c4({expenses:t,categories:e,title:r="Gastos por Categoria"}){const n=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),i=t.reduce((d,f)=>{const h=e.find(g=>g.id===f.categoria),m=(h==null?void 0:h.nome)||"Sem categoria",v=(h==null?void 0:h.cor)||"#64748b";return d[m]||(d[m]={name:m,value:0,color:v,count:0}),d[m].value+=f.valor,d[m].count+=1,d},{}),a=Object.values(i).sort((d,f)=>f.value-d.value),s=a.reduce((d,f)=>d+f.value,0),o=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"],c=({active:d,payload:f})=>{if(d&&f&&f.length){const h=f[0].payload,m=(h.value/s*100).toFixed(1);return l.jsxs("div",{className:"bg-card p-3 border border-border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-medium text-foreground",children:h.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[n(h.value)," (",m,"%)"]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.count," transaes"]})]})}return null},u=({cx:d,cy:f,midAngle:h,innerRadius:m,outerRadius:v,percent:g})=>{if(g<.05)return null;const y=Math.PI/180,w=m+(v-m)*.5,x=d+w*Math.cos(-h*y),b=f+w*Math.sin(-h*y);return l.jsx("text",{x,y:b,fill:"white",textAnchor:x>d?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(g*100).toFixed(0)}%`})};return a.length===0?l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center",children:[l.jsx(gy,{className:"w-5 h-5 mr-2"}),r]})}),l.jsx(Oe,{children:l.jsx("div",{className:"h-64 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gy,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Nenhum dado disponvel"})]})})})]}):l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center",children:[l.jsx(gy,{className:"w-5 h-5 mr-2"}),r]})}),l.jsxs(Oe,{children:[l.jsx("div",{className:"h-64",children:l.jsx(iq,{width:"100%",height:"100%",children:l.jsxs(o4e,{children:[l.jsx(Hs,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:u,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((d,f)=>l.jsx(dw,{fill:d.color||o[f%o.length]},`cell-${f}`))}),l.jsx(Ki,{content:l.jsx(c,{})})]})})}),l.jsxs("div",{className:"mt-4 space-y-2",children:[a.slice(0,5).map((d,f)=>{const h=(d.value/s*100).toFixed(1);return l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.color||o[f%o.length]}}),l.jsx("span",{className:"text-foreground",children:d.name})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-medium text-foreground",children:n(d.value)}),l.jsxs("div",{className:"text-muted-foreground",children:[h,"%"]})]})]},f)}),a.length>5&&l.jsxs("div",{className:"text-sm text-muted-foreground text-center pt-2 border-t",children:["+ ",a.length-5," outras categorias"]})]})]})]})}const CW=_.forwardRef(({className:t,...e},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:Se("w-full caption-bottom text-sm",t),...e})}));CW.displayName="Table";const PW=_.forwardRef(({className:t,...e},r)=>l.jsx("thead",{ref:r,className:Se("[&_tr]:border-b",t),...e}));PW.displayName="TableHeader";const IW=_.forwardRef(({className:t,...e},r)=>l.jsx("tbody",{ref:r,className:Se("[&_tr:last-child]:border-0",t),...e}));IW.displayName="TableBody";const c4e=_.forwardRef(({className:t,...e},r)=>l.jsx("tfoot",{ref:r,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));c4e.displayName="TableFooter";const oj=_.forwardRef(({className:t,...e},r)=>l.jsx("tr",{ref:r,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));oj.displayName="TableRow";const Ul=_.forwardRef(({className:t,...e},r)=>l.jsx("th",{ref:r,className:Se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ul.displayName="TableHead";const zl=_.forwardRef(({className:t,...e},r)=>l.jsx("td",{ref:r,className:Se("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));zl.displayName="TableCell";const u4e=_.forwardRef(({className:t,...e},r)=>l.jsx("caption",{ref:r,className:Se("mt-4 text-sm text-muted-foreground",t),...e}));u4e.displayName="TableCaption";function d4e(){const[t,e]=_.useState(0),{user:r}=Fr(),{data:n,isLoading:i}=$t({queryKey:["/api/forecast"],enabled:!!r});_.useEffect(()=>{if(n&&n.forecast.length>0){const v=(n.historyMonths||[]).length;e(v)}},[n]);const a=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),s=v=>v<0?"text-red-600":v<1e3?"text-yellow-600":"text-green-600",o=v=>v>0?l.jsx(nd,{className:"h-4 w-4 text-green-600"}):v<0?l.jsx(Gp,{className:"h-4 w-4 text-red-600"}):null;if(i)return l.jsxs(Ie,{children:[l.jsxs(vt,{children:[l.jsx(yt,{children:"Previso de Saldo"}),l.jsx(cp,{children:"Carregando previso..."})]}),l.jsx(Oe,{children:l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]});if(!n)return l.jsx(Ie,{children:l.jsxs(vt,{children:[l.jsx(yt,{children:"Previso de Saldo"}),l.jsx(cp,{children:"Erro ao carregar dados da previso"})]})});const c=[...n.historyMonths||[],...n.forecast||[]],u=c.length,d=(n.historyMonths||[]).length,f=c[t],h=t===d,m=t<d;return l.jsxs(Ie,{children:[l.jsxs(vt,{children:[l.jsx(yt,{children:"Previso de Saldo Futuro"}),l.jsx(cp,{children:"Projeo de 24 meses baseada no saldo atual dos bancos, receitas pendentes e gastos que afetam o saldo bancrio (PIX, transferncias, boletos e faturas de carto)"})]}),l.jsxs(Oe,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Saldo Atual (Bancos)"}),l.jsx("div",{className:`text-xl font-bold ${s(n.currentBalance)}`,children:a(n.currentBalance)})]}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Receitas a Receber"}),l.jsx("div",{className:"text-xl font-bold text-green-600",children:a((f==null?void 0:f.income)||0)})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Gastos Pendentes"}),l.jsx("div",{className:"text-xl font-bold text-red-600",children:a((f==null?void 0:f.expenses)||0)})]}),l.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Faturas Pendentes"}),l.jsx("div",{className:"text-xl font-bold text-orange-600",children:a((f==null?void 0:f.invoices)||0)})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg mb-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Clculo da Previso:"}),l.jsxs("div",{className:"text-sm font-mono",children:[l.jsx("span",{className:"text-blue-600",children:a((f==null?void 0:f.startingBalance)||0)}),l.jsx("span",{className:"text-gray-600",children:" + "}),l.jsx("span",{className:"text-green-600",children:a((f==null?void 0:f.income)||0)}),l.jsx("span",{className:"text-gray-600",children:" - "}),l.jsx("span",{className:"text-red-600",children:a((f==null?void 0:f.expenses)||0)}),l.jsx("span",{className:"text-gray-600",children:" - "}),l.jsx("span",{className:"text-orange-600",children:a((f==null?void 0:f.invoices)||0)}),l.jsx("span",{className:"text-gray-600",children:" = "}),l.jsx("span",{className:`font-bold ${s((f==null?void 0:f.endingBalance)||0)}`,children:a((f==null?void 0:f.endingBalance)||0)})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(le,{variant:"outline",size:"sm",onClick:()=>e(Math.max(0,t-1)),disabled:t===0,children:[l.jsx(cN,{className:"h-4 w-4"}),"Anterior"]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold",children:f==null?void 0:f.monthName}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Ms ",t+1," de ",u]}),l.jsx("div",{className:"text-xs text-gray-400",children:m?"Histrico":h?"Atual":"Previso"})]}),l.jsxs(le,{variant:"outline",size:"sm",onClick:()=>e(Math.min(u-1,t+1)),disabled:t===u-1,children:["Prximo",l.jsx(Sb,{className:"h-4 w-4"})]})]}),f&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Receitas a Receber"}),l.jsx("div",{className:"text-lg font-semibold text-green-600",children:a(f.income)})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Gastos Bancrios"}),l.jsx("div",{className:"text-lg font-semibold text-red-600",children:a(f.expenses)})]}),l.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Faturas Pendentes"}),l.jsx("div",{className:"text-lg font-semibold text-orange-600",children:a(f.invoices)})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Saldo Previsto"}),l.jsxs("div",{className:`text-lg font-semibold flex items-center gap-1 ${s(f.endingBalance||0)}`,children:[o(f.netChange),a(f.endingBalance||0)]})]})]}),l.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[l.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Resumo do Ms"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{children:["Saldo inicial: ",a(f.startingBalance||0)]}),l.jsxs("span",{className:f.netChange>=0?"text-green-600":"text-red-600",children:[f.netChange>=0?"+":"",a(f.netChange)]}),l.jsxs("span",{children:["= ",a(f.endingBalance||0)]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Previso Completa"}),l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs(CW,{children:[l.jsx(PW,{children:l.jsxs(oj,{children:[l.jsx(Ul,{children:"Ms"}),l.jsx(Ul,{className:"text-right",children:"Saldo Inicial"}),l.jsx(Ul,{className:"text-right",children:"Receitas a Receber"}),l.jsx(Ul,{className:"text-right",children:"Gastos Bancrios"}),l.jsx(Ul,{className:"text-right",children:"Faturas Pendentes"}),l.jsx(Ul,{className:"text-right",children:"Saldo Previsto"})]})}),l.jsx(IW,{children:c.map((v,g)=>{const y=g<d,w=g===d,x=t===g;return l.jsxs(oj,{className:`${x?"bg-blue-50 dark:bg-blue-900/20":""} ${y?"bg-gray-50 dark:bg-gray-800/30":""} ${w?"bg-yellow-50 dark:bg-yellow-900/20":""}`,children:[l.jsx(zl,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[v.monthName,y&&l.jsx(nt,{variant:"outline",className:"text-xs",children:"Histrico"}),w&&l.jsx(nt,{variant:"outline",className:"text-xs bg-[#b58910]",children:"Atual"}),!y&&!w&&l.jsx(nt,{variant:"outline",className:"text-xs bg-[#2d71c4]",children:"Previso"})]})}),l.jsx(zl,{className:"text-right",children:a(v.startingBalance||0)}),l.jsx(zl,{className:"text-right text-green-600",children:a(v.income)}),l.jsx(zl,{className:"text-right text-red-600",children:a(v.expenses)}),l.jsx(zl,{className:"text-right text-orange-600",children:a(v.invoices)}),l.jsx(zl,{className:`text-right font-semibold ${s(v.endingBalance||0)}`,children:a(v.endingBalance||0)})]},v.month)})})]})})]})]})]})}function f4e(){const[t,e]=_.useState(!1),[r,n]=_.useState("current-month"),[i,a]=_.useState("all"),{user:s}=Fr(),{data:o=[]}=$t({queryKey:["/api/expenses"],enabled:!!s}),{data:c=[]}=$t({queryKey:["/api/incomes"],enabled:!!s});$t({queryKey:["/api/banks"],enabled:!!s}),$t({queryKey:["/api/credit-cards"],enabled:!!s});const{data:u=[]}=$t({queryKey:["/api/categories"],enabled:!!s}),d=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S),f=()=>{const S=new Date;let j,C=new Date(S.getFullYear(),S.getMonth()+1,0);switch(r){case"current-month":j=new Date(S.getFullYear(),S.getMonth(),1);break;case"last-month":j=new Date(S.getFullYear(),S.getMonth()-1,1),C=new Date(S.getFullYear(),S.getMonth(),0);break;case"last-3-months":j=new Date(S.getFullYear(),S.getMonth()-2,1);break;case"last-6-months":j=new Date(S.getFullYear(),S.getMonth()-5,1);break;case"current-year":j=new Date(S.getFullYear(),0,1),C=new Date(S.getFullYear(),11,31);break;default:j=new Date(S.getFullYear(),S.getMonth(),1)}const I=c.filter(R=>{const O=new Date(R.data);return O>=j&&O<=C});let k=o.filter(R=>{const O=new Date(R.data);return O>=j&&O<=C});return i!=="all"&&(k=k.filter(R=>R.categoria===i)),{filteredIncomes:I,filteredExpenses:k}},{filteredIncomes:h,filteredExpenses:m}=f(),v=h.filter(S=>S.status==="recebido").reduce((S,j)=>S+j.valor,0),g=h.filter(S=>S.status==="pendente").reduce((S,j)=>S+j.valor,0),y=m.filter(S=>S.status==="pago").reduce((S,j)=>S+j.valor,0),w=m.filter(S=>S.status==="pendente").reduce((S,j)=>S+j.valor,0),x=v+g,b=y+w,N=x-b,T=m.reduce((S,j)=>{const C=j.categoria||"Sem categoria";return S[C]||(S[C]=0),S[C]+=j.valor,S},{});Object.entries(T).map(([S,j])=>({category:S,amount:j,percentage:b>0?j/b*100:0})).sort((S,j)=>j.amount-S.amount);const E=m.reduce((S,j)=>{const C=j.metodoPagamento||"Outros";return S[C]||(S[C]=0),S[C]+=j.valor,S},{});return Object.entries(E).map(([S,j])=>({method:S,amount:j,percentage:b>0?j/b*100:0})).sort((S,j)=>j.amount-S.amount),l.jsxs("div",{className:"min-h-screen bg-muted",children:[l.jsx(Zc,{onMenuToggle:()=>e(!0)}),l.jsx(Xc,{isOpen:t,onClose:()=>e(!1)}),l.jsxs("main",{className:"lg:ml-64 pt-16 lg:pt-0",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Relatrios"}),l.jsx("p",{className:"text-blue-100 mt-1 text-sm sm:text-base",children:"Anlise detalhada das suas finanas"})]}),l.jsxs(le,{className:"bg-card bg-opacity-20 hover:bg-opacity-30 w-full sm:w-auto",children:[l.jsx(mie,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsx(Ie,{className:"mb-6",children:l.jsx(Oe,{className:"p-4",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Perodo"}),l.jsxs(Je,{value:r,onValueChange:n,children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"current-month",children:"Ms Atual"}),l.jsx(ge,{value:"last-month",children:"Ms Anterior"}),l.jsx(ge,{value:"last-3-months",children:"ltimos 3 Meses"}),l.jsx(ge,{value:"last-6-months",children:"ltimos 6 Meses"}),l.jsx(ge,{value:"current-year",children:"Ano Atual"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Categoria"}),l.jsxs(Je,{value:i,onValueChange:a,children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"all",children:"Todas as Categorias"}),u.map(S=>l.jsx(ge,{value:S.id,children:S.nome},S.id))]})]})]}),l.jsx("div",{className:"flex items-end sm:col-span-2 lg:col-span-1",children:l.jsxs(le,{variant:"outline",className:"w-full",onClick:()=>{n(S=>S)},children:[l.jsx(dN,{className:"w-4 h-4 mr-2"}),"Aplicar Filtros"]})})]})})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[l.jsx(Ie,{children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recebido"}),l.jsx("p",{className:"text-2xl font-bold text-secondary",children:d(v)})]}),l.jsx("div",{className:"bg-secondary bg-opacity-10 p-3 rounded-lg",children:l.jsx(nd,{className:"text-secondary w-6 h-6"})})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"A Receber"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d(g)})]}),l.jsx("div",{className:"bg-blue-500 bg-opacity-10 p-3 rounded-lg",children:l.jsx(g2,{className:"text-blue-500 w-6 h-6"})})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pago"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:d(y)})]}),l.jsx("div",{className:"bg-red-500 bg-opacity-10 p-3 rounded-lg",children:l.jsx(Gp,{className:"text-red-500 w-6 h-6"})})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"A Pagar"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:d(w)})]}),l.jsx("div",{className:"bg-orange-500 bg-opacity-10 p-3 rounded-lg",children:l.jsx(g2,{className:"text-orange-500 w-6 h-6"})})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Saldo"}),l.jsx("p",{className:`text-2xl font-bold ${N>=0?"text-secondary":"text-red-600"}`,children:d(N)})]}),l.jsx("div",{className:`${N>=0?"bg-secondary":"bg-red-500"} bg-opacity-10 p-3 rounded-lg`,children:l.jsx(fi,{className:`${N>=0?"text-secondary":"text-red-500"} w-6 h-6`})})]})})}),l.jsx(Ie,{children:l.jsx(Oe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transaes"}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length+m.length})]}),l.jsx("div",{className:"bg-muted bg-opacity-10 p-3 rounded-lg",children:l.jsx(gy,{className:"text-muted-foreground w-6 h-6"})})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[l.jsx(c4,{expenses:m,categories:u,title:`Gastos por Categoria - ${r==="current-month"?"Ms Atual":r==="last-month"?"Ms Anterior":r==="last-3-months"?"ltimos 3 Meses":r==="last-6-months"?"ltimos 6 Meses":"Ano Atual"}`}),l.jsx(c4,{expenses:m.map(S=>({...S,categoria:S.metodoPagamento})),categories:[{id:"dinheiro",nome:"Dinheiro",cor:"#3b82f6"},{id:"debito",nome:"Dbito",cor:"#ef4444"},{id:"credito",nome:"Crdito",cor:"#10b981"},{id:"pix",nome:"PIX",cor:"#f59e0b"},{id:"transferencia",nome:"Transferncia",cor:"#8b5cf6"},{id:"boleto",nome:"Boleto",cor:"#06b6d4"}],title:`Gastos por Mtodo de Pagamento - ${r==="current-month"?"Ms Atual":r==="last-month"?"Ms Anterior":r==="last-3-months"?"ltimos 3 Meses":r==="last-6-months"?"ltimos 6 Meses":"Ano Atual"}`})]}),l.jsx("div",{className:"mb-8",children:l.jsx(l4e,{incomes:h,expenses:m})}),l.jsx(d4e,{})]})]})]})}var gP="Tabs",[h4e,X4e]=cn(gP,[Df]),OW=Df(),[p4e,vP]=h4e(gP),kW=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:c="automatic",...u}=t,d=yg(o),[f,h]=Ua({prop:n,onChange:i,defaultProp:a});return l.jsx(p4e,{scope:r,baseId:Ma(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:l.jsx(Me.div,{dir:d,"data-orientation":s,...u,ref:e})})});kW.displayName=gP;var RW="TabsList",MW=_.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=vP(RW,r),s=OW(r);return l.jsx(XN,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:l.jsx(Me.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});MW.displayName=RW;var DW="TabsTrigger",$W=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=vP(DW,r),o=OW(r),c=VW(s.baseId,n),u=BW(s.baseId,n),d=n===s.value;return l.jsx(ZN,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:pe(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(n)})})})});$W.displayName=DW;var LW="TabsContent",FW=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,o=vP(LW,r),c=VW(o.baseId,n),u=BW(o.baseId,n),d=n===o.value,f=_.useRef(d);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(xi,{present:i||d,children:({present:h})=>l.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});FW.displayName=LW;function VW(t,e){return`${t}-trigger-${e}`}function BW(t,e){return`${t}-content-${e}`}var m4e=kW,UW=MW,zW=$W,qW=FW;const g4e=m4e,WW=_.forwardRef(({className:t,...e},r)=>l.jsx(UW,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));WW.displayName=UW.displayName;const qh=_.forwardRef(({className:t,...e},r)=>l.jsx(zW,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));qh.displayName=zW.displayName;const Wh=_.forwardRef(({className:t,...e},r)=>l.jsx(qW,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Wh.displayName=qW.displayName;var v4e="Separator",u4="horizontal",y4e=["horizontal","vertical"],HW=_.forwardRef((t,e)=>{const{decorative:r,orientation:n=u4,...i}=t,a=x4e(n)?n:u4,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(Me.div,{"data-orientation":a,...o,...i,ref:e})});HW.displayName=v4e;function x4e(t){return y4e.includes(t)}var GW=HW;const _y=_.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>l.jsx(GW,{ref:i,decorative:r,orientation:e,className:Se("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));_y.displayName=GW.displayName;var yP="Avatar",[b4e,Z4e]=cn(yP),[w4e,KW]=b4e(yP),QW=_.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=_.useState("idle");return l.jsx(w4e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Me.span,{...n,ref:e})})});QW.displayName=yP;var YW="AvatarImage",XW=_.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,s=KW(YW,r),o=_4e(n,a),c=on(u=>{i(u),s.onImageLoadingStatusChange(u)});return $r(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Me.img,{...a,ref:e,src:n}):null});XW.displayName=YW;var ZW="AvatarFallback",JW=_.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=KW(ZW,r),[s,o]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&a.imageLoadingStatus!=="loaded"?l.jsx(Me.span,{...i,ref:e}):null});JW.displayName=ZW;function d4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _4e(t,{referrerPolicy:e,crossOrigin:r}){const n=E4e(),i=_.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[s,o]=_.useState(()=>d4(a,t));return $r(()=>{o(d4(a,t))},[a,t]),$r(()=>{const c=f=>()=>{o(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,e]),s}function S4e(){return()=>{}}function E4e(){return _.useSyncExternalStore(S4e,()=>!0,()=>!1)}var eH=QW,tH=XW,rH=JW;const nH=_.forwardRef(({className:t,...e},r)=>l.jsx(eH,{ref:r,className:Se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));nH.displayName=eH.displayName;const iH=_.forwardRef(({className:t,...e},r)=>l.jsx(tH,{ref:r,className:Se("aspect-square h-full w-full",t),...e}));iH.displayName=tH.displayName;const aH=_.forwardRef(({className:t,...e},r)=>l.jsx(rH,{ref:r,className:Se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));aH.displayName=rH.displayName;function T4e(){var F,B;const{user:t}=Fr(),{theme:e,setTheme:r}=tB(),{toast:n}=vr(),[i,a]=_.useState(!1),[s,o]=_.useState("profile"),[c,u]=_.useState(!1),[d,f]=_.useState(null),[h,m]=_.useState({nome:"",cor:"#3b82f6",tipo:"despesa"}),[v,g]=_.useState(!1),[y,w]=_.useState(null),[x,b]=_.useState(""),[N,T]=_.useState("");_.useEffect(()=>{t!=null&&t.displayName&&T(t.displayName)},[t==null?void 0:t.displayName]);const{data:E=[]}=$t({queryKey:["/api/categories"]}),{data:S=[]}=$t({queryKey:["/api/category-goals"]}),j=mr({mutationFn:U=>Zt("POST","/api/categories",U),onSuccess:()=>{Co.invalidateQueries({queryKey:["/api/categories"]}),m({nome:"",cor:"#3b82f6",tipo:"despesa"}),n({title:"Categoria criada com sucesso!"})}}),C=mr({mutationFn:({id:U,...J})=>Zt("PUT",`/api/categories/${U}`,J),onSuccess:()=>{Co.invalidateQueries({queryKey:["/api/categories"]}),u(!1),f(null),n({title:"Categoria atualizada com sucesso!"})}}),I=mr({mutationFn:U=>Zt("DELETE",`/api/categories/${U}`),onSuccess:()=>{Co.invalidateQueries({queryKey:["/api/categories"]}),n({title:"Categoria excluda com sucesso!"})}}),k=mr({mutationFn:U=>Zt("POST","/api/category-goals",U),onSuccess:()=>{Co.invalidateQueries({queryKey:["/api/category-goals"]}),g(!1),w(null),b(""),n({title:"Meta criada com sucesso!"})}}),R=()=>{h.nome&&j.mutate(h)},O=()=>{d&&C.mutate(d)},$=U=>{confirm(`Tem certeza que deseja excluir a categoria "${U.nome}"?`)&&I.mutate(U.id)},D=()=>{!y||!x||k.mutate({categoryId:y.id,type:y.tipo==="receita"?"income":"expense",monthlyGoal:parseFloat(x),isActive:!0})},V=U=>S.find(J=>J.categoryId===U),L=U=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U);return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Zc,{onMenuToggle:()=>a(!i)}),l.jsx(Xc,{isOpen:i,onClose:()=>a(!1)}),l.jsx("div",{className:"lg:ml-64 pt-16 lg:pt-0",children:l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("div",{className:"h-full flex flex-col lg:flex-row",children:l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs("div",{className:"p-4 lg:p-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"hidden lg:block mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[l.jsx(h6,{className:"w-8 h-8"}),"Configuraes"]}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Gerencie sua conta, preferncias e configuraes do sistema"})]}),l.jsxs(g4e,{value:s,onValueChange:o,className:"space-y-6",children:[l.jsxs(WW,{className:"grid w-full grid-cols-2 lg:grid-cols-4",children:[l.jsxs(qh,{value:"profile",className:"flex items-center gap-2",children:[l.jsx(S2,{className:"w-4 h-4"}),"Perfil"]}),l.jsxs(qh,{value:"appearance",className:"flex items-center gap-2",children:[l.jsx(b2,{className:"w-4 h-4"}),"Aparncia"]}),l.jsxs(qh,{value:"categories",className:"flex items-center gap-2",children:[l.jsx(y2,{className:"w-4 h-4"}),"Categorias"]}),l.jsxs(qh,{value:"goals",className:"flex items-center gap-2",children:[l.jsx(rd,{className:"w-4 h-4"}),"Metas"]})]}),l.jsxs(Wh,{value:"profile",className:"space-y-6",children:[l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(S2,{className:"w-5 h-5"}),"Informaes do Perfil"]})}),l.jsxs(Oe,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs(nH,{className:"w-20 h-20",children:[l.jsx(iH,{src:(t==null?void 0:t.photoURL)||""}),l.jsx(aH,{className:"text-lg",children:((F=t==null?void 0:t.displayName)==null?void 0:F.charAt(0))||((B=t==null?void 0:t.email)==null?void 0:B.charAt(0))||"U"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(le,{variant:"outline",size:"sm",children:[l.jsx(cie,{className:"w-4 h-4 mr-2"}),"Alterar Foto"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Recomendado: 400x400px, mximo 2MB"})]})]}),l.jsx(_y,{}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"name",children:"Nome Completo"}),l.jsx(Be,{id:"name",value:N,onChange:U=>T(U.target.value),placeholder:"Seu nome completo"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"email",children:"E-mail"}),l.jsx(Be,{id:"email",value:(t==null?void 0:t.email)||"",readOnly:!0,className:"bg-muted"})]})]}),l.jsxs(le,{className:"w-full md:w-auto",children:[l.jsx(_ie,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]})]})]}),l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(lie,{className:"w-5 h-5"}),"Notificaes"]})}),l.jsxs(Oe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Notificaes por E-mail"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba resumos e alertas importantes"})]}),l.jsx(fp,{})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Lembretes de Vencimento"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas sobre contas prximas do vencimento"})]}),l.jsx(fp,{defaultChecked:!0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Relatrios Mensais"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Resumo automtico das finanas"})]}),l.jsx(fp,{defaultChecked:!0})]})]})]})]}),l.jsx(Wh,{value:"appearance",className:"space-y-6",children:l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(b2,{className:"w-5 h-5"}),"Tema e Aparncia"]})}),l.jsxs(Oe,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(se,{children:"Tema Padro"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx(Ie,{className:`cursor-pointer transition-all ${e==="light"?"ring-2 ring-primary":""}`,onClick:()=>r("light"),children:l.jsxs(Oe,{className:"p-4 text-center",children:[l.jsx("div",{className:"w-full h-16 bg-gradient-to-br from-white to-gray-100 rounded-md mb-3 border"}),l.jsx("p",{className:"font-medium",children:"Claro"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tema padro claro"})]})}),l.jsx(Ie,{className:`cursor-pointer transition-all ${e==="dark"?"ring-2 ring-primary":""}`,onClick:()=>r("dark"),children:l.jsxs(Oe,{className:"p-4 text-center",children:[l.jsx("div",{className:"w-full h-16 bg-gradient-to-br from-gray-900 to-black rounded-md mb-3 border"}),l.jsx("p",{className:"font-medium",children:"Escuro"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tema escuro profundo"})]})}),l.jsx(Ie,{className:"cursor-pointer transition-all opacity-50",children:l.jsxs(Oe,{className:"p-4 text-center",children:[l.jsx("div",{className:"w-full h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-md mb-3"}),l.jsx("p",{className:"font-medium",children:"Automtico"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Segue sistema"}),l.jsx(nt,{variant:"secondary",className:"mt-1",children:"Em breve"})]})})]})]}),l.jsx(_y,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(se,{children:"Densidade da Interface"}),l.jsxs(Je,{defaultValue:"normal",children:[l.jsx(Ye,{children:l.jsx(et,{placeholder:"Selecione a densidade"})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"compact",children:"Compacta"}),l.jsx(ge,{value:"normal",children:"Normal"}),l.jsx(ge,{value:"comfortable",children:"Confortvel"})]})]})]})]})]})}),l.jsx(Wh,{value:"categories",className:"space-y-6",children:l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(y2,{className:"w-5 h-5"}),"Gerenciar Categorias"]})}),l.jsxs(Oe,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[l.jsx(Be,{placeholder:"Nome da categoria",value:h.nome,onChange:U=>m({...h,nome:U.target.value})}),l.jsx("input",{type:"color",value:h.cor,onChange:U=>m({...h,cor:U.target.value}),className:"w-full h-10 rounded-md border border-input"}),l.jsxs(Je,{value:h.tipo,onValueChange:U=>m({...h,tipo:U}),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"receita",children:"Receita"}),l.jsx(ge,{value:"despesa",children:"Despesa"})]})]}),l.jsxs(le,{onClick:R,disabled:!h.nome,children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Adicionar"]})]}),l.jsx(_y,{}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-green-600 mb-3 flex items-center gap-2",children:[l.jsx(nd,{className:"w-4 h-4"}),"Receitas (",E.filter(U=>U.tipo==="receita").length,")"]}),l.jsx("div",{className:"space-y-2",children:E.filter(U=>U.tipo==="receita").map(U=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:U.cor}}),l.jsx("span",{children:U.nome})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{f(U),u(!0)},children:l.jsx(w2,{className:"w-4 h-4"})}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>$(U),children:l.jsx(Oc,{className:"w-4 h-4"})})]})]},U.id))})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-red-600 mb-3 flex items-center gap-2",children:[l.jsx(Gp,{className:"w-4 h-4"}),"Despesas (",E.filter(U=>U.tipo==="despesa").length,")"]}),l.jsx("div",{className:"space-y-2",children:E.filter(U=>U.tipo==="despesa").map(U=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:U.cor}}),l.jsx("span",{children:U.nome})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{f(U),u(!0)},children:l.jsx(w2,{className:"w-4 h-4"})}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>$(U),children:l.jsx(Oc,{className:"w-4 h-4"})})]})]},U.id))})]})]})})]})]})}),l.jsxs(Wh,{value:"goals",className:"space-y-6",children:[l.jsxs(Ie,{children:[l.jsx(vt,{children:l.jsxs(yt,{className:"flex items-center gap-2",children:[l.jsx(rd,{className:"w-5 h-5"}),"Metas por Categoria"]})}),l.jsx(Oe,{className:"space-y-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(U=>{const J=V(U.id);return l.jsx(Ie,{className:"relative",children:l.jsxs(Oe,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),l.jsx("span",{className:"font-medium",children:U.nome})]}),l.jsxs(nt,{variant:U.tipo==="receita"?"default":"destructive",children:[U.tipo==="receita"?l.jsx(nd,{className:"w-3 h-3 mr-1"}):l.jsx(Gp,{className:"w-3 h-3 mr-1"}),U.tipo]})]}),J?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Meta Mensal"}),l.jsx("span",{className:"font-semibold",children:L(J.monthlyGoal)})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"45%"}})}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"45% atingido"}),l.jsx("span",{children:"Este ms"})]})]}):l.jsxs(le,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{w(U),g(!0)},children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Definir Meta"]})]})},U.id)})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Ie,{children:l.jsxs(Oe,{className:"p-4 text-center",children:[l.jsx(rd,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),l.jsx("p",{className:"text-2xl font-bold",children:S.filter(U=>U.isActive).length}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Metas Ativas"})]})}),l.jsx(Ie,{children:l.jsxs(Oe,{className:"p-4 text-center",children:[l.jsx(nd,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),l.jsx("p",{className:"text-2xl font-bold",children:"73%"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa de Sucesso"})]})}),l.jsx(Ie,{children:l.jsxs(Oe,{className:"p-4 text-center",children:[l.jsx(fi,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),l.jsx("p",{className:"text-2xl font-bold",children:"R$ 2.450"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Economia Mdia"})]})})]})]})]})]})})})})}),l.jsx(ln,{open:c,onOpenChange:u,children:l.jsxs(Gr,{children:[l.jsx(Kr,{children:l.jsx(Qr,{children:"Editar Categoria"})}),d&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{children:"Nome"}),l.jsx(Be,{value:d.nome,onChange:U=>f({...d,nome:U.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{children:"Cor"}),l.jsx("input",{type:"color",value:d.cor,onChange:U=>f({...d,cor:U.target.value}),className:"w-full h-10 rounded-md border border-input"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{children:"Tipo"}),l.jsxs(Je,{value:d.tipo,onValueChange:U=>f({...d,tipo:U}),children:[l.jsx(Ye,{children:l.jsx(et,{})}),l.jsxs(Xe,{children:[l.jsx(ge,{value:"receita",children:"Receita"}),l.jsx(ge,{value:"despesa",children:"Despesa"})]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(le,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancelar"}),l.jsx(le,{onClick:O,className:"flex-1",children:"Salvar"})]})]})]})}),l.jsx(ln,{open:v,onOpenChange:g,children:l.jsxs(Gr,{children:[l.jsx(Kr,{children:l.jsx(Qr,{children:"Definir Meta Mensal"})}),y&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-3 bg-muted rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:y.cor}}),l.jsx("span",{className:"font-medium",children:y.nome}),l.jsx(nt,{variant:y.tipo==="receita"?"default":"destructive",children:y.tipo})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{children:"Valor da Meta Mensal"}),l.jsx(Be,{type:"number",placeholder:"0,00",value:x,onChange:U=>b(U.target.value)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:y.tipo==="receita"?"Meta de receita que deseja atingir mensalmente":"Limite mximo de despesas para esta categoria"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(le,{variant:"outline",onClick:()=>{g(!1),w(null),b("")},className:"flex-1",children:"Cancelar"}),l.jsx(le,{onClick:D,className:"flex-1",disabled:!x,children:"Criar Meta"})]})]})]})})]})}function j4e(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-muted",children:l.jsx(Ie,{className:"w-full max-w-md mx-4",children:l.jsxs(Oe,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(c6,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Did you forget to add the page to the router?"})]})})})}function A4e(){const{user:t}=Fr();return _.useEffect(()=>{t&&Co.setDefaultOptions({queries:{...Co.getDefaultOptions().queries,meta:{headers:{"user-id":t.uid}}},mutations:{...Co.getDefaultOptions().mutations,meta:{headers:{"user-id":t.uid}}}})},[t]),l.jsxs(IQ,{children:[l.jsx(Xs,{path:"/",component:Kle}),l.jsx(Xs,{path:"/banks",component:Yle}),l.jsx(Xs,{path:"/income",component:Efe}),l.jsx(Xs,{path:"/expenses",component:Nfe}),l.jsx(Xs,{path:"/credit-cards",component:Bfe}),l.jsx(Xs,{path:"/reports",component:f4e}),l.jsx(Xs,{path:"/settings",component:T4e}),l.jsx(Xs,{component:j4e})]})}function N4e(){const{user:t,loading:e}=Fr();return e?l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):t?l.jsx(A4e,{}):l.jsx(Use,{})}function C4e(){return l.jsx(XQ,{client:Co,children:l.jsx(Mse,{children:l.jsxs(kse,{children:[l.jsx(lae,{}),l.jsx(N4e,{})]})})})}MF(document.getElementById("root")).render(l.jsx(C4e,{}));
